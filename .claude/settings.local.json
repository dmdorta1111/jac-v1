{
  "permissions": {
    "allow": [
      "Bash(Get-ChildItem -Path \"G:\\SmartAssembly\" -Directory -ErrorAction SilentlyContinue)",
      "Bash(ForEach-Object {$_FullName})",
      "Bash(Sort-Object)",
      "Bash(Get-Date -UFormat \"%y%m%d\")",
      "Bash(Get-ChildItem -Path \"C:\\Users\\waveg\\VsCodeProjects\\jac-v1\\.claude\\plans\" -Recurse -Name)",
      "Skill(smartassembly)",
      "Bash(powershell -Command:*)",
      "Bash(dir \"G:\\SmartAssembly\\Library_New\\SA_PROD_L\\component_engine\\EMJAC\\WorkTables\\*GUI*.tab\" /B)",
      "SlashCommand(/plan:fast Replace suggestions in ClaudeChat.tsx with shadcn Button components that trigger a Dialog popup for sales order number input. When submitted, create project folder in corresponding product folder (SDI/EMJAC/HARMONIC) inside project-docs with \"Customer Drawings\" and \"ProE Models\" subfolders.\n\n## Context Summary\n- **Location**: `components/ClaudeChat.tsx` lines 59-63 (suggestions array), lines 446-455 (Suggestions render)\n- **UI Components Available**: \n  - `components/ui/button.tsx` - shadcn Button with variants and animations\n  - `components/ui/dialog.tsx` - Dialog with animated transitions\n  - `components/ui/input.tsx` - Input component\n- **Folder Structure**: `project-docs/` contains SDI, EMJAC, HARMONIC folders\n- **Existing API Pattern**: `app/api/generate-project-doc/route.ts` uses fs/promises\n\n## Requirements\n1. Replace `Suggestions` component with shadcn `Button` components\n2. Buttons styled with variant, animation on press (active:scale-[0.98] already in button)\n3. On button click: open Dialog with Input for sales order number\n4. On submit: call API to create folder structure\n5. Folder path: `project-docs/{productType}/{salesOrderNumber}/`\n6. Subfolders: \"Customer Drawings\", \"ProE Models\"\n7. Show success/error feedback\n\n## Files to Modify\n1. `components/ClaudeChat.tsx` - Replace suggestions UI, add dialog state\n2. `app/api/create-project-folder/route.ts` (NEW) - API endpoint\n\n## Product Type Mapping\n- \"SDI\" → SDI folder\n- \"EMJAC\" → EMJAC folder  \n- \"Harmonic\" → HARMONIC folder (case mismatch to handle))",
      "Bash(npx tsc:*)",
      "Skill(planning)",
      "Bash(npm run build:forms:*)",
      "Bash(npm run build:*)",
      "SlashCommand(/plan:fast In ClaudeChat.tsx, integrate the stepper component and modify the UI flow for project creation. Task involves 5 parts:\n\n## Part 1: Remove helperText from project-header.md\n- Location: `folder-creation-data/project-header.md`\n- Remove all `\"helperText\"` properties from each field in the JSON form spec (lines 20, 32, 44, 55)\n- The labels already provide enough context\n\n## Part 2: Header.tsx Desktop Metadata Alignment\n- Location: `components/header.tsx` lines 47-83\n- On desktop view (lg:), metadata h1 elements should:\n  - Start from left side, not centered\n  - Have more spacing between SO, Job, Customer sections (currently mx-4, increase to mx-6 or mx-8)\n  - Keep the flex-1 but ensure left-alignment with justify-start\n\n## Part 3: Import and Position Stepper in ClaudeChat.tsx\n- Import `defineStepper` from `@/components/ui/stepper`\n- Create a stepper definition with placeholder steps (will be dynamic later):\n  - Steps: \"Project Header\", \"Item Data\" (placeholder for future forms)\n- Position stepper vertically to the LEFT of the main chat area\n- Only between LeftSidebar and main chat content\n- Use `variant=\"vertical\"` orientation\n\n## Part 4: Conditional Display Logic\n- Add state `showStepper` (boolean, default false)\n- When project-header form is submitted successfully (in handleFormSubmit, after success):\n  - Set `showStepper` to true\n  - Remove/hide the form from chat messages (filter out message with formSpec or mark as submitted)\n- Stepper panel appears with slide-in animation from left\n\n## Part 5: Styling and Animations\n- Stepper container: \n  - Fixed width on lg+ screens (w-64 or similar)\n  - Hidden on mobile/tablet (hidden lg:flex)\n  - Border-right separator (border-r border-border)\n  - Proper spacing from LeftSidebar (gap already exists)\n- CircleStepIndicator content: dynamic based on item forms (for now hardcode 2 steps)\n- Add subtle entrance animation using Tailwind:\n  - animate-slide-in-left or custom: translate-x-[-100%] → translate-x-0\n  - transition-all duration-300 ease-out\n- Theme-consistent: use existing colors (foreground, muted-foreground, border, background, primary)\n\n## Files to Modify\n1. `folder-creation-data/project-header.md` - Remove helperText\n2. `components/header.tsx` - Desktop metadata alignment\n3. `components/ClaudeChat.tsx` - Stepper integration with conditional display\n\n## Current Structure Reference\n- ClaudeChat.tsx line 417: Main container with flex layout\n- Line 419-425: LeftSidebar component\n- Line 428-513: Main Chat Area\n- Stepper should go between lines 425 and 428)",
      "Bash(Get-Date -UFormat \"%y%m%d-%H%M\")",
      "Bash(del nul)",
      "Bash(git add:*)",
      "Bash(dir:*)",
      "Bash(git rm:*)",
      "Bash(git clean:*)",
      "Bash(git commit:*)",
      "SlashCommand(/plan:fast Create SmartAssembly script \"json_variable_creation.tab\" that:\n\n## Overview\nDetects JSON files in working directory, parses them 5 levels deep, and generates a temp.tab file with DECLARE_VARIABLE statements for each field.\n\n## Detailed Requirements\n\n### Main Script Structure (json_variable_creation.tab)\n1. BEGIN_ASM_DESCR header\n2. Declare all necessary variables (STRING, INTEGER, arrays)\n3. GET_WORKING_DIRECTORY to get current path\n4. READ_DIRECTORY to find all \"*.json\" files\n5. FOR each JSON file found:\n   - JSON_LOAD_DOCUMENT to load the file\n   - FILE_OPEN \"temp.tab\" \"w\" to create output file\n   - FILE_WRITE_LINE to write \"BEGIN_ASM_DESCR\" header\n   - Call recursive traversal logic (5 levels max)\n   - FILE_WRITE_LINE to write \"END_ASM_DESCR\" footer\n   - FILE_CLOSE to save temp.tab\n6. END_ASM_DESCR footer\n\n### JSON Traversal Logic (5 levels deep)\nFor each level (0-4):\n- JSON_GET_OBJECT_MEMBERS to get all members at current path\n- FOR each member:\n  - JSON_GET_TYPE to determine type\n  - If type is OBJECT or ARRAY: recurse deeper (if level < 4)\n  - If type is STRING/INTEGER/DOUBLE/BOOL:\n    - Extract field name from path\n    - Map JSON type → SA type: STRING→STRING, INTEGER→INTEGER, number→DOUBLE, BOOL→INTEGER\n    - JSON_GET_VALUE to get the value\n    - FILE_WRITE_LINE: \"DECLARE_VARIABLE {TYPE} {NAME} {VALUE}\"\n\n### Output Format (temp.tab)\n```\nBEGIN_ASM_DESCR\nDECLARE_VARIABLE STRING fieldName \"value\"\nDECLARE_VARIABLE INTEGER count 42\nDECLARE_VARIABLE DOUBLE price 19.99\nEND_ASM_DESCR\n```\n\n### Key Commands Reference (from chm-extracted docs)\n- FILE_OPEN \"path\" \"w\" fileHandle - Create/write file\n- FILE_WRITE_LINE fileHandle \"text\" - Write line\n- FILE_CLOSE fileHandle - Close file\n- READ_DIRECTORY \"path\" \"*.json\" arrayFiles - Find JSON files\n- GET_WORKING_DIRECTORY varPath - Get current dir\n- JSON_LOAD_DOCUMENT \"file\" docHandle - Load JSON\n- JSON_GET_TYPE docHandle \"path\" typeVar - Get value type\n- JSON_GET_VALUE docHandle \"path\" valueVar - Get value\n- JSON_GET_OBJECT_MEMBERS docHandle \"path\" arrayMembers - Get object keys\n- JSON_GET_ARRAY_ELEMS docHandle \"path\" arrayElems - Get array elements\n- JSON_COMPOSE_PATH \"root\" \"add\" fullPath - Build JSON paths\n\n### Error Handling\n- Wrap JSON operations in BEGIN_CATCH_ERROR blocks\n- Skip invalid files gracefully\n- Handle empty objects/arrays\n\n### File Location\nOutput to: SmartAssembly/ directory or lib: path)"
    ],
    "deny": [],
    "ask": []
  },
  "disableAllHooks": true
}
