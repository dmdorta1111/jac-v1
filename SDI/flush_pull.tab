BEGIN_GUI_DESCR

	IF FLUSH_PULL_MODEL == ""
		GLOBAL_PICTURE RO_94_PULLS.GIF
	END_IF
	IF FLUSH_PULL_MODEL == "94"
		GLOBAL_PICTURE RO-94.GIF
	END_IF
	IF FLUSH_PULL_MODEL == "94C"
		GLOBAL_PICTURE RO-94C.GIF
	END_IF

	USER_INPUT_PARAM DOUBLE FLUSH_PULL_CENTER
	USER_INPUT_PARAM DOUBLE FLUSH_PULL_BACKSET
	RADIOBUTTON_PARAM INTEGER FLUSH_PULL_SIDE "PUSH" "PULL (STD)" "BOTH"

END_GUI_DESCR

BEGIN_TAB_DESCR
BEGIN_TABLE	MANUFACTURER	"MANUFACTURER"
TABLE_OPTION 	DEPEND_ON_INPUT NO_FILTER
SEL_STRING	FLUSH_PULL_MANUFACTURER	S_TABLE
STRING	STRING	SUBTABLE
ROCKWOOOD	ROCKWOOD	ROCKWOOD_MODEL
END_TABLE

BEGIN_TABLE	ROCKWOOD_MODEL	"ROCKWOOD_MODEL"
TABLE_OPTION 	DEPEND_ON_INPUT NO_FILTER
SEL_STRING	FLUSH_PULL_MODEL	FLUSH_PULL_UDF	FLUSH_PULL_UDF_INST
STRING	STRING	STRING	STRING
94	94	ro_94.udf	NO_VALUE
94C	94C	ro_94c.udf	ro_94c_os
95A	95A	ro_95a.udf	NO_VALUE
END_TABLE

END_TAB_DESCR

BEGIN_ASM_DESCR

DECLARE_VARIABLE INTEGER 	OPERATION
DECLARE_VARIABLE STRING 	PROCESS_MESSAGE
DECLARE_VARIABLE STRING 	ITEM_NUM
DECLARE_VARIABLE STRING 	SUB_TYPE
DECLARE_VARIABLE INTEGER 	OPENING_TYPE
DECLARE_VARIABLE STRING 	DOOR_ITEM_DESC
DECLARE_VARIABLE INTEGER 	WELDED_PREPS

DECLARE_VARIABLE STRING	FLUSH_PULL_MANUFACTURER
DECLARE_VARIABLE STRING	FLUSH_PULL_MODEL ""
DECLARE_VARIABLE STRING 	FLUSH_PULL_UDF
DECLARE_VARIABLE STRING 	FLUSH_PULL_INST				
DECLARE_VARIABLE DOUBLE 	FLUSH_PULL_BACKSET
DECLARE_VARIABLE DOUBLE 	FLUSH_PULL_CENTER
DECLARE_VARIABLE INTEGER 	FLUSH_PULL_SIDE

DECLARE_REFERENCE FLUSH_PULL_1
DECLARE_REFERENCE FLUSH_PULL_2


PRINT "FLUSH_PULL_MODEL %" FLUSH_PULL_MODEL

IF OPERATION == 0
	CONFIG_ELEM
END_IF

IF OPERATION == 1

	! SEARCH_MDL_REF DOOR_ASM CSYS "ASM_DEF_CSYS" ATTACH1
	IF	HAND_ == "LHR" OR HAND_ == "LHR1" OR HAND_ == "LHRA1" OR HAND_ == "RH" OR HAND_ == "RH2" OR HAND_ == "RHA2"
		SEARCH_MDL_REF DOOR_ASM CSYS "ACS4" ATTACH_
	END_IF
	IF	HAND_ == "RHR" OR HAND_ == "RHR2" OR HAND_ == "RHRA2" OR	HAND_ == "LH" OR HAND_== "LH1" OR HAND_ == "LHA1"
		SEARCH_MDL_REF DOOR_ASM CSYS "ACS3" ATTACH_
	END_IF

	IF FLUSH_PULL_MANUFACTURER == "ROCKWOOD"
		CREATE_UDF udf\backset DOOR_ASM
		UDF_REF ATTACH1 ATTACH_
		UDF_DIM	STRIKE_CTR FLUSH_PULL_CENTER
		UDF_DIM	OFFSET 0
		UDF_DIM	BACKSET FLUSH_PULL_BACKSET		
		UDF_EXP_REF ATTACH CSYS 2
		END_CREATE_UDF
		
		IF DOOR_INDEX == 1
			SET_REF_NAME ATTACH "FLUSH_PULL_REF"
		END_IF

		IF DOOR_INDEX == 2
			SET_REF_NAME ATTACH "FLUSH_PULL_REF_2"
		END_IF
		
		IF FLUSH_PULL_SIDE == 0 AND FLUSH_PULL_MODEL == "94"
			SEARCH_MDL_REF COVER SURFACE "FIXED" FIXED
			CREATE_UDF udf\ro_94 COVER
			UDF_REF ATTACH1 ATTACH
			UDF_REF FIXED	FIXED
			UDF_EXP_REF ATTACH CSYS 4
			END_CREATE_UDF
		END_IF
		IF FLUSH_PULL_SIDE == 1 AND FLUSH_PULL_MODEL == "94"
			SEARCH_MDL_REF BODY SURFACE "FIXED" FIXED
			CREATE_UDF udf\ro_94 BODY
			UDF_REF ATTACH1 ATTACH
			UDF_REF FIXED	FIXED
			UDF_EXP_REF ATTACH CSYS 4
			END_CREATE_UDF
		END_IF
		
		IF FLUSH_PULL_SIDE == 0 AND FLUSH_PULL_MODEL == "94C" AND WELDED_PREPS == 0
			SEARCH_MDL_REF COVER SURFACE "FIXED" FIXED
			CREATE_UDF udf\ro_94c COVER
			UDF_REF ATTACH ATTACH
			UDF_REF FIXED	FIXED
			UDF_EXP_REF ATTACH CSYS 4
			END_CREATE_UDF
		END_IF
		IF FLUSH_PULL_SIDE == 1 AND FLUSH_PULL_MODEL == "94C" AND WELDED_PREPS == 0
			SEARCH_MDL_REF BODY SURFACE "FIXED" FIXED
			CREATE_UDF udf\ro_94c BODY
			UDF_REF ATTACH ATTACH
			UDF_REF FIXED	FIXED
			UDF_EXP_REF ATTACH CSYS 4
			END_CREATE_UDF
		END_IF
		
		IF FLUSH_PULL_SIDE == 0 AND FLUSH_PULL_MODEL == "94C" AND WELDED_PREPS == 1
			SEARCH_MDL_REF COVER SURFACE "FIXED" FIXED
			CREATE_UDF udf\ro_94c_w COVER
			UDF_REF ATTACH ATTACH
			UDF_REF FIXED	FIXED
			UDF_EXP_REF ATTACH CSYS 4
			END_CREATE_UDF
		END_IF
		IF FLUSH_PULL_SIDE == 1 AND FLUSH_PULL_MODEL == "94C" AND WELDED_PREPS == 1
			SEARCH_MDL_REF BODY SURFACE "FIXED" FIXED
			CREATE_UDF udf\ro_94c_w BODY
			UDF_REF ATTACH ATTACH
			UDF_REF FIXED	FIXED
			UDF_EXP_REF ATTACH CSYS 4
			END_CREATE_UDF
		END_IF
		
		IF FLUSH_PULL_SIDE == 2 AND FLUSH_PULL_MODEL == "95A" AND WELDED_PREPS == 0
			SEARCH_MDL_REF COVER SURFACE "FIXED" FIXED
			CREATE_UDF udf\ro_95a COVER
			UDF_REF ATTACH ATTACH
			UDF_REF FIXED	FIXED
			UDF_EXP_REF ATTACH CSYS 4
			END_CREATE_UDF
			
			SEARCH_MDL_REF BODY SURFACE "FIXED" FIXED
			CREATE_UDF udf\ro_95a BODY
			UDF_REF ATTACH ATTACH
			UDF_REF FIXED	FIXED
			UDF_EXP_REF ATTACH CSYS 4
			END_CREATE_UDF
		END_IF


		
		IF WELDED_PREPS == 0 AND FLUSH_PULL_MODEL == "94"
			RETRIEVE_MDL RO_94_REINF.PRT COMP
			
			SEARCH_MDL_REF COMP CSYS "PLACEMENT" PLACEMENT
				ASSEMBLE COMP DOOR_ASM
					 CSYS ATTACH PLACEMENT
				END_ASSEMBLE
		END_IF
			
		IF WELDED_PREPS == 1 AND FLUSH_PULL_MODEL == "94C"
			RETRIEVE_MDL RO_94C_BOX.PRT COMP
			
			SEARCH_MDL_REF COMP CSYS "PLACEMENT" PLACEMENT
				ASSEMBLE COMP DOOR_ASM
					 CSYS ATTACH PLACEMENT
				END_ASSEMBLE			
		END_IF
			
	END_IF
END_IF

END_ASM_DESCR

