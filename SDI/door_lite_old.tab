BEGIN_GUI_DESCR

SHOW_PARAM	STRING	ITEM_NUM
SHOW_PARAM	DOUBLE	JOW
SHOW_PARAM	DOUBLE	JOH
SHOW_PARAM	STRING	SUB_TYPE
SHOW_PARAM	STRING	HAND
SHOW_PARAM	STRING	DOOR_ELEVATION
SHOW_PARAM	DOUBLE	ACTIVE_LEAF

IF VISION_SHAPE_ == 1
	USER_INPUT_PARAM	DOUBLE	VISION_WIDTH
	USER_INPUT_PARAM	DOUBLE	VISION_HEIGHT
	USER_INPUT_PARAM	DOUBLE	VISION_TOP_RAIL
	USER_INPUT_PARAM	DOUBLE	VISION_BOTTOM_RAIL
END_IF

IF VISION_SHAPE_ == 0
	USER_INPUT_PARAM	DOUBLE	VISION_DIAMETER
	USER_INPUT_PARAM 	DOUBLE 	VISION_CENTER_TOP
	USER_INPUT_PARAM 	DOUBLE 	VISION_CENTER_BOTTOM
END_IF

IF DOOR_ELEVATION == "N"
	USER_INPUT_PARAM	DOUBLE	VISION_HINGE_STILE
	USER_INPUT_PARAM	DOUBLE	VISION_STRIKE_STILE
END_IF

USER_INPUT_PARAM	DOUBLE	GLASS_THICKNESS REQUIRED
USER_INPUT_PARAM	STRING	GLASS_TYPE

CHECKBOX_PARAM INTEGER CORNERS_ SEAMED WELDED
CHECKBOX_PARAM INTEGER INSTALATION_ LOOSE WELDED

IF SUB_TYPE == "P"
	RADIOBUTTON_PARAM INTEGER	DOOR_LITE	"ACTIVE" "INACTIVE" "BOTH"
END_IF

RADIOBUTTON_PARAM INTEGER DOOR_LITE_TRIM_TYPE_ "A (SQUARE)" "B (SLOPED)"  "C (STOPS)" "BSL3" "BSL4"

IF DOOR_LITE_TRIM_TYPE_ == 3 OR DOOR_LITE_TRIM_TYPE_ == 4
	RADIOBUTTON_PARAM INTEGER REM_STOP_SIDE "NONE" "INSIDE (UNSECURE)" "OUTSIDE (SECURE)"
END_IF

RADIOBUTTON_PARAM INTEGER VISION_SHAPE_ "ROUND" "SQUARE"
RADIOBUTTON_PARAM INTEGER GLASS_SUPPLIER_ "OTHERS" "SDI"
RADIOBUTTON_PARAM INTEGER GLASS_INSTALLER_ "OTHERS" "SDI"

IF SUB_TYPE == "S"
	DOOR_LITE = 2
END_IF

IF DOOR_ELEVATION == "G" AND SUB_TYPE == "S"
	VISION_HINGE_STILE = (JOW - VISION_WIDTH-STRIKE_GAP-HINGE_GAP)/2
	VISION_STRIKE_STILE = (JOW - VISION_WIDTH-STRIKE_GAP-HINGE_GAP)/2
END_IF

IF DOOR_LITE_TRIM_TYPE_ == 0
	DOOR_LITE_TRIM_TYPE = "A"
ELSE_IF DOOR_LITE_TRIM_TYPE_ == 1
	DOOR_LITE_TRIM_TYPE = "B"
ELSE_IF DOOR_LITE_TRIM_TYPE_ == 2
	DOOR_LITE_TRIM_TYPE = "C"
ELSE_IF DOOR_LITE_TRIM_TYPE_ == 3
	DOOR_LITE_TRIM_TYPE = "BSL3"
ELSE_IF DOOR_LITE_TRIM_TYPE_ == 4
	DOOR_LITE_TRIM_TYPE = "BSL4"
END_IF

IF VISION_SHAPE_ == 0
	VISION_SHAPE = "ROUND"
ELSE_IF VISION_SHAPE_ == 1
	VISION_SHAPE = "SQUARE"
END_IF

IF GLASS_SUPPLIER_ == 0
	GLASS_SUPPLIER = "OTHERS"
ELSE_IF GLASS_SUPPLIER_ == 1
	GLASS_SUPPLIER = "SD1"
END_IF

IF GLASS_INSTALLER_ == 0
	GLASS_INSTALLER = "OTHERS"
ELSE_IF GLASS_INSTALLER_ == 1
	GLASS_INSTALLER = "SD1"
END_IF

END_GUI_DESCR

BEGIN_ASM_DESCR

DECLARE_VARIABLE	STRING		VISION_CONSTRUCTION_A
DECLARE_VARIABLE	STRING		VISION_CONSTRUCTION_B
DECLARE_VARIABLE	DOUBLE		UNDERCUT
DECLARE_VARIABLE	DOUBLE		TOP_GAP
DECLARE_VARIABLE	DOUBLE		STIKE_GAP
DECLARE_VARIABLE	DOUBLE		HINGE_GAP
DECLARE_VARIABLE 	INTEGER 	VISION_SHAPE_
DECLARE_VARIABLE 	INTEGER 	GLASS_SUPPLIER_
DECLARE_VARIABLE 	INTEGER 	GLASS_INSTALLER_
DECLARE_VARIABLE 	INTEGER 	DOOR_LITE_TRIM_TYPE_
DECLARE_VARIABLE 	INTEGER 	REM_STOP_SIDE

IF VISION_SHAPE == "ROUND"
	VISION_SHAPE_ = 0
ELSE_IF VISION_SHAPE == "SQUARE"
	VISION_SHAPE_ = 1
END_IF

IF GLASS_SUPPLIER == "OTHERS"
	GLASS_SUPPLIER_ = 0
ELSE_IF GLASS_SUPPLIER == "SD1"
	GLASS_SUPPLIER_ = 1
END_IF

IF GLASS_INSTALLER == "OTHERS"
	GLASS_INSTALLER_ = 0
ELSE_IF GLASS_INSTALLER == "SD1"
	GLASS_INSTALLER_ = 1
END_IF

IF DOOR_LITE_TRIM_TYPE == "A"
	DOOR_LITE_TRIM_TYPE_ = 0
ELSE_IF DOOR_LITE_TRIM_TYPE == "B"
	DOOR_LITE_TRIM_TYPE_ = 1
ELSE_IF DOOR_LITE_TRIM_TYPE == "C"
	DOOR_LITE_TRIM_TYPE_ = 2
ELSE_IF DOOR_LITE_TRIM_TYPE == "BSL3"
	DOOR_LITE_TRIM_TYPE_ = 3
ELSE_IF DOOR_LITE_TRIM_TYPE == "BSL4"
	DOOR_LITE_TRIM_TYPE_ = 4
END_IF

IF FIRE_RATING > 0
	VISION_CONSTRUCTION_B == "WELDED"
END_IF

CONFIG_ELEM

IF DOOR_ELEVATION == "N"
	VISION_HINGE_STILE = (JOW - STRIKE_GAP - HINGE_GAP - VISION_WIDTH)/2
END_IF

IF VISION_TOP_RAIL < 1
	VISION_TOP_RAIL = JOH - TOP_GAP - UNDERCUT - VISION_BOTTOM_RAIL - VISION_HEIGHT
END_IF

IF VISION_BOTTOM_RAIL < 1
	VISION_BOTTOM_RAIL = JOH - TOP_GAP - UNDERCUT - VISION_TOP_RAIL - VISION_HEIGHT
END_IF

IF VISION_HEIGHT < 1
	VISION_HEIGHT = JOH - UNDERCUT - TOP_GAP - VISION_TOP_RAIL - VISION_BOTTOM_RAIL
END_IF

IF CORNERS_ == 0
	VISION_CONSTRUCTION_A = "SEAMED"
ELSE_IF CORNERS_ == 1
	VISION_CONSTRUCTION_A = "WELDED"
END_IF

IF INSTALATION_ == 0
	VISION_CONSTRUCTION_B = "LOOSE"
ELSE_IF INSTALATION_ == 1
	VISION_CONSTRUCTION_B = "WELDED"
END_IF

END_ASM_DESCR
