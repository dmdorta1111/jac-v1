BEGIN_ASM_DESCR


	SEARCH_MDL_REF DOOR_ASM CSYS "ASM_DEF_CSYS" ASM_CSYS
	DECLARE_VARIABLE DOUBLE LOCX

	! DECLARE_VARIABLE DOUBLE POCKET_DEPTH
	! DECLARE_VARIABLE DOUBLE TAPE_ALLOWANCE
	! DECLARE_VARIABLE DOUBLE GLASS_POSITION_OFFSET
	! DECLARE_VARIABLE DOUBLE MAX_VISION_FILLER
	! DECLARE_VARIABLE STRING  INST_S
	! DECLARE_VARIABLE STRING  INST_U
	! DECLARE_VARIABLE STRING  SECURE_INST
	! DECLARE_VARIABLE STRING  UNSECURE_INST
	! DECLARE_VARIABLE DOUBLE SECURE_OFFSET
	! DECLARE_VARIABLE DOUBLE UNSECURE_OFFSET
	! DECLARE_VARIABLE DOUBLE SIDE_POCKET_DEPTH
	! DECLARE_VARIABLE DOUBLE TB_POCKET_DEPTH
	
	IF HAND_ == "L*"
		LOCX = (DOOR_WIDTH/2) - VISION_STRIKE_STILE - (VISION_WIDTH/2)
	ELSE_IF HAND_ == "R*"
		LOCX = -(DOOR_WIDTH /2) + VISION_STRIKE_STILE + (VISION_WIDTH/2)
	END_IF
	
	! CALCULATE GLASS_POSITION_OFFSET USING STOP_SET_BACK AND MIN_STOP_WIDTH
	! DECLARE_VARIABLE DOUBLE MIN_STOP_WIDTH

	! SIDE_POCKET_DEPTH = 2.0
	! TB_POCKET_DEPTH = 3.0
	! TAPE_ALLOWANCE = .0625
	! GLASS_POSITION_OFFSET = 0
	! MAX_VISION_FILLER = 12.0
	! SECURE_OFFSET = .475
	! UNSECURE_OFFSET = 1.0
	VISION_WIDTH = 8
	VISION_HEIGHT = 30
	
	! IF STD_REV == "STD" AND REMOVABLE_SIDE == 1 !REMOVABLE SIDE SECURE, 0 = INSIDE (STD), 1 = OUTSIDE
		CREATE_UDF udf\csys DOOR_ASM
			UDF_REF ATTACH ASM_CSYS
			UDF_DIM	ROTX 0
			UDF_DIM	ROTY 180
			UDF_DIM	ROTZ 0
			UDF_DIM	LOCX LOCX
			UDF_DIM	LOCY VISION_BOTTOM_RAIL + (VISION_HEIGHT/2) + UNDERCUT
			UDF_DIM	LOCZ 0
			UDF_EXP_REF ATTACH CSYS 0
		END_CREATE_UDF

		SEARCH_MDL_REF BODY SURFACE "FIXED" FIXED
		CREATE_UDF C:\000_SDI\M1-1\m1-1_body BODY
			UDF_REF ATTACH ATTACH
			UDF_REF FIXED FIXED
		END_CREATE_UDF

		SEARCH_MDL_REF COVER SURFACE "FIXED" FIXED
		CREATE_UDF C:\000_SDI\M1-1\m1-1_cover COVER
			UDF_REF ATTACH ATTACH
			UDF_REF FIXED FIXED
		END_CREATE_UDF
	! END_IF

	! IF  STD_REV == "STD" AND REMOVABLE_SIDE == 0 !REMOVABLE SIDE SECURE, 0 = INSIDE (STD), 1 = OUTSIDE
		! CREATE_UDF udf\csys DOOR_ASM
			! UDF_REF ATTACH ASM_CSYS
			! UDF_DIM	ROTX 0
			! UDF_DIM	ROTY 0
			! UDF_DIM	ROTZ 0
			! UDF_DIM	LOCX LOCX
			! UDF_DIM	LOCY VISION_BOTTOM_RAIL + (VISION_HEIGHT/2) + UNDERCUT
			! UDF_DIM	LOCZ 0
			! UDF_EXP_REF ATTACH CSYS 0
		! END_CREATE_UDF

		! SEARCH_MDL_REF COVER SURFACE "FIXED" FIXED
		! CREATE_UDF udf\m2 COVER
			! UDF_REF ATTACH ATTACH
			! UDF_REF FIXED FIXED
			! UDF_DIM	WIDTH VISION_WIDTH+(SIDE_POCKET_DEPTH*2)+(SM_THICK*2)
			! UDF_DIM	HEIGHT VISION_HEIGHT+(TB_POCKET_DEPTH*2)+(SM_THICK*2)
			! UDF_DIM RECESS SECURE_OFFSET
			! UDF_DIM	SIDE_POCKET_DEPTH SIDE_POCKET_DEPTH
			! UDF_DIM	TB_POCKET_DEPTH TB_POCKET_DEPTH
			! UDF_DIM	FILLER 2.0
		! END_CREATE_UDF

		! SEARCH_MDL_REF BODY SURFACE "FIXED" FIXED
		! CREATE_UDF udf\m2 BODY
			! UDF_REF ATTACH ATTACH
			! UDF_REF FIXED FIXED
			! UDF_DIM	WIDTH VISION_WIDTH+(SIDE_POCKET_DEPTH*2)+(SM_THICK*2)
			! UDF_DIM	HEIGHT VISION_HEIGHT+(TB_POCKET_DEPTH*2)+(SM_THICK*2)
			! UDF_DIM RECESS UNSECURE_OFFSET
			! UDF_DIM	SIDE_POCKET_DEPTH SIDE_POCKET_DEPTH
			! UDF_DIM	TB_POCKET_DEPTH TB_POCKET_DEPTH
			! UDF_DIM	FILLER 2.0
		! END_CREATE_UDF
	! END_IF

	! IF STD_REV == "REV" AND REMOVABLE_SIDE == 0 !REMOVABLE SIDE SECURE, 0 = INSIDE (STD), 1 = OUTSIDE
		! CREATE_UDF udf\csys DOOR_ASM
			! UDF_REF ATTACH ASM_CSYS
			! UDF_DIM	ROTX 0
			! UDF_DIM	ROTY 0
			! UDF_DIM	ROTZ 0
			! UDF_DIM	LOCX LOCX
			! UDF_DIM	LOCY VISION_BOTTOM_RAIL + (VISION_HEIGHT/2) + UNDERCUT
			! UDF_DIM	LOCZ 0
			! UDF_EXP_REF ATTACH CSYS 0
		! END_CREATE_UDF

		! SEARCH_MDL_REF BODY SURFACE "FIXED" FIXED
		! CREATE_UDF udf\m2 BODY
			! UDF_REF ATTACH ATTACH
			! UDF_REF FIXED FIXED
			! UDF_DIM	WIDTH VISION_WIDTH+(SIDE_POCKET_DEPTH*2)+(SM_THICK*2)
			! UDF_DIM	HEIGHT VISION_HEIGHT+(TB_POCKET_DEPTH*2)+(SM_THICK*2)
			! UDF_DIM RECESS SECURE_OFFSET
			! UDF_DIM	SIDE_POCKET_DEPTH SIDE_POCKET_DEPTH
			! UDF_DIM	TB_POCKET_DEPTH TB_POCKET_DEPTH
			! UDF_DIM	FILLER 2.0
		! END_CREATE_UDF

		! SEARCH_MDL_REF COVER SURFACE "FIXED" FIXED
		! CREATE_UDF udf\m2 COVER
			! UDF_REF ATTACH ATTACH
			! UDF_REF FIXED FIXED
			! UDF_DIM	WIDTH VISION_WIDTH+(SIDE_POCKET_DEPTH*2)+(SM_THICK*2)
			! UDF_DIM	HEIGHT VISION_HEIGHT+(TB_POCKET_DEPTH*2)+(SM_THICK*2)
			! UDF_DIM RECESS UNSECURE_OFFSET
			! UDF_DIM	SIDE_POCKET_DEPTH SIDE_POCKET_DEPTH
			! UDF_DIM	TB_POCKET_DEPTH TB_POCKET_DEPTH
			! UDF_DIM	FILLER 2.0
		! END_CREATE_UDF
	! END_IF

	! IF STD_REV == "REV" AND REMOVABLE_SIDE == 1 !REMOVABLE SIDE SECURE, 0 = INSIDE (STD), 1 = OUTSIDE
		! CREATE_UDF udf\csys DOOR_ASM
			! UDF_REF ATTACH ASM_CSYS
			! UDF_DIM	ROTX 0
			! UDF_DIM	ROTY 180
			! UDF_DIM	ROTZ 0
			! UDF_DIM	LOCX LOCX
			! UDF_DIM	LOCY VISION_BOTTOM_RAIL + (VISION_HEIGHT/2) + UNDERCUT
			! UDF_DIM	LOCZ 0
			! UDF_EXP_REF ATTACH CSYS 0
		! END_CREATE_UDF

		! SEARCH_MDL_REF COVER SURFACE "FIXED" FIXED
		! CREATE_UDF udf\m2 COVER
			! UDF_REF ATTACH ATTACH
			! UDF_REF FIXED FIXED
			! UDF_DIM	WIDTH VISION_WIDTH+(SIDE_POCKET_DEPTH*2)+(SM_THICK*2)
			! UDF_DIM	HEIGHT VISION_HEIGHT+(TB_POCKET_DEPTH*2)+(SM_THICK*2)
			! UDF_DIM RECESS SECURE_OFFSET
			! UDF_DIM	SIDE_POCKET_DEPTH SIDE_POCKET_DEPTH
			! UDF_DIM	TB_POCKET_DEPTH TB_POCKET_DEPTH
			! UDF_DIM	FILLER 2.0
		! END_CREATE_UDF

		! SEARCH_MDL_REF BODY SURFACE "FIXED" FIXED
		! CREATE_UDF udf\m2 BODY
			! UDF_REF ATTACH ATTACH
			! UDF_REF FIXED FIXED
			! UDF_DIM	WIDTH VISION_WIDTH+(SIDE_POCKET_DEPTH*2)+(SM_THICK*2)
			! UDF_DIM	HEIGHT VISION_HEIGHT+(TB_POCKET_DEPTH*2)+(SM_THICK*2)
			! UDF_DIM RECESS UNSECURE_OFFSET
			! UDF_DIM	SIDE_POCKET_DEPTH SIDE_POCKET_DEPTH
			! UDF_DIM	TB_POCKET_DEPTH TB_POCKET_DEPTH
			! UDF_DIM	FILLER 2.0
		! END_CREATE_UDF
	! END_IF
	
	DECLARE_VARIABLE STRING  LITE_MODEL

	LITE_MODEL = "M1-1_"+HAND+".ASM"
	
	RETRIEVE_MDL &LITE_MODEL LITE
	SEARCH_MDL_REF LITE CSYS "PLACEMENT" PLACEMENT
		ASSEMBLE LITE DOOR_ASM
			CSYS ATTACH PLACEMENT
		END_ASSEMBLE

	REGEN_MDL ASSEM

END_ASM_DESCR
