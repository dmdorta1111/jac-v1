BEGIN_ASM_DESCR

DECLARE_VARIABLE INTEGER SNAP_LINES 1
DECLARE_VARIABLE 	DOUBLE		SECT_SCALE
DECLARE_VARIABLE DOUBLE Scale 

	Scale = .5/12
	DR_SCALE = "NO SCALE"

	IF 4.0/OA_WIDTH < 6/OA_HEIGHT
		Scale = 4.0/OA_WIDTH
		XCTR = 5.0
		YCTR = ((OA_HEIGHT*SCALE)/2)+1.8125
	ELSE
		Scale = 6/OA_HEIGHT
		XCTR = 5.0
		YCTR = 3+1.8125
	END_IF	

	IF FRAME_ELEVATION == 32
		Scale = .05
		YCTR = 5.25
	END_IF
	
	! IF 4.75/OA_WIDTH < 6/OA_HEIGHT
		! XCTR = 4.875
		! IF OPENING_TYPE == 4
			! YCTR = 5.0
			! Scale = .75/12
			! ! Scale = 4.75/OA_WIDTH
		! ELSE
			! YCTR = ((OA_HEIGHT*SCALE)/2)+1.8125
			! Scale = 4.75/OA_WIDTH
		! END_IF
	! ELSE
		! XCTR = 4.875
		! IF OPENING_TYPE == 4
			! YCTR = 5.0
			! Scale = .75/12
		! ELSE
			! YCTR = 3+1.8125
			! Scale = 6/OA_HEIGHT
		! END_IF
	! END_IF	

	SNAPX = .5/Scale
	SNAPY = .3125/Scale
		
	IF HAND == "LH" OR HAND == "LHR"
		VIEW_POS = XCTR
	ELSE_IF HAND == "RH" OR HAND == "RHR"
		VIEW_POS = XCTR				
	ELSE_IF STD_REV == "STD"
		VIEW_POS = XCTR
	ELSE_IF STD_REV == "REV"
		VIEW_POS = XCTR
	ELSE
		VIEW_POS = XCTR
	END_IF

	SET_MDL_PARAM ASSEM "DR_SCALE" DR_SCALE

	SET_CONFIG_OPTION "create_fraction_dim" "yes"
	SET_CONFIG_OPTION "dim_fraction_denominator" "64"
	
	IF CUSTOMER_NAME == "HMF*"
		CREATE_DRW	ASSEM lib:hmf_b_template.drw refDrawing
	ELSE
		CREATE_DRW	ASSEM lib:sdi_b_template.drw refDrawing
	END_IF
	CREATE_DRW_TABLE refDrawing ASSEM 1 .5625 10.4375 "lib:heading.tbl" HEADING
	SET_DRW_TABLE_TEXT refDrawing heading 2 1 ITEM_NUM
	SET_DRW_TABLE_FORMAT refDrawing HEADING 2 1 HEIGHT .09
	SET_DRW_TABLE_TEXT refDrawing heading 2 2 itos(QTY)
	SET_DRW_TABLE_FORMAT refDrawing HEADING 2 2 HEIGHT .09
	SET_DRW_TABLE_TEXT refDrawing heading 2 3 HAND
	SET_DRW_TABLE_FORMAT refDrawing HEADING 2 3 HEIGHT .09
	SET_DRW_TABLE_TEXT refDrawing heading 2 4 itos(FIRE_RATING)
	SET_DRW_TABLE_FORMAT refDrawing HEADING 2 4 HEIGHT .09

	DECLARE_STRUCT	DRAWING_OPTIONS options
	GET_DRW_OPTIONS refDrawing options
		options.drawing_text_height = .08
		options.text_thickness = .01
	SET_DRW_OPTIONS refDrawing options

	SET_DRW_SCALE refDrawing 1 NULL Scale

	IF HARDWARE_SCHEDULE_ID <> ""
		ADD_DRW_TABLE_COL refDrawing HEADING 4 NEWCOL
		SET_DRW_TABLE_TEXT refDrawing HEADING 1 NEWCOL "HDWE"
		SET_DRW_TABLE_TEXT refDrawing HEADING 2 NEWCOL HARDWARE_SCHEDULE_ID
		SET_DRW_TABLE_FORMAT refDrawing HEADING 1 NEWCOL HEIGHT .09 HORIZONTAL CENTER VERTICAL MIDDLE
		SET_DRW_TABLE_FORMAT refDrawing HEADING 2 NEWCOL HEIGHT .09 HORIZONTAL CENTER VERTICAL MIDDLE
	END_IF

	ADD_DRW_TABLE_COL refDrawing HEADING 8 NEWCOL
	SET_DRW_TABLE_TEXT refDrawing HEADING 1 NEWCOL "MFG LOC'S"
	SET_DRW_TABLE_TEXT refDrawing HEADING 2 NEWCOL MANUFACTURERS_LOCATIONS
	SET_DRW_TABLE_FORMAT refDrawing HEADING 1 NEWCOL HEIGHT .09 HORIZONTAL CENTER VERTICAL MIDDLE
	SET_DRW_TABLE_FORMAT refDrawing HEADING 2 NEWCOL HEIGHT .09 HORIZONTAL CENTER VERTICAL MIDDLE

	IF OPENING_TYPE == 1 OR OPENING_TYPE == 3 !DOOR_ITEM_DESC == "DOOR"
			TEMPD = 1/DENOMENATOR
			TEMPN = ROUND((DOOR_THICKNESS / TEMPD),0)
			NUMBER = FLOOR(TEMPN / DENOMENATOR)
			TEMPN = TEMPN - (NUMBER*DENOMENATOR)
			TEMPD = DENOMENATOR
			WHILE MOD(TEMPN,2) == 0 AND MOD(TEMPD,2) == 0
				TEMPN = TEMPN/2
				TEMPD = TEMPD/2
			END_WHILE

			IF NUMBER > 0
				FRACTION = itos(NUMBER) +" "+ftos(TEMPN,0)+"/"+ftos(TEMPD,0)+"\""
			ELSE
				FRACTION = ftos(TEMPN,0)+"/"+ftos(TEMPD,0)+"\""
			END_IF

		ADD_DRW_TABLE_COL refDrawing HEADING 4 NEWCOL
		SET_DRW_TABLE_TEXT refDrawing HEADING 1 NEWCOL "THICK"
		
		IF DOOR_THICKNESS == 2
			SET_DRW_TABLE_TEXT refDrawing HEADING 2 NEWCOL "2"
		ELSE
			SET_DRW_TABLE_TEXT refDrawing HEADING 2 NEWCOL FRACTION
		END_IF
		
		SET_DRW_TABLE_FORMAT refDrawing HEADING 1 NEWCOL HEIGHT .09 HORIZONTAL CENTER VERTICAL MIDDLE
		SET_DRW_TABLE_FORMAT refDrawing HEADING 2 NEWCOL HEIGHT .09 HORIZONTAL CENTER VERTICAL MIDDLE

			DECLARE_VARIABLE STRING FINISH
			IF BODY_SIDE_FINISH == COVER_SIDE_FINISH
				FINISH = "#"+BODY_SIDE_FINISH
			ELSE
				FINISH = "#" + BODY_SIDE_FINISH + " / #" + COVER_SIDE_FINISH
			END_IF

		ADD_DRW_TABLE_COL refDrawing HEADING 14 NEWCOL
		SET_DRW_TABLE_TEXT refDrawing HEADING 1 NEWCOL "DOOR MATL"
		SET_DRW_TABLE_TEXT refDrawing HEADING 2 NEWCOL itos(DOOR_GAUGE) +"GA  " + MAT_TYPE + "  T" + DOOR_GRADE +"  " + FINISH
		SET_DRW_TABLE_FORMAT refDrawing HEADING 1 NEWCOL HEIGHT .09 HORIZONTAL CENTER VERTICAL MIDDLE
		SET_DRW_TABLE_FORMAT refDrawing HEADING 2 NEWCOL HEIGHT .09 HORIZONTAL CENTER VERTICAL MIDDLE

		ADD_DRW_TABLE_COL refDrawing HEADING 8 NEWCOL
		SET_DRW_TABLE_TEXT refDrawing HEADING 1 NEWCOL "CONST"
		SET_DRW_TABLE_TEXT refDrawing HEADING 2 NEWCOL DOOR_CONSTRUCTION
		SET_DRW_TABLE_FORMAT refDrawing HEADING 1 NEWCOL HEIGHT .09 HORIZONTAL CENTER VERTICAL MIDDLE
		SET_DRW_TABLE_FORMAT refDrawing HEADING 2 NEWCOL HEIGHT .09 HORIZONTAL CENTER VERTICAL MIDDLE

		ADD_DRW_TABLE_COL refDrawing HEADING 8 NEWCOL
		SET_DRW_TABLE_TEXT refDrawing HEADING 1 NEWCOL "EDGES"
		IF HINGE_EDGE_SHAPE == "BEVEL" AND STRIKE_EDGE_SHAPE == "BEVEL"
			SET_DRW_TABLE_TEXT refDrawing HEADING 2 NEWCOL STRIKE_EDGE_SHAPE
		ELSE_IF HINGE_EDGE_SHAPE == "SQUARE" AND STRIKE_EDGE_SHAPE == "BEVEL"
			SET_DRW_TABLE_TEXT refDrawing HEADING 2 NEWCOL "SQ/BEVEL"
		ELSE_IF HINGE_EDGE_SHAPE == "BEVEL" AND STRIKE_EDGE_SHAPE == "SQUARE"
			SET_DRW_TABLE_TEXT refDrawing HEADING 2 NEWCOL "BEVEL/SQ"
		ELSE
			SET_DRW_TABLE_TEXT refDrawing HEADING 2 NEWCOL STRIKE_EDGE_SHAPE		
		END_IF
		SET_DRW_TABLE_FORMAT refDrawing HEADING 1 NEWCOL HEIGHT .09 HORIZONTAL CENTER VERTICAL MIDDLE
		SET_DRW_TABLE_FORMAT refDrawing HEADING 2 NEWCOL HEIGHT .09 HORIZONTAL CENTER VERTICAL MIDDLE

		ADD_DRW_TABLE_COL refDrawing HEADING 12 NEWCOL
		SET_DRW_TABLE_TEXT refDrawing HEADING 1 NEWCOL "CORE"
		SET_DRW_TABLE_TEXT refDrawing HEADING 2 NEWCOL CORE_DESC
		SET_DRW_TABLE_FORMAT refDrawing HEADING 1 NEWCOL HEIGHT .09 HORIZONTAL CENTER VERTICAL MIDDLE
		SET_DRW_TABLE_FORMAT refDrawing HEADING 2 NEWCOL HEIGHT .09 HORIZONTAL CENTER VERTICAL MIDDLE

		ADD_DRW_TABLE_COL refDrawing HEADING 8 NEWCOL
		SET_DRW_TABLE_TEXT refDrawing HEADING 1 NEWCOL "DR TOP"
		SET_DRW_TABLE_TEXT refDrawing HEADING 2 NEWCOL TOP_EDGE
		SET_DRW_TABLE_FORMAT refDrawing HEADING 1 NEWCOL HEIGHT .09 HORIZONTAL CENTER VERTICAL MIDDLE
		SET_DRW_TABLE_FORMAT refDrawing HEADING 2 NEWCOL HEIGHT .09 HORIZONTAL CENTER VERTICAL MIDDLE

		ADD_DRW_TABLE_COL refDrawing HEADING 8 NEWCOL
		SET_DRW_TABLE_TEXT refDrawing HEADING 1 NEWCOL "DR BOT"
		SET_DRW_TABLE_TEXT refDrawing HEADING 2 NEWCOL BOTTOM_EDGE
		SET_DRW_TABLE_FORMAT refDrawing HEADING 1 NEWCOL HEIGHT .09 HORIZONTAL CENTER VERTICAL MIDDLE
		SET_DRW_TABLE_FORMAT refDrawing HEADING 2 NEWCOL HEIGHT .09 HORIZONTAL CENTER VERTICAL MIDDLE

		IF SILL_CODE <> ""
			ADD_DRW_TABLE_COL refDrawing HEADING 4 NEWCOL
			SET_DRW_TABLE_TEXT refDrawing HEADING 1 NEWCOL "SILL"
			SET_DRW_TABLE_TEXT refDrawing HEADING 2 NEWCOL SILL_CODE
			SET_DRW_TABLE_FORMAT refDrawing HEADING 1 NEWCOL HEIGHT .09 HORIZONTAL CENTER VERTICAL MIDDLE
			SET_DRW_TABLE_FORMAT refDrawing HEADING 2 NEWCOL HEIGHT .09 HORIZONTAL CENTER VERTICAL MIDDLE
		END_IF
		
		IF HARDWARE_SCHEDULE_ID <> ""
			ADD_DRW_TABLE_COL refDrawing HEADING 4 NEWCOL
			SET_DRW_TABLE_TEXT refDrawing HEADING 1 NEWCOL "HDWE"
			SET_DRW_TABLE_TEXT refDrawing HEADING 2 NEWCOL &HARDWARE_SCHEDULE_ID
			SET_DRW_TABLE_FORMAT refDrawing HEADING 1 NEWCOL HEIGHT .09 HORIZONTAL CENTER VERTICAL MIDDLE
			SET_DRW_TABLE_FORMAT refDrawing HEADING 2 NEWCOL HEIGHT .09 HORIZONTAL CENTER VERTICAL MIDDLE
		END_IF
	END_IF

	IF OPENING_TYPE == 2 OR OPENING_TYPE == 3 OR OPENING_TYPE == 4 !FRAME_ITEM_DESC == "FRAME"
		ADD_DRW_TABLE_COL refDrawing HEADING 14 NEWCOL
		SET_DRW_TABLE_TEXT refDrawing HEADING 1 NEWCOL "FRAME MATL"
		SET_DRW_TABLE_TEXT refDrawing HEADING 2 NEWCOL itos(FRAME_GAUGE) + "GA  "+MAT_TYPE + "  T" + FRAME_GRADE + " #" + FRAME_FINISH
		SET_DRW_TABLE_FORMAT refDrawing HEADING 1 NEWCOL HEIGHT .09 HORIZONTAL CENTER VERTICAL MIDDLE
		SET_DRW_TABLE_FORMAT refDrawing HEADING 2 NEWCOL HEIGHT .09 HORIZONTAL CENTER VERTICAL MIDDLE

		ADD_DRW_TABLE_COL refDrawing HEADING 10 NEWCOL
		SET_DRW_TABLE_TEXT refDrawing HEADING 1 NEWCOL "FR CONST"
		SET_DRW_TABLE_TEXT refDrawing HEADING 2 NEWCOL FRAME_CONSTRUCTION
		SET_DRW_TABLE_FORMAT refDrawing HEADING 1 NEWCOL HEIGHT .09 HORIZONTAL CENTER VERTICAL MIDDLE
		SET_DRW_TABLE_FORMAT refDrawing HEADING 2 NEWCOL HEIGHT .09 HORIZONTAL CENTER VERTICAL MIDDLE

		ADD_DRW_TABLE_COL refDrawing HEADING 8 NEWCOL
		SET_DRW_TABLE_TEXT refDrawing HEADING 1 NEWCOL "HD GRAIN"
		IF FRAME_FINISH == "8"
			SET_DRW_TABLE_TEXT refDrawing HEADING 2 NEWCOL "MF"
		ELSE
			SET_DRW_TABLE_TEXT refDrawing HEADING 2 NEWCOL HEAD_GRAIN
		END_IF
		SET_DRW_TABLE_FORMAT refDrawing HEADING 1 NEWCOL HEIGHT .09 HORIZONTAL CENTER VERTICAL MIDDLE
		SET_DRW_TABLE_FORMAT refDrawing HEADING 2 NEWCOL HEIGHT .09 HORIZONTAL CENTER VERTICAL MIDDLE
	END_IF

	IF SUB_TAGS <> ""
		GET_DRW_TABLE_OUTLINE refDrawing HEADING x1 y1 x2 y2
		CREATE_DRW_TABLE refDrawing NULL 1 x1 y2  "lib:tags.tbl" TAGS
		DECLARE_VARIABLE STRING TEXT
		DECLARE_VARIABLE INTEGER TEXT_LEN
		DECLARE_VARIABLE STRING VALUE1 ""
		DECLARE_VARIABLE STRING VALUE2 ""
		DECLARE_VARIABLE INTEGER TEXT_INDEX
		DECLARE_VARIABLE INTEGER TAG_INDEX
		DECLARE_VARIABLE INTEGER NEW_ROW
		TAG_INDEX = 1
		TEXT_INDEX = 0
		TEXT_LEN = strlen(SUB_TAGS)
		WHILE TEXT_INDEX < TEXT_LEN AND TEXT_INDEX < TEXT_LEN
			VALUE1 = ""
			WHILE strmid(SUB_TAGS, TEXT_INDEX,1) <> "^" AND TEXT_INDEX <= TEXT_LEN
				VALUE1 = VALUE1+strmid(SUB_TAGS, TEXT_INDEX,1)
				TEXT_INDEX++
			END_WHILE
			SET_DRW_TABLE_TEXT refDrawing TAGS TAG_INDEX 1 VALUE1
			SET_DRW_TABLE_FORMAT refDrawing TAGS TAG_INDEX 1 HEIGHT .09 HORIZONTAL CENTER VERTICAL MIDDLE
			TEXT_INDEX++
			VALUE1 = ""
			WHILE strmid(SUB_TAGS, TEXT_INDEX,1) <> "^" AND TEXT_INDEX <= TEXT_LEN
				VALUE1 = VALUE1+strmid(SUB_TAGS, TEXT_INDEX,1)
				TEXT_INDEX++
			END_WHILE
			SET_DRW_TABLE_TEXT refDrawing TAGS TAG_INDEX 2 VALUE1
			SET_DRW_TABLE_FORMAT refDrawing TAGS TAG_INDEX 2 HEIGHT .09 HORIZONTAL CENTER VERTICAL MIDDLE
			TEXT_INDEX++
			IF TEXT_LEN > TEXT_INDEX
				ADD_DRW_TABLE_ROW refDrawing TAGS 1 NEWROW
			END_IF
			TAG_INDEX++
		END_WHILE
	END_IF	

	CREATE_DRW_TABLE refDrawing ASSEM 1 14.03125 10.4375 "lib:Drwhistory.tbl" HIST

	HISTORY_INDEX = 2
	TEXT_INDEX = 0
	TEXT_LEN = strlen(HISTORY)
		WHILE TEXT_INDEX < TEXT_LEN
			VALUE1 = ""
			VALUE2 = ""
			VALUE3 = ""
			WHILE strmid(HISTORY, TEXT_INDEX,1) <> "^" AND TEXT_INDEX <= TEXT_LEN
				VALUE1 = VALUE1+strmid(HISTORY, TEXT_INDEX,1)
				TEXT_INDEX++
			END_WHILE
			TEXT_INDEX++
			WHILE strmid(HISTORY, TEXT_INDEX,1) <> "^" AND TEXT_INDEX <= TEXT_LEN
				VALUE2 = VALUE2+strmid(HISTORY, TEXT_INDEX,1)
				TEXT_INDEX++
			END_WHILE
			TEXT_INDEX++
			WHILE strmid(HISTORY, TEXT_INDEX,1) <> "^" AND TEXT_INDEX <= TEXT_LEN
				VALUE3 = VALUE3+strmid(HISTORY, TEXT_INDEX,1)
				TEXT_INDEX++
			END_WHILE
				TEXT_INDEX++
			INSERT_DRW_TABLE_ROW refDrawing HIST HISTORY_INDEX .465 ROW_ID
			SET_DRW_TABLE_TEXT refDrawing HIST HISTORY_INDEX + 1 1 VALUE1
			SET_DRW_TABLE_FORMAT refDrawing HIST HISTORY_INDEX + 1 1 HEIGHT .09 HORIZONTAL CENTER VERTICAL MIDDLE
			SET_DRW_TABLE_TEXT refDrawing HIST HISTORY_INDEX + 1 2 VALUE2
			SET_DRW_TABLE_FORMAT refDrawing HIST HISTORY_INDEX + 1 2 HEIGHT .09 HORIZONTAL CENTER VERTICAL MIDDLE
			SET_DRW_TABLE_TEXT refDrawing HIST HISTORY_INDEX + 1 3 VALUE3
			SET_DRW_TABLE_FORMAT refDrawing HIST HISTORY_INDEX + 1 3 HEIGHT .09 HORIZONTAL CENTER VERTICAL MIDDLE

			HISTORY_INDEX++
		END_WHILE

		IF OPENING_TYPE == 2 OR OPENING_TYPE == 3 OR OPENING_TYPE == 4 !FRAME_ITEM_DESC == "FRAME"
			SEARCH_MDL_REF ASSEM COMPONENT "FRAME_ASM_*" FRAME_ASM
		END_IF

		IF OPENING_TYPE == 1 OR OPENING_TYPE == 3  !DOOR_ITEM_DESC == "DOOR"
			SEARCH_MDL_REF ASSEM COMPONENT "DOOR_ASM_1*" DOOR_ASM1
		END_IF

		IF SUB_TYPE == "P" AND (OPENING_TYPE == 1 OR OPENING_TYPE == 3) !DOOR_ITEM_DESC == "DOOR"
			SEARCH_MDL_REF ASSEM COMPONENT "DOOR_ASM_2*" DOOR_ASM2
		END_IF

	IF CHOICE == 5		
		IF OPENING_TYPE == 2 OR OPENING_TYPE == 3  OR OPENING_TYPE == 4!FRAME_ITEM_DESC == "FRAME"
			! SEARCH_MDL_REF ASSEM COMPONENT "FRAME_ASM_*" FRAME_ASM
			CREATE_DRW_TABLE refDrawing FRAME_ASM 1 TBLX TBLY "lib:subasm.tbl" FRAME
			GET_MDL_NAME FRAME_ASM FR_NAME
			SET_DRW_TABLE_TEXT refDrawing frame 1 1 FR_NAME
			GET_DRW_TABLE_OUTLINE refDrawing FRAME x1 y1 x2 y2
			TBLY = y2 - .0625
		END_IF

		IF OPENING_TYPE == 1 OR OPENING_TYPE == 3  !DOOR_ITEM_DESC == "DOOR"
			! SEARCH_MDL_REF ASSEM COMPONENT "DOOR_ASM_1*" DOOR_ASM1
			CREATE_DRW_TABLE refDrawing DOOR_ASM1 1 TBLX TBLY "lib:subasm.tbl" DOOR1
			GET_MDL_NAME DOOR_ASM1 DR_NAME1
			SET_DRW_TABLE_TEXT refDrawing DOOR1 1 1 DR_NAME1
			GET_DRW_TABLE_OUTLINE refDrawing DOOR1 x1 y1 x2 y2
			TBLY = y2 - .0625
		END_IF

		IF SUB_TYPE == "P" AND (OPENING_TYPE == 1 OR OPENING_TYPE == 3) !DOOR_ITEM_DESC == "DOOR"
			! SEARCH_MDL_REF ASSEM COMPONENT "DOOR_ASM_2*" DOOR_ASM2
			CREATE_DRW_TABLE refDrawing DOOR_ASM2 1 TBLX TBLY "lib:subasm.tbl" DOOR2
			GET_MDL_NAME DOOR_ASM2 DR_NAME2
			SET_DRW_TABLE_TEXT refDrawing DOOR2 1 1 DR_NAME2
		END_IF

		TEXT_INDEX = 0
		TEXT_LEN = strlen(AS_BUILT)
		IF TEXT_LEN > 0
			VALUE1 = ""
			VALUE2 = ""
			VALUE3 = ""
			WHILE strmid(AS_BUILT, TEXT_INDEX,1) <> "^" AND TEXT_INDEX <= TEXT_LEN
				VALUE1 = VALUE1+strmid(AS_BUILT, TEXT_INDEX,1)
				TEXT_INDEX++
			END_WHILE
			TEXT_INDEX++
			WHILE strmid(AS_BUILT, TEXT_INDEX,1) <> "^" AND TEXT_INDEX <= TEXT_LEN
				VALUE2 = VALUE2+strmid(AS_BUILT, TEXT_INDEX,1)
				TEXT_INDEX++
			END_WHILE
			TEXT_INDEX++
			WHILE strmid(AS_BUILT, TEXT_INDEX,1) <> "^" AND TEXT_INDEX <= TEXT_LEN
				VALUE3 = VALUE3+strmid(AS_BUILT, TEXT_INDEX,1)
				TEXT_INDEX++
			END_WHILE
			INSERT_DRW_TABLE_ROW refDrawing HIST HISTORY_INDEX .465 ROW_ID
			SET_DRW_TABLE_TEXT refDrawing HIST HISTORY_INDEX + 1 1 VALUE1
			SET_DRW_TABLE_FORMAT refDrawing HIST HISTORY_INDEX + 1 1 HEIGHT .09 HORIZONTAL CENTER VERTICAL MIDDLE
			SET_DRW_TABLE_TEXT refDrawing HIST HISTORY_INDEX + 1 2 VALUE2
			SET_DRW_TABLE_FORMAT refDrawing HIST HISTORY_INDEX + 1 2 HEIGHT .09 HORIZONTAL CENTER VERTICAL MIDDLE
			SET_DRW_TABLE_TEXT refDrawing HIST HISTORY_INDEX + 1 3 VALUE3
			SET_DRW_TABLE_FORMAT refDrawing HIST HISTORY_INDEX + 1 3 HEIGHT .09 HORIZONTAL CENTER VERTICAL MIDDLE
		END_IF
	END_IF

	IF (OPENING_TYPE == 2 OR OPENING_TYPE == 3) AND JOW+FACEE+FACEE+SIDE_LITE_JOW+SIDE_LITE_MULLION > 120
		CREATE_DRW_VIEW_GENERAL refDrawing ASSEM "FRONT" 1 7.0 6.5 0.04 refView
	ELSE
		CREATE_DRW_VIEW_GENERAL refDrawing ASSEM "FRONT" 1 VIEW_POS YCTR 0 refView
	END_IF
	
	SET_DRW_VIEW_TANGENT_EDGE_DISPLAY refView NONE
	SET_DRW_VIEW_DISPLAY refView HIDDEN_LINE
	GET_DRW_VIEW_POS NULL refView x y

	GET_DRW_VIEW_OUTLINE refView outline

	SEARCH_MDL_REF ASSEM CSYS "DEFCSYS" DEFCSYS
	GET_DRW_VIEW_REF_POS refView DEFCSYS pos
	
	! IF HAND <> "NONE" AND HAND <> "BL"
		! CREATE_DRW_VIEW_NOTE refView pos.x pos.y-.5 "SECURE SIDE" HORIZONTAL CENTER  HEIGHT .12
	! END_IF
	
	IF HAND <> "NONE" AND HAND <> "BL" AND STD_REV == "STD"
		CREATE_DRW_VIEW_NOTE refView pos.x pos.y-.375 "SECURE SIDE\nPUSH SIDE\n" + HAND HORIZONTAL CENTER  HEIGHT .12
	END_IF

	IF HAND <> "NONE" AND HAND <> "BL" AND STD_REV == "REV"
		CREATE_DRW_VIEW_NOTE refView pos.x pos.y-.375 "SECURE_SIDE\nPULL SIDE\n" + HAND HORIZONTAL CENTER  HEIGHT .12
	END_IF
	
	! IF HAND <> "NONE" AND HAND <> "BL"
		! CREATE_DRW_VIEW_NOTE refView pos.x pos.y-.625 HAND HORIZONTAL CENTER  HEIGHT .12
	! END_IF
	
	! IF HAND <> "NONE" AND HAND <> "BL"
		! CREATE_DRW_VIEW_NOTE RefView x (y - (((outline.y2 - outline.y1) /2)+.375)) "SECURE SIDE" HORIZONTAL CENTER  HEIGHT .12
	! END_IF
	
	! IF HAND == "LH" OR HAND == "RH" OR HAND == "LH/RH" OR HAND == "LHA" OR HAND == "RHA"
		! CREATE_DRW_VIEW_NOTE RefView x (y - (((outline.y2 - outline.y1) /2)+.5625)) "PUSH SIDE" HORIZONTAL CENTER  HEIGHT .12
	! END_IF

	! IF HAND == "LHR" OR HAND == "RHR" OR HAND == "LHR/RHR" OR HAND == "LHRA" OR HAND == "RHRA"
		! CREATE_DRW_VIEW_NOTE RefView x (y - (((outline.y2 - outline.y1) /2)+.5625)) "PULL SIDE" HORIZONTAL CENTER  HEIGHT .12
	! END_IF
	
	! IF HAND <> "NONE" AND HAND <> "BL"
		! CREATE_DRW_VIEW_NOTE RefView x (y - (((outline.y2 - outline.y1) /2)+.75)) HAND HORIZONTAL CENTER  HEIGHT .12
	! END_IF

	IF HINGE_TYPE == "BUTT" OR HINGE_TYPE == "DBL_ACTING" OR HINGE_TYPE == "HALF_MORTISE"
		CLEAR_ARRAY HINGE_LOCATIONS_ARRAY
		IF OPENING_TYPE == 1 OR OPENING_TYPE == 3
			IF HINGE_LOCATION_1 > 0 AND HINGE_QTY >= 1
				HINGE_LOCATION_1 = HINGE_LOCATION_1 !- TOP_GAP
				ADD_ARRAY_ELEM HINGE_LOCATIONS_ARRAY HINGE_LOCATION_1
			END_IF
			IF HINGE_LOCATION_2 > 0 AND HINGE_QTY >= 2
				HINGE_LOCATION_2 = HINGE_LOCATION_2 !- TOP_GAP
				ADD_ARRAY_ELEM HINGE_LOCATIONS_ARRAY HINGE_LOCATION_2
			END_IF
			IF HINGE_LOCATION_3 > 0 AND HINGE_QTY >= 3
				HINGE_LOCATION_3 = HINGE_LOCATION_3 !- TOP_GAP
				ADD_ARRAY_ELEM HINGE_LOCATIONS_ARRAY HINGE_LOCATION_3
			END_IF
			IF HINGE_LOCATION_4 > 0 AND HINGE_QTY >= 4
				HINGE_LOCATION_4 = HINGE_LOCATION_4 !- TOP_GAP
				ADD_ARRAY_ELEM HINGE_LOCATIONS_ARRAY HINGE_LOCATION_4
			END_IF
			IF HINGE_LOCATION_5 > 0 AND HINGE_QTY >= 5
				HINGE_LOCATION_5 = HINGE_LOCATION_5 !- TOP_GAP
				ADD_ARRAY_ELEM HINGE_LOCATIONS_ARRAY HINGE_LOCATION_5
			END_IF
			IF HINGE_LOCATION_6 > 0 AND HINGE_QTY >= 6
				HINGE_LOCATION_6 = HINGE_LOCATION_6 !- TOP_GAP
				ADD_ARRAY_ELEM HINGE_LOCATIONS_ARRAY HINGE_LOCATION_6
			END_IF
			IF HINGE_LOCATION_7 > 0 AND HINGE_QTY >= 7
				HINGE_LOCATION_7 = HINGE_LOCATION_7 !- TOP_GAP
				ADD_ARRAY_ELEM HINGE_LOCATIONS_ARRAY HINGE_LOCATION_7
			END_IF
			IF HINGE_LOCATION_8 > 0 AND HINGE_QTY >= 8
				HINGE_LOCATION_8 = HINGE_LOCATION_8 !- TOP_GAP
				ADD_ARRAY_ELEM HINGE_LOCATIONS_ARRAY HINGE_LOCATION_8
			END_IF
			IF HINGE_LOCATION_9 > 0 AND HINGE_QTY >= 9
				HINGE_LOCATION_9 = HINGE_LOCATION_9 !- TOP_GAP
				ADD_ARRAY_ELEM HINGE_LOCATIONS_ARRAY HINGE_LOCATION_9
			END_IF
		ELSE
			IF HINGE_LOCATION_1 > 0 AND HINGE_QTY >= 1
				ADD_ARRAY_ELEM HINGE_LOCATIONS_ARRAY HINGE_LOCATION_1
			END_IF
			IF HINGE_LOCATION_2 > 0 AND HINGE_QTY >= 2
				ADD_ARRAY_ELEM HINGE_LOCATIONS_ARRAY HINGE_LOCATION_2
			END_IF
			IF HINGE_LOCATION_3 > 0 AND HINGE_QTY >= 3
				ADD_ARRAY_ELEM HINGE_LOCATIONS_ARRAY HINGE_LOCATION_3
			END_IF
			IF HINGE_LOCATION_4 > 0 AND HINGE_QTY >= 4
				ADD_ARRAY_ELEM HINGE_LOCATIONS_ARRAY HINGE_LOCATION_4
			END_IF
			IF HINGE_LOCATION_5 > 0 AND HINGE_QTY >= 5
				ADD_ARRAY_ELEM HINGE_LOCATIONS_ARRAY HINGE_LOCATION_5
			END_IF
			IF HINGE_LOCATION_6 > 0 AND HINGE_QTY >= 6
				ADD_ARRAY_ELEM HINGE_LOCATIONS_ARRAY HINGE_LOCATION_6
			END_IF
			IF HINGE_LOCATION_7 > 0 AND HINGE_QTY >= 7
				ADD_ARRAY_ELEM HINGE_LOCATIONS_ARRAY HINGE_LOCATION_7
			END_IF
			IF HINGE_LOCATION_8 > 0 AND HINGE_QTY >= 8
				ADD_ARRAY_ELEM HINGE_LOCATIONS_ARRAY HINGE_LOCATION_8
			END_IF
			IF HINGE_LOCATION_9 > 0 AND HINGE_QTY >= 9
				ADD_ARRAY_ELEM HINGE_LOCATIONS_ARRAY HINGE_LOCATION_9
			END_IF
		END_IF
	END_IF

!EPT SINGLE
	IF SUB_TYPE == "S" AND EPT == 1
		SEARCH_MDL_REF ASSEM CSYS "HINGE" REFX		
		IF OPENING_TYPE == 1
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY JOH-TOP_GAP
				UDF_EXP_REF REF1 CSYS 0
			END_CREATE_UDF

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM DIMX 0
				UDF_DIM DIMY JOH-EPT_CTR
				UDF_EXP_REF REF2 CSYS 0
			END_CREATE_UDF

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM DIMX SNAPX
				UDF_DIM DIMY JOH-TOP_GAP-(EPT_CTR/2)
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y DIM
			SET_DIM_TEXT DIM "@D"+"\""+ " CL\n"+EPT_DESC
		END_IF
		IF OPENING_TYPE == 2 OR OPENING_TYPE == 3
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY JOH
				UDF_EXP_REF REF1 CSYS 0
			END_CREATE_UDF

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM DIMX 0
				UDF_DIM DIMY JOH-EPT_CTR
				UDF_EXP_REF REF2 CSYS 0
			END_CREATE_UDF

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM DIMX SNAPX
				UDF_DIM DIMY JOH-(EPT_CTR/2)
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y DIM
			SET_DIM_TEXT DIM "@D"+"\""+ " CL\n"+EPT_DESC
		END_IF
	END_IF
	
!EPT PAIR
	IF SUB_TYPE == "P" AND (EPT == 1 OR EPT == 3)
		DECLARE_VARIABLE DOUBLE TEMP_EPT_CTR
		IF HAND == "L*"
			SEARCH_MDL_REF ASSEM CSYS "HINGE" REFX
			TEMP_EPT_CTR = EPT_CTR
		ELSE_IF HAND == "R*"
			SEARCH_MDL_REF ASSEM CSYS "STRIKE" REFX
			TEMP_EPT_CTR = EPT_CTR			
		END_IF
	
		IF OPENING_TYPE == 1
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY JOH-TOP_GAP
				UDF_EXP_REF REF1 CSYS 0
			END_CREATE_UDF

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM DIMX 0
				UDF_DIM DIMY JOH-TOP_GAP-TEMP_EPT_CTR
				UDF_EXP_REF REF2 CSYS 0
			END_CREATE_UDF

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM DIMX SNAPX
				UDF_DIM DIMY JOH-TOP_GAP-(TEMP_EPT_CTR/2)
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y DIM
			SET_DIM_TEXT DIM "@D"+"\""+ " CL\n"+EPT_DESC		
		END_IF

		IF OPENING_TYPE == 2 OR OPENING_TYPE == 3
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY JOH
				UDF_EXP_REF REF1 CSYS 0
			END_CREATE_UDF
PRINT "%" TEMP_EPT_CTR
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM DIMX 0
				UDF_DIM DIMY JOH-TEMP_EPT_CTR
				UDF_EXP_REF REF2 CSYS 0
			END_CREATE_UDF

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM DIMX SNAPX
				UDF_DIM DIMY JOH-(TEMP_EPT_CTR/2)
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y DIM
			SET_DIM_TEXT DIM "@D"+"\""+ " CL\n"+EPT_DESC		
		END_IF
	END_IF
	
	IF SUB_TYPE == "P" AND (EPT == 2 OR EPT == 3)
		DECLARE_VARIABLE DOUBLE TEMP_EPT_CTR
		IF HAND == "L*"
			SEARCH_MDL_REF ASSEM CSYS "STRIKE" REFX
			TEMP_EPT_CTR = EPT_CTR
		ELSE_IF HAND == "R*"
			SEARCH_MDL_REF ASSEM CSYS "HINGE" REFX
			TEMP_EPT_CTR = EPT_CTR			
		END_IF
	
		IF OPENING_TYPE == 1
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY JOH-TOP_GAP
				UDF_EXP_REF REF1 CSYS 0
			END_CREATE_UDF

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM DIMX 0
				UDF_DIM DIMY JOH-TOP_GAP-TEMP_EPT_CTR
				UDF_EXP_REF REF2 CSYS 0
			END_CREATE_UDF

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM DIMX SNAPX
				UDF_DIM DIMY JOH-TOP_GAP-(TEMP_EPT_CTR/2)
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y DIM
			SET_DIM_TEXT DIM "@D"+"\""+ " CL\n"+EPT_DESC
		END_IF

		IF OPENING_TYPE == 2 OR OPENING_TYPE == 3
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY JOH
				UDF_EXP_REF REF1 CSYS 0
			END_CREATE_UDF

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM DIMX 0
				UDF_DIM DIMY JOH-TEMP_EPT_CTR
				UDF_EXP_REF REF2 CSYS 0
			END_CREATE_UDF

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM DIMX SNAPX
				UDF_DIM DIMY JOH-(TEMP_EPT_CTR/2)
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y DIM
			SET_DIM_TEXT DIM "@D"+"\""+ " CL\n"+EPT_DESC		
		END_IF
	END_IF

! PRINT "%" SUB_TYPE
! PRINT "%" HAND
! PRINT "%" EPT
! PRINT "%" EPT_CTR
! PRINT "%" EPT_2_CTR
! PRINT "%" TOP_GAP
! PRINT "%" JOH
! EXI	
! END EPT
	
!STRIKE SIDE DIMENSIONS
	IF SUB_TYPE == "S"
		SEARCH_MDL_REF ASSEM CSYS "STRIKE" REFX
	ELSE_IF SUB_TYPE == "P" AND HAND == "R*" AND STD_REV == "STD"
		SEARCH_MDL_REF ASSEM CSYS "STRIKE" REFX
	ELSE_IF SUB_TYPE == "P" AND HAND == "L*" AND STD_REV == "STD"
		SEARCH_MDL_REF ASSEM CSYS "HINGE" REFX
	ELSE_IF SUB_TYPE == "P" AND HAND == "R*" AND STD_REV == "REV"
		SEARCH_MDL_REF ASSEM CSYS "HINGE" REFX
	ELSE_IF SUB_TYPE == "P" AND HAND == "L*" AND STD_REV == "REV"
		SEARCH_MDL_REF ASSEM CSYS "STRIKE" REFX
	END_IF
	
	! SEARCH_MDL_REF ASSEM CSYS "STRIKE" REFX

	!LINE 1
	IF OPENING_TYPE == 1 OR OPENING_TYPE == 3
		!UNDERCUT
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX 0
			UDF_DIM	DIMY 0
			UDF_EXP_REF REF1 CSYS 0
		END_CREATE_UDF
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX 0
			UDF_DIM	DIMY UNDERCUT
			UDF_EXP_REF REF2 CSYS 0
		END_CREATE_UDF
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX SNAPX/2
			UDF_DIM	DIMY -SNAPY
			UDF_EXP_REF DIM CSYS 0
		END_CREATE_UDF
		GET_DRW_VIEW_REF_POS refView DIM pos
		CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y REFDIM
		IF SILL_CODE <> ""
			SET_DIM_TEXT refDim SILL_CODE + " - " + "@D\nUNDERCUT"		
		ELSE
			SET_DIM_TEXT refDim "@D\nUNDERCUT"		
		END_IF
	END_IF
	
	!LOUVER
	!NEXT LINE
	IF OPENING_TYPE == 1 OR OPENING_TYPE == 3	 AND DOOR_ELEVATION == "*L*"
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX 0
			UDF_DIM	DIMY UNDERCUT
			UDF_EXP_REF REF1 CSYS 0
		END_CREATE_UDF
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX 0
			UDF_DIM	DIMY UNDERCUT+LOUVER_BOTTOM_RAIL
			UDF_EXP_REF REF2 CSYS 0
		END_CREATE_UDF
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX SNAPX
			UDF_DIM	DIMY UNDERCUT + (LOUVER_BOTTOM_RAIL*.5)
			UDF_EXP_REF DIM CSYS 0
		END_CREATE_UDF
		GET_DRW_VIEW_REF_POS refView DIM pos
		CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y REFDIM

		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REF2
			UDF_DIM	DIMX 0
			UDF_DIM	DIMY LOUVER_HEIGHT
			UDF_EXP_REF REF3 CSYS 0
		END_CREATE_UDF
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REF2
			UDF_DIM	DIMX SNAPX
			UDF_DIM	DIMY LOUVER_HEIGHT/2
			UDF_EXP_REF DIM CSYS 0
		END_CREATE_UDF
		GET_DRW_VIEW_REF_POS refView DIM pos
		CREATE_DRW_VIEW_DIM refView 2 REF2 REF3 pos.x pos.y REFDIM
		
		SEARCH_MDL_REF DOOR_ASM1 CSYS "LOUVER_REF" LOUVER_REF
		GET_DRW_VIEW_REF_POS refView LOUVER_REF pos
		CREATE_DRW_VIEW_NOTE refView pos.x pos.y  "(LOUVER CUTOUT ONLY) " HEIGHT .09 HORIZONTAL CENTER

		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH LOUVER_REF
			UDF_DIM	DIMX LOUVER_WIDTH/2
			UDF_DIM	DIMY LOUVER_HEIGHT/2
			UDF_EXP_REF REF1 CSYS 0
		END_CREATE_UDF
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REF1
			UDF_DIM	DIMX -LOUVER_WIDTH
			UDF_DIM	DIMY 0
			UDF_EXP_REF REF2 CSYS 0
		END_CREATE_UDF
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REF2
			UDF_DIM	DIMX LOUVER_WIDTH/2
			UDF_DIM	DIMY SNAPY
			UDF_EXP_REF DIM CSYS 0
		END_CREATE_UDF
		GET_DRW_VIEW_REF_POS refView DIM pos
		CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y ORIENTATION HORIZONTAL REFDIM
	
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX SNAPX
			UDF_DIM	DIMY 0
			UDF_EXP_REF REFX CSYS 0
		END_CREATE_UDF
	END_IF
	
	!PRIMARY LOCK
	! NEXT LINE
	IF OPENING_TYPE == 1 OR OPENING_TYPE == 3	
		IF PRIMARY_LOCK_TYPE <> "" AND PRIMARY_LOCK_TYPE <> 0
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY UNDERCUT
				UDF_EXP_REF REF1 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY PRIMARY_STRIKE_CENTER + PRIMARY_LOCK_OFFSET
				UDF_EXP_REF REF2 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX SNAPX
				UDF_DIM	DIMY UNDERCUT + (PRIMARY_STRIKE_CENTER - PRIMARY_LOCK_OFFSET)*.5
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y REFDIM
			IF PRIMARY_LOCK_TYPE == 1 OR PRIMARY_LOCK_TYPE == 2
				SET_DIM_TEXT refDim "@D"+"\""+ " CL\nLOCK"				
			ELSE_IF PRIMARY_LOCK_TYPE == 3
				SET_DIM_TEXT refDim "@D"+"\""+ " CL\nEXIT\nDEVICE"
			ELSE_IF PRIMARY_LOCK_TYPE == 4
				SET_DIM_TEXT refDim "@D"+"\""+ " CL\nMORTISED\nEXIT"
			ELSE_IF PRIMARY_LOCK_TYPE == 5 OR PRIMARY_LOCK_TYPE == 6
				SET_DIM_TEXT refDim "@D"+"\""+ " CL\nDEADBOLT"
			ELSE_IF PRIMARY_LOCK_TYPE == 7
				SET_DIM_TEXT refDim "@D"+"\""+ " CL\nROLLER\nLATCH"
			ELSE
				SET_DIM_TEXT refDim "@D"+"\""+ " CL\nNOT\nDEFINED"
			END_IF

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX SNAPX
				UDF_DIM	DIMY 0
				UDF_EXP_REF REFX CSYS 0
			END_CREATE_UDF
		END_IF
	END_IF
	
	! NEXT LINE
	IF PRIMARY_STRIKE_TYPE <> 0 AND ((OPENING_TYPE == 1 OR OPENING_TYPE == 3) OR (OPENING_TYPE == 2 AND SUB_TYPE == "S"))
		!STRIKE
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX 0
			UDF_DIM	DIMY 0
			UDF_EXP_REF REF1 CSYS 0
		END_CREATE_UDF
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX 0
			UDF_DIM	DIMY PRIMARY_STRIKE_CENTER
			UDF_EXP_REF REF2 CSYS 0
		END_CREATE_UDF
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX SNAPX
			UDF_DIM	DIMY  PRIMARY_STRIKE_CENTER*.7
			UDF_EXP_REF DIM CSYS 0
		END_CREATE_UDF
		GET_DRW_VIEW_REF_POS refView DIM pos
		CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y REFDIM
		DECLARE_VARIABLE STRING TEMPDIM
			TEMPDIM = "@D"+"\""+ " CL\n" + PRIMARY_STRIKE_DESC + "\nSTRIKE"

		IF PRIMARY_STRIKE_DESC == "RIM*" AND STRIKE_MODEL <> ""
			! CALC_FRACTION REDUCE TRUE STRIKE_PLATE_THICKNESS 64 fraction
			TEMPDIM = "@D"+"\""+ " CL\n" + STRIKE_MODEL + "\nRIM\nSTRIKE"
		ELSE_IF PRIMARY_STRIKE_DESC == "RIM*" AND STRIKE_MODEL == ""
			TEMPDIM = "@D"+"\""+ " CL\n" + "RIM\nSTRIKE"		
		END_IF
			
		IF PRIMARY_STRIKE_DESC == "ELEC*"
			CALC_FRACTION REDUCE TRUE PRIMARY_STRIKE_PLATE_THICKNESS 64 fraction
			TEMPDIM = "@D"+"\""+ " CL\n" + STRIKE_MODEL + "\nELEC\nSTRIKE\n" + itos(fraction.remainder)+"/"+itos(fraction.denominator) + " \nPLATE"
		END_IF

		IF VERIFY_STRIKE == 1
			TEMPDIM = TEMPDIM + "\n"+"VERIFY"
		END_IF
		
		SET_DIM_TEXT refDim TEMPDIM
		
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX SNAPX
			UDF_DIM	DIMY 0
			UDF_EXP_REF REFX CSYS 0
		END_CREATE_UDF
	END_IF
	
	!SECONDARY LOCK & STRIKE
	! NEXT LINE	
	IF SECONDARY_STRIKE_TYPE <> 0
		IF SECONDARY_LOCK_TYPE <> "" AND SECONDARY_LOCK_TYPE <> 0
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY UNDERCUT
				UDF_EXP_REF REF1 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY SECONDARY_STRIKE_CENTER + SECONDARY_LOCK_OFFSET
				UDF_EXP_REF REF2 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX SNAPX
				UDF_DIM	DIMY UNDERCUT + (SECONDARY_STRIKE_CENTER - SECONDARY_LOCK_OFFSET)*.55
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y REFDIM
			IF SECONDARY_LOCK_TYPE <> "ROLLER*"
				SET_DIM_TEXT refDim "@D"+"\""+ " CL\nLOCK"
			ELSE
				SET_DIM_TEXT refDim "@D"+"\""+ " CL\nROLLER\nLATCH"
			END_IF

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX SNAPX
				UDF_DIM	DIMY 0
				UDF_EXP_REF REFX CSYS 0
			END_CREATE_UDF
		END_IF
	END_IF

	IF HASP == 1
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX 0
			UDF_DIM	DIMY 0
			UDF_EXP_REF REF1 CSYS 0
		END_CREATE_UDF
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX 0
			UDF_DIM	DIMY HASP_CENTER
			UDF_EXP_REF REF2 CSYS 0
		END_CREATE_UDF
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX SNAPX
			UDF_DIM	DIMY UNDERCUT + (HASP_CENTER * .55)
			UDF_EXP_REF DIM CSYS 0
		END_CREATE_UDF
		GET_DRW_VIEW_REF_POS refView DIM pos
		CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y REFDIM
		SET_DIM_TEXT refDim "@D"+"\""+ " CL\nHASP\nREINF"

		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX SNAPX
			UDF_DIM	DIMY 0
			UDF_EXP_REF REFX CSYS 0
		END_CREATE_UDF
	END_IF

	IF  TUFLOCK == 1
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX 0
			UDF_DIM	DIMY 0
			UDF_EXP_REF REF1 CSYS 0
		END_CREATE_UDF
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX 0
			UDF_DIM	DIMY TUFLOCK_CENTER
			UDF_EXP_REF REF2 CSYS 0
		END_CREATE_UDF
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX SNAPX
			UDF_DIM	DIMY UNDERCUT + (TUFLOCK_CENTER * .55)
			UDF_EXP_REF DIM CSYS 0
		END_CREATE_UDF
		GET_DRW_VIEW_REF_POS refView DIM pos
		CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y REFDIM
		SET_DIM_TEXT refDim "@D"+"\""+ " CL\nTUFLOCK\nREINF"

		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX SNAPX
			UDF_DIM	DIMY 0
			UDF_EXP_REF REFX CSYS 0
		END_CREATE_UDF
	END_IF
	
	! NEXT LINE
	IF SECONDARY_STRIKE_TYPE <> 0
		!STRIKE
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX 0
			UDF_DIM	DIMY 0
			UDF_EXP_REF REF1 CSYS 0
		END_CREATE_UDF
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX 0
			UDF_DIM	DIMY SECONDARY_STRIKE_CENTER
			UDF_EXP_REF REF2 CSYS 0
		END_CREATE_UDF
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX SNAPX
			UDF_DIM	DIMY  (SECONDARY_STRIKE_CENTER - SECONDARY_LOCK_OFFSET)*.7
			UDF_EXP_REF DIM CSYS 0
		END_CREATE_UDF
		GET_DRW_VIEW_REF_POS refView DIM pos
		CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y REFDIM
		SET_DIM_TEXT refDim "@D"+"\""+ " CL\n"+SECONDARY_STRIKE_DESC+"\nSTRIKE"
		
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX SNAPX
			UDF_DIM	DIMY 0
			UDF_EXP_REF REFX CSYS 0
		END_CREATE_UDF
	END_IF

	IF OPENING_TYPE == 1 OR OPENING_TYPE == 3
		IF PUSH_PULL == 1
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY 0
				UDF_EXP_REF REF1 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY PULL_PLATE_CENTER
				UDF_EXP_REF REF2 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX SNAPX
				UDF_DIM	DIMY  PULL_PLATE_CENTER*.7
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y REFDIM
				SET_DIM_TEXT refDim "@D"+"\""+ " CL\nPULL"
			
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX SNAPX
				UDF_DIM	DIMY 0
				UDF_EXP_REF REFX CSYS 0
			END_CREATE_UDF
		END_IF
	
		IF FLUSH_PULL > 0
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY 0
				UDF_EXP_REF REF1 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY FLUSH_PULL_CENTER
				UDF_EXP_REF REF2 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX SNAPX
				UDF_DIM	DIMY  FLUSH_PULL_CENTER*.7
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y REFDIM

			IF FLUSH_PULL_SIDE == 0
				SET_DIM_TEXT refDim "@D"+"\""+ " CL\nFLUSH\nPULL\n(PUSH)"
			ELSE_IF FLUSH_PULL_SIDE == 1
				SET_DIM_TEXT refDim "@D"+"\""+ " CL\nFLUSH\nPULL\n(PULL)"
			END_IF
			
			SEARCH_MDL_REF RECURSIVE ASSEM CSYS "FLUSH_PULL_REF" PNT
			GET_DRW_VIEW_REF_POS refView PNT pos
						
			IF (HAND == "L*" AND SUB_TYPE == "S") OR SUB_TYPE == "P"
				CREATE_DRW_VIEW_NOTE refView pos.x - .25 pos.y - .25 FLUSH_PULL_MANUFACTURER+"\n MODEL "+FLUSH_PULL_MODEL WITH_LEADER PNT
			END_IF
			IF (HAND == "R*" AND SUB_TYPE == "S")
				CREATE_DRW_VIEW_NOTE refView pos.x + .25 pos.y - .25 FLUSH_PULL_MANUFACTURER+"\n MODEL "+FLUSH_PULL_MODEL WITH_LEADER PNT
			END_IF			
			
			IF SUB_TYPE == "P"
				SEARCH_MDL_REF RECURSIVE ASSEM CSYS "FLUSH_PULL_REF_2" PNT
				GET_DRW_VIEW_REF_POS refView PNT pos
				
				CREATE_DRW_VIEW_NOTE refView pos.x + .25 pos.y - .25 FLUSH_PULL_MANUFACTURER_2+"\n MODEL "+FLUSH_PULL_MODEL_2 WITH_LEADER PNT
			END_IF
			
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX SNAPX
				UDF_DIM	DIMY 0
				UDF_EXP_REF REFX CSYS 0
			END_CREATE_UDF
		END_IF
		
			!"VISION_DIMENSION_METHOD"
			! " 0 - NOT SELECTED"
			! " 1 - TOP TO CENTER"
			! " 2 - FLOOR TO CENTER"
			! " 3 - TOP RAIL AND HEIGHT"
			! " 4 - FLOOR TO BOTTOM AND HEIGHT" 	
			! " 5 - TOP AND BOTTOM RAIL CALC HEIGHT" 
			! " 6 - BOTTOM RAIL "

		IF DOOR_ELEVATION == "C"
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY UNDERCUT
				UDF_EXP_REF REF1 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY VISION_CENTER_BOTTOM + UNDERCUT
				UDF_EXP_REF REF2 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX SNAPX
				UDF_DIM	DIMY UNDERCUT + (VISION_CENTER_BOTTOM*.6)
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y REFDIM
			SET_DIM_TEXT refDim "@D"

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY JOH-TOP_GAP
				UDF_EXP_REF REF3 CSYS 0
			END_CREATE_UDF

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX SNAPX
				UDF_DIM	DIMY JOH-TOP_GAP-(VISION_CENTER_TOP/2)
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF2 REF3 pos.x pos.y REFDIM
			SET_DIM_TEXT refDim "@D"
			
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX SNAPX
				UDF_DIM	DIMY 0
				UDF_EXP_REF REFX CSYS 0
			END_CREATE_UDF

			IF DOOR_LITE_TRIM_TYPE == "A"
				SEARCH_MDL_REF RECURSIVE ASSEM CSYS "VISION_ROUND*" NOTEREF
				GET_DRW_VIEW_REF_POS refView NOTEREF pos
				CREATE_DRW_VIEW_NOTE refView pos.x pos.y ftos(VISION_DIAMETER) + "\"" + " DIAMETER\nCUTOUT" HORIZONTAL CENTER
			END_IF	
		END_IF	
			
		IF DOOR_ELEVATION == "N" OR DOOR_ELEVATION == "G" OR DOOR_ELEVATION == "M*" OR DOOR_ELEVATION == "N1" OR DOOR_ELEVATION == "V"
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY UNDERCUT
				UDF_EXP_REF REF1 CSYS 0
			END_CREATE_UDF
	
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY VISION_BOTTOM_RAIL + UNDERCUT
				UDF_EXP_REF REF2 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX SNAPX
				UDF_DIM	DIMY UNDERCUT + (VISION_BOTTOM_RAIL*.6)
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y REFDIM
			SET_DIM_TEXT refDim "@D"

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY UNDERCUT + VISION_BOTTOM_RAIL + VISION_HEIGHT
				UDF_EXP_REF REF3 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX SNAPX
				UDF_DIM	DIMY UNDERCUT + VISION_BOTTOM_RAIL + (VISION_HEIGHT/2)
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF2 REF3 pos.x pos.y REFDIM
			
			IF DOOR_LITE_TRIM_TYPE == "A"
				SET_DIM_TEXT refDim "@D\n(Cutout)"
			END_IF
			IF DOOR_LITE_TRIM_TYPE == "B" OR DOOR_LITE_TRIM_TYPE == "C"
				SET_DIM_TEXT refDim "@D\n(Viewable)"
			END_IF
			
			! SET_DIM_TEXT refDim "@D\n(Viewable)"

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY UNDERCUT + VISION_BOTTOM_RAIL + VISION_HEIGHT + VISION_TOP_RAIL
				UDF_EXP_REF REF4 CSYS 0
			END_CREATE_UDF

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX SNAPX
				UDF_DIM	DIMY UNDERCUT + VISION_BOTTOM_RAIL + VISION_HEIGHT + (VISION_TOP_RAIL/2)
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF3 REF4 pos.x pos.y REFDIM
			SET_DIM_TEXT refDim "@D"

			! IF DOOR_ELEVATION == "G" OR DOOR_ELEVATION == "N" OR DOOR_ELEVATION == "M1*"
				! CREATE_UDF udf\xycsys ASSEM
					! UDF_REF ATTACH ORNT_CSYS
					! UDF_DIM	DIMX -((DOOR_WIDTH/2) - VISION_STRIKE_STILE - (VISION_WIDTH/2))
					! UDF_DIM	DIMY VISION_BOTTOM_RAIL + (VISION_HEIGHT/2) + 2
					! UDF_EXP_REF REF_NOTE CSYS 0
				! END_CREATE_UDF

				! IF STD_REV == "STD" AND REMOVABLE_SIDE == 0
						! GET_DRW_VIEW_REF_POS refView REF_NOTE desc
						! CREATE_DRW_VIEW_NOTE refView desc.x desc.y "GLASS\nWIDE\nSIDE" HORIZONTAL CENTER
				! ELSE_IF STD_REV == "STD" AND  REMOVABLE_SIDE == 1
						! GET_DRW_VIEW_REF_POS refView REF_NOTE desc
						! CREATE_DRW_VIEW_NOTE refView desc.x desc.y "GLASS\nNARROW\nSIDE" HORIZONTAL CENTER
				! ELSE_IF STD_REV == "REV" AND  REMOVABLE_SIDE == 0
						! GET_DRW_VIEW_REF_POS refView REF_NOTE desc
						! CREATE_DRW_VIEW_NOTE refView desc.x desc.y "GLASS\nNARROW\nSIDE" HORIZONTAL CENTER
				! ELSE_IF STD_REV == "REV" AND  REMOVABLE_SIDE == 1
						! GET_DRW_VIEW_REF_POS refView REF_NOTE desc
						! CREATE_DRW_VIEW_NOTE refView desc.x desc.y "GLASS\nWIDE\nSIDE" HORIZONTAL CENTER
				! END_IF
			! END_IF
			
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX SNAPX
				UDF_DIM	DIMY 0
				UDF_EXP_REF REFX CSYS 0
			END_CREATE_UDF
		ELSE_IF DOOR_ELEVATION == "2G"
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY UNDERCUT
				UDF_EXP_REF REF1 CSYS 0
			END_CREATE_UDF
	
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY VISION_BOTTOM_RAIL
				UDF_EXP_REF REF2 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX SNAPX
				UDF_DIM	DIMY (VISION_BOTTOM_RAIL-UNDERCUT)*.6
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y REFDIM
			SET_DIM_TEXT refDim "@D"

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY VISION_BOTTOM_RAIL + VISION_HEIGHT2
				UDF_EXP_REF REF3 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF2
				UDF_DIM	DIMX SNAPX
				UDF_DIM	DIMY VISION_HEIGHT2/2
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF2 REF3 pos.x pos.y REFDIM
			SET_DIM_TEXT refDim "@D\n(Viewable)"

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY JOH - TOP_GAP - VISION_TOP_RAIL - VISION_HEIGHT
				UDF_EXP_REF REF4 CSYS 0
			END_CREATE_UDF

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF3
				UDF_DIM	DIMX SNAPX
				UDF_DIM	DIMY ((JOH - TOP_GAP - VISION_TOP_RAIL - VISION_HEIGHT) - (VISION_BOTTOM_RAIL+VISION_HEIGHT2))/2
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CALC_FRACTION REDUCE TRUE (JOH - TOP_GAP - VISION_TOP_RAIL - VISION_HEIGHT) - (VISION_BOTTOM_RAIL+VISION_HEIGHT2) 16 fraction
			CREATE_DRW_VIEW_NOTE refView pos.x pos.y fraction.fraction_string HEIGHT .09 HORIZONTAL CENTER
			
			! CREATE_DRW_VIEW_DIM refView 2 REF3 REF4 pos.x pos.y REFDIM
			! SET_DIM_TEXT refDim "@D"

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY JOH - TOP_GAP - VISION_TOP_RAIL
				UDF_EXP_REF REF5 CSYS 0
			END_CREATE_UDF

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX SNAPX
				UDF_DIM	DIMY JOH - -TOP_GAP - VISION_TOP_RAIL - (VISION_HEIGHT/2)
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF4 REF5 pos.x pos.y REFDIM
			SET_DIM_TEXT refDim "@D\n(Viewable)"

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY JOH - TOP_GAP
				UDF_EXP_REF REF6 CSYS 0
			END_CREATE_UDF

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF6
				UDF_DIM	DIMX SNAPX
				UDF_DIM	DIMY -VISION_TOP_RAIL/2
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF5 REF6 pos.x pos.y REFDIM
			SET_DIM_TEXT refDim "@D"
			
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX SNAPX
				UDF_DIM	DIMY 0
				UDF_EXP_REF REFX CSYS 0
			END_CREATE_UDF
		ELSE_IF 	DOOR_ELEVATION_2 == "N"	OR DOOR_ELEVATION_2 == "G" OR DOOR_ELEVATION_2 == "M*" OR DOOR_ELEVATION_2 == "N1" OR DOOR_ELEVATION_2 == "V"
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY UNDERCUT
				UDF_EXP_REF REF1 CSYS 0
			END_CREATE_UDF
	
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY VISION_BOTTOM_RAIL_2 + UNDERCUT
				UDF_EXP_REF REF2 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX SNAPX
				UDF_DIM	DIMY UNDERCUT + (VISION_BOTTOM_RAIL_2*.6)
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y REFDIM
			SET_DIM_TEXT refDim "@D"

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY UNDERCUT + VISION_BOTTOM_RAIL_2 + VISION_HEIGHT_2
				UDF_EXP_REF REF3 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX SNAPX
				UDF_DIM	DIMY UNDERCUT + VISION_BOTTOM_RAIL_2 + (VISION_HEIGHT_2/2)
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF2 REF3 pos.x pos.y REFDIM
			
			IF DOOR_LITE_TRIM_TYPE_2 == "A"
				SET_DIM_TEXT refDim "@D\n(Cutout)"
			END_IF
			IF DOOR_LITE_TRIM_TYPE_2 == "B" OR DOOR_LITE_TRIM_TYPE_2 == "C"
				SET_DIM_TEXT refDim "@D\n(Viewable)"
			END_IF
			
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY UNDERCUT + VISION_BOTTOM_RAIL_2 + VISION_HEIGHT_2 + VISION_TOP_RAIL_2
				UDF_EXP_REF REF4 CSYS 0
			END_CREATE_UDF

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX SNAPX
				UDF_DIM	DIMY UNDERCUT + VISION_BOTTOM_RAIL_2 + VISION_HEIGHT_2 + (VISION_TOP_RAIL_2/2)
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF3 REF4 pos.x pos.y REFDIM
			SET_DIM_TEXT refDim "@D"
			
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX SNAPX
				UDF_DIM	DIMY 0
				UDF_EXP_REF REFX CSYS 0
			END_CREATE_UDF
		END_IF

		!DOOR HEIGHT
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX 0
			UDF_DIM	DIMY UNDERCUT
			UDF_EXP_REF REF1 CSYS 0
		END_CREATE_UDF
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX 0
			UDF_DIM	DIMY DOOR_HEIGHT+UNDERCUT
			UDF_EXP_REF REF2 CSYS 0
		END_CREATE_UDF
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX SNAPX
			UDF_DIM	DIMY UNDERCUT + (DOOR_HEIGHT/2)
			UDF_EXP_REF DIM CSYS 0
		END_CREATE_UDF
		GET_DRW_VIEW_REF_POS refView DIM pos
		CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y REFDIM
		SET_DIM_TEXT refDim "@D\nNET"
		
		!TOP GAP
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX 0
			UDF_DIM	DIMY JOH
			UDF_EXP_REF REF1 CSYS 0
		END_CREATE_UDF
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REF1
			UDF_DIM	DIMX 0
			UDF_DIM	DIMY -TOP_GAP
			UDF_EXP_REF REF2 CSYS 0
		END_CREATE_UDF
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REF1
			UDF_DIM	DIMX SNAPX/2
			UDF_DIM	DIMY SNAPY/2
			UDF_EXP_REF DIM CSYS 0
		END_CREATE_UDF
		GET_DRW_VIEW_REF_POS refView DIM pos
		CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y REFDIM
		SET_DIM_TEXT refDim "@D GAP"
	END_IF
	
	PRINT "%" SIDE_LITE_SIDE
	PRINT "%" HAND
	PRINT "%" FRAME_ELEVATION
	PRINT "%" OPENING_TYPE
	
	IF (OPENING_TYPE == 2 OR OPENING_TYPE == 3) AND FRAME_ELEVATION == 31 
		IF (HAND == "LH" OR HAND == "LHR") AND SIDE_LITE_SIDE == 1
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY JOH
				UDF_EXP_REF REF1 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX SNAPX
				UDF_DIM	DIMY JOH/2
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REFX REF1 pos.x pos.y REFDIM
			SET_DIM_TEXT refDim "@D\nJOH"
			
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY JOH
				UDF_EXP_REF REF1 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF1
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY HEAD
				UDF_EXP_REF REF2 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF2
				UDF_DIM	DIMX SNAPX
				UDF_DIM	DIMY SNAPY/2
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y REFDIM
			SET_DIM_TEXT REFDIM "@D HEAD"
		END_IF
			
		IF   (HAND == "RH" OR HAND == "RHR") AND SIDE_LITE_SIDE == 2
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY JOH
				UDF_EXP_REF REF1 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX SNAPX
				UDF_DIM	DIMY JOH/2
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REFX REF1 pos.x pos.y REFDIM
			SET_DIM_TEXT refDim "@D\nJOH"
		END_IF		
	END_IF
	
!HINGE SIDE DIMENSIONS
	
	IF SUB_TYPE == "S" AND OPENING_TYPE <> 4
		SEARCH_MDL_REF ASSEM CSYS "HINGE" REFX
	ELSE_IF SUB_TYPE == "P" AND HAND == "R*" AND STD_REV == "STD"
		SEARCH_MDL_REF ASSEM CSYS "HINGE" REFX
	ELSE_IF SUB_TYPE == "P" AND HAND == "L*" AND STD_REV == "STD"
		SEARCH_MDL_REF ASSEM CSYS "STRIKE" REFX
	ELSE_IF SUB_TYPE == "P" AND HAND == "R*" AND STD_REV == "REV"
		SEARCH_MDL_REF ASSEM CSYS "STRIKE" REFX
	ELSE_IF SUB_TYPE == "P" AND HAND == "L*" AND STD_REV == "REV"
		SEARCH_MDL_REF ASSEM CSYS "HINGE" REFX		
	ELSE_IF SUB_TYPE == "P" AND HAND == "NONE"
		SEARCH_MDL_REF ASSEM CSYS "HINGE" REFX
	ELSE_IF OPENING_TYPE == 4
		SEARCH_MDL_REF ASSEM CSYS "STRIKE" REFX
	END_IF
	
	!LINE 1
	IF (OPENING_TYPE == 1 OR OPENING_TYPE == 3) AND SUB_TYPE == "S"
		IF FRAME_ELEVATION == 3
			!UNDERCUT
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY 0
				UDF_EXP_REF REF1 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY UNDERCUT
				UDF_EXP_REF REF2 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX SNAPX
				UDF_DIM	DIMY -SNAPY
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y REFDIM
			IF SILL_CODE <> ""
				SET_DIM_TEXT refDim SILL_CODE + " - " + "@D\nUNDERCUT"		
			ELSE
				SET_DIM_TEXT refDim "@D\nUNDERCUT"		
			END_IF
		END_IF
	END_IF
 
	! !TOP GAP
	! CREATE_UDF udf\xycsys ASSEM
		! UDF_REF ATTACH REFX
		! UDF_DIM	DIMX 0
		! UDF_DIM	DIMY JOH
		! UDF_EXP_REF REF1 CSYS 0
	! END_CREATE_UDF
	! CREATE_UDF udf\xycsys ASSEM
		! UDF_REF ATTACH REF1
		! UDF_DIM	DIMX 0
		! UDF_DIM	DIMY -TOP_GAP
		! UDF_EXP_REF REF2 CSYS 0
	! END_CREATE_UDF
	! CREATE_UDF udf\xycsys ASSEM
		! UDF_REF ATTACH REF1
		! UDF_DIM	DIMX SNAPX
		! UDF_DIM	DIMY SNAPY/2
		! UDF_EXP_REF DIM CSYS 0
	! END_CREATE_UDF
	! GET_DRW_VIEW_REF_POS refView DIM pos
	! CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y REFDIM			
		
!NEXT LINE
	!BUTT HINGES
	IF HINGE_TYPE == "BUTT" OR HINGE_TYPE == "DBL_ACTING" OR HINGE_TYPE == "HALF_MORTISE"
	
		IF EPT > 0
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX SNAPX
				UDF_DIM	DIMY 0
				UDF_EXP_REF REFX CSYS 0
			END_CREATE_UDF
		END_IF

		DECLARE_VARIABLE DOUBLE OFFSET
		IF HINGE_DIMENSION_METHOD == 0 OR HINGE_DIMENSION_METHOD == 1
			OFFSET = 0
		ELSE_IF HINGE_DIMENSION_METHOD == 2
			OFFSET = HINGE_HEIGHT/2
		END_IF
		
		IF OPENING_TYPE == 1 OR OPENING_TYPE == 3
			
			!BOTTOM HINGE
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY BOTTOM_HINGE+OFFSET
				UDF_EXP_REF REF1 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY UNDERCUT
				UDF_EXP_REF REF2 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX SNAPX
				UDF_DIM	DIMY (BOTTOM_HINGE/2)+UNDERCUT+(OFFSET/2)
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y REFDIM
			IF HINGE_DIMENSION_METHOD == 0 OR HINGE_DIMENSION_METHOD == 1
				SET_DIM_TEXT refDim "@D"+"\""+ " CL"
			END_IF
			
			!TOP HINGE
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY JOH - TOP_GAP
				UDF_EXP_REF REF1 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY JOH - TOP_HINGE+OFFSET
				UDF_EXP_REF REF2 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF2
				UDF_DIM	DIMX SNAPX
				UDF_DIM	DIMY (TOP_HINGE/2)+(OFFSET/2)
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y REFDIM
			IF HINGE_DIMENSION_METHOD == 0 OR HINGE_DIMENSION_METHOD == 1
				SET_DIM_TEXT refDim "@D"+"\""+ " CL"
			END_IF

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX SNAPX
				UDF_DIM	DIMY 0
				UDF_EXP_REF REFX CSYS 0
			END_CREATE_UDF
		END_IF
	
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX SNAPX
			UDF_DIM	DIMY 0
			UDF_EXP_REF REFX CSYS 0
		END_CREATE_UDF
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX -SNAPX
			UDF_DIM	DIMY JOH
			UDF_EXP_REF refCsys CSYS 0
		END_CREATE_UDF
		CREATE_UDF udf\pnt ASSEM
			UDF_REF ATTACH refCsys
			UDF_EXP_REF pnt1 POINT 0
		END_CREATE_UDF
				
			HINGE_INDEX = 1
		FOR LOCY REF ARRAY HINGE_LOCATIONS_ARRAY
			CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH refCsys
			UDF_DIM DIMX 0
			UDF_DIM DIMY -LOCY+OFFSET
			UDF_EXP_REF LOC+itos(HINGE_INDEX) CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH LOC+itos(HINGE_INDEX)
			UDF_DIM DIMX 0
			UDF_DIM DIMY 0
			UDF_EXP_REF DIMREF CSYS 0
			END_CREATE_UDF
			
			GET_DRW_VIEW_REF_POS refView DIMREF pos

			GET_DRW_VIEW_REF_POS refView pnt1 pos1
			GET_DRW_VIEW_REF_POS refView LOC+itos(HINGE_INDEX) pos2
			GET_DRW_VIEW_REF_POS refView REFX pos3
			CREATE_DRW_VIEW_DIM refView 2 pnt1 LOC+itos(HINGE_INDEX) pos3.x pos1.y-((pos1.y - pos2.y)/2) REFDIM
			IF HINGE_DIMENSION_METHOD == 0 OR HINGE_DIMENSION_METHOD == 1
				SET_DIM_TEXT refDim "@D"+"\""+ " CL"
			END_IF

			! GET_DRW_DIM_POS refDrawing REFDIM paramx paramy 
			! CREATE_DRW_VIEW_NOTE refView paramx paramy ""\"" CL"
			
			CREATE_UDF udf\pnt ASSEM
				UDF_REF ATTACH LOC+itos(HINGE_INDEX)
				UDF_EXP_REF pnt1 POINT 0
			END_CREATE_UDF

			IF HINGE_INDEX == HINGE_QTY
				!BOTTOM HINGE
				CREATE_UDF udf\xycsys ASSEM
					UDF_REF ATTACH REFX
					UDF_DIM	DIMX -SNAPX
					UDF_DIM	DIMY 0
					UDF_EXP_REF refCsys CSYS 0
				END_CREATE_UDF

				GET_DRW_VIEW_REF_POS refView pnt1 pos1
				GET_DRW_VIEW_REF_POS refView refCsys pos2
				GET_DRW_VIEW_REF_POS refView REFX pos3			
				CREATE_DRW_VIEW_DIM refView 2 pnt1 refCsys pos3.x  pos1.y-((pos1.y - pos2.y)/2)REFDIM
				IF HINGE_DIMENSION_METHOD == 0 OR HINGE_DIMENSION_METHOD == 1
					SET_DIM_TEXT refDim "@D"+"\""+ " CL"
				END_IF
			END_IF
			HINGE_INDEX ++
		END_FOR	
	END_IF
	
!ELEC HINGE
	IF ELECTRIC_HINGE_POSITION > 0
		CLEAR_CATCH_ERROR
		BEGIN_CATCH_ERROR
			SEARCH_MDL_REF RECURSIVE ASSEM CSYS "ELEC1D" ELEC1
			IF ERROR
				CLEAR_CATCH_ERROR
			ELSE_IF OPENING_TYPE == 1
				GET_DRW_VIEW_REF_POS refView ELEC1 pos1
				CREATE_DRW_VIEW_NOTE refView pos1.x+.25 pos1.y-.375 ELEC_HINGE_MODEL + "\nELEC\nHINGE" HEIGHT .09 HORIZONTAL CENTER VERTICAL BOTTOM WITH_LEADER ELEC1 REFNOTE		
				CLEAR_CATCH_ERROR
			END_IF

			SEARCH_MDL_REF RECURSIVE ASSEM CSYS "ELEC1F" ELEC1	
			IF ERROR
				CLEAR_CATCH_ERROR
			ELSE
				CREATE_UDF udf\xycsys ASSEM
					UDF_REF ATTACH ELEC1
					UDF_DIM	DIMX -FACEE - (SNAPX/4)
					UDF_DIM	DIMY 0
					UDF_EXP_REF refCsys CSYS 0
				END_CREATE_UDF
				GET_DRW_VIEW_REF_POS refView refCsys pos1
				CREATE_DRW_VIEW_NOTE refView pos1.x pos1.y-(.004/Scale) ELEC_HINGE_MODEL + "\nELEC\nHINGE" HEIGHT .06 HORIZONTAL CENTER
				CLEAR_CATCH_ERROR
			END_IF
			
			SEARCH_MDL_REF RECURSIVE ASSEM CSYS "ELECLF" ELEC1	
			IF ERROR
				CLEAR_CATCH_ERROR
			ELSE
				CREATE_UDF udf\xycsys ASSEM
					UDF_REF ATTACH ELEC1
					UDF_DIM	DIMX -FACEE - (SNAPX/4)
					UDF_DIM	DIMY 0
					UDF_EXP_REF refCsys CSYS 0
				END_CREATE_UDF
				GET_DRW_VIEW_REF_POS refView refCsys pos1
				CREATE_DRW_VIEW_NOTE refView pos1.x pos1.y-(.004/Scale) ELEC_HINGE_MODEL + "\nELEC\nHINGE" HEIGHT .06 HORIZONTAL CENTER
				CLEAR_CATCH_ERROR
			END_IF
			
			SEARCH_MDL_REF RECURSIVE ASSEM CSYS "ELECRF" ELEC1	
			IF ERROR
				CLEAR_CATCH_ERROR
			ELSE
				CREATE_UDF udf\xycsys ASSEM
					UDF_REF ATTACH ELEC1
					UDF_DIM	DIMX -FACEE - (SNAPX/4)
					UDF_DIM	DIMY 0
					UDF_EXP_REF refCsys CSYS 0
				END_CREATE_UDF
				GET_DRW_VIEW_REF_POS refView refCsys pos1
				CREATE_DRW_VIEW_NOTE refView pos1.x pos1.y-(.004/Scale) ELEC_HINGE_MODEL_RIGHT + "\nELEC\nHINGE" HEIGHT .06 HORIZONTAL CENTER
				CLEAR_CATCH_ERROR
			END_IF
		END_CATCH_ERROR
	END_IF
!NEXT LINE
	!JOH	
	IF SECTION == 0 OR HINGE_TYPE == "CONTINUOUS"
		SEARCH_MDL_REF ASSEM CSYS "HINGE" REFX	
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX SNAPX
			UDF_DIM	DIMY 0
			UDF_EXP_REF REFX CSYS 0
		END_CREATE_UDF
	END_IF

	IF SECTION == 0 AND HINGE_TYPE == "ELIASON"
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX -SNAPX
			UDF_DIM	DIMY 0
			UDF_EXP_REF REFX CSYS 0
		END_CREATE_UDF		
		
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX 0
			UDF_DIM	DIMY 0
			UDF_EXP_REF REF1 CSYS 0
		END_CREATE_UDF
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX 0
			UDF_DIM	DIMY 24
			UDF_EXP_REF REF2 CSYS 0
		END_CREATE_UDF
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX SNAPX
			UDF_DIM	DIMY 12
			UDF_EXP_REF DIM CSYS 0
		END_CREATE_UDF
		GET_DRW_VIEW_REF_POS refView DIM pos
		CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y REFDIM

		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX 0
			UDF_DIM	DIMY JOH
			UDF_EXP_REF REF1 CSYS 0
		END_CREATE_UDF
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX 0
			UDF_DIM	DIMY JOH-6
			UDF_EXP_REF REF2 CSYS 0
		END_CREATE_UDF
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX SNAPX
			UDF_DIM	DIMY JOH-3
			UDF_EXP_REF DIM CSYS 0
		END_CREATE_UDF
		GET_DRW_VIEW_REF_POS refView DIM pos
		CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y REFDIM

		IF SUB_TYPE == "P"
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX -JOW
				UDF_DIM	DIMY 0
				UDF_EXP_REF REFX CSYS 0
			END_CREATE_UDF		
			
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY 0
				UDF_EXP_REF REF1 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY 24
				UDF_EXP_REF REF2 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX -SNAPX
				UDF_DIM	DIMY 12
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y REFDIM

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY JOH
				UDF_EXP_REF REF1 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY JOH-6
				UDF_EXP_REF REF2 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX -SNAPX
				UDF_DIM	DIMY JOH-3
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y REFDIM
			
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX JOW
				UDF_DIM	DIMY 0
				UDF_EXP_REF REFX CSYS 0
			END_CREATE_UDF		
		END_IF
		
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX SNAPX
			UDF_DIM	DIMY 0
			UDF_EXP_REF REFX CSYS 0
		END_CREATE_UDF		
	END_IF
		
	IF FRAME_ELEVATION == 4 AND (OPENING_TYPE == 2 OR OPENING_TYPE == 3 OR OPENING_TYPE == 4)
		!SILL
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX 0
			UDF_DIM	DIMY 0
			UDF_EXP_REF REF1 CSYS 0
		END_CREATE_UDF
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX 0
			UDF_DIM	DIMY -SILL
			UDF_EXP_REF REF2 CSYS 0
		END_CREATE_UDF
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX SNAPX
			UDF_DIM	DIMY -SNAPY
			UDF_EXP_REF DIM CSYS 0
		END_CREATE_UDF
		GET_DRW_VIEW_REF_POS refView DIM pos
		CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y REFDIM
		SET_DIM_TEXT refDim "@D SILL"
	END_IF
	
	IF FRAME_ELEVATION < 30 OR (FRAME_ELEVATION == 31 AND HAND == "LH" AND SIDE_LITE_SIDE == 2) OR (FRAME_ELEVATION == 31 AND HAND == "RHR" AND SIDE_LITE_SIDE == 1) OR \
							  (FRAME_ELEVATION == 31 AND HAND == "RH" AND SIDE_LITE_SIDE == 1) OR (FRAME_ELEVATION == 31 AND HAND == "LHR" AND SIDE_LITE_SIDE == 2)
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX 0
			UDF_DIM	DIMY 0
			UDF_EXP_REF REF1 CSYS 0
		END_CREATE_UDF
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX 0
			UDF_DIM	DIMY JOH
			UDF_EXP_REF REF2 CSYS 0
		END_CREATE_UDF
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFX
			UDF_DIM	DIMX SNAPX
			UDF_DIM	DIMY JOH/2
			UDF_EXP_REF DIM CSYS 0
		END_CREATE_UDF
		GET_DRW_VIEW_REF_POS refView DIM pos
		CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y REFDIM
		SET_DIM_TEXT REFDIM "@D\nJOH" !"("+itos(JOH*25.4)+")"+"\n"+"JOH"	
				
		IF (OPENING_TYPE == 2 OR OPENING_TYPE == 3 OR OPENING_TYPE == 4) AND FRAME_ELEVATION < 30
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY JOH
				UDF_EXP_REF REF1 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF1
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY HEAD
				UDF_EXP_REF REF2 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF2
				UDF_DIM	DIMX SNAPX
				UDF_DIM	DIMY SNAPY/2
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y REFDIM
			SET_DIM_TEXT REFDIM "@D HEAD"
		END_IF
		
		IF FRAME_ELEVATION > 30 AND HAND <> "LH*"
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFX
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY JOH
				UDF_EXP_REF REF1 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF1
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY HEAD
				UDF_EXP_REF REF2 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF2
				UDF_DIM	DIMX SNAPX
				UDF_DIM	DIMY SNAPY/2
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y REFDIM
			SET_DIM_TEXT REFDIM "@D HEAD"
		END_IF
		
	END_IF	
	
	! IF OPENING_TYPE == 2 OR OPENING_TYPE == 3			
		! IF FLOOR_CLIPS == "FIXED"
			! CREATE_UDF udf\xycsys ASSEM
				! UDF_REF ATTACH ORNT_CSYS
				! UDF_DIM	DIMX (JOW+FACEE)/2
				! UDF_DIM	DIMY 0
				! UDF_EXP_REF REF1 CSYS 0
			! END_CREATE_UDF
			! CREATE_UDF udf\pnt ASSEM
				! UDF_REF ATTACH REF1
				! UDF_EXP_REF PNT POINT 0
			! END_CREATE_UDF
			! CREATE_UDF udf\xycsys ASSEM
				! UDF_REF ATTACH REF1
				! UDF_DIM	DIMX -.156/Scale
				! UDF_DIM	DIMY -.156/Scale
				! UDF_EXP_REF NOTE CSYS 0
			! END_CREATE_UDF
			! GET_DRW_VIEW_REF_POS refView NOTE pos
			! CREATE_DRW_VIEW_NOTE refView pos.x pos.y  FLOOR_CLIPS + " FLOOR CLIPS" HEIGHT .09 WITH_LEADER PNT
		! END_IF
		! IF FLOOR_CLIPS == "INVERTED"
			! CREATE_UDF udf\xycsys ASSEM
				! UDF_REF ATTACH ORNT_CSYS
				! UDF_DIM	DIMX (JOW-2)/2
				! UDF_DIM	DIMY 0
				! UDF_EXP_REF REF1 CSYS 0
			! END_CREATE_UDF
			! CREATE_UDF udf\pnt ASSEM
				! UDF_REF ATTACH REF1
				! UDF_EXP_REF PNT POINT 0
			! END_CREATE_UDF
			! CREATE_UDF udf\xycsys ASSEM
				! UDF_REF ATTACH REF1
				! UDF_DIM	DIMX -.156/Scale
				! UDF_DIM	DIMY -.156/Scale
				! UDF_EXP_REF NOTE CSYS 0
			! END_CREATE_UDF
			! GET_DRW_VIEW_REF_POS refView NOTE pos
			! CREATE_DRW_VIEW_NOTE refView pos.x pos.y  FLOOR_CLIPS + " INVERTED CLIPS" HEIGHT .09 WITH_LEADER PNT
		! END_IF
	! END_IF	
		
	DECLARE_VARIABLE DOUBLE X1
	X1 = 100
	DECLARE_VARIABLE DOUBLE X2
	X2 = -100
	SEARCH_MDL_REFS ASSEM CSYS "*" CSYSREFS
	FOR CSYSREF REF ARRAY CSYSREFS
		GET_DRW_VIEW_REF_POS refView CSYSREF pos
		IF pos.x < X1
			X1 = pos.x
		END_IF
	END_FOR
	FOR CSYSREF REF ARRAY CSYSREFS
		GET_DRW_VIEW_REF_POS refView CSYSREF pos
		IF pos.x > X2
			X2 = pos.x
		END_IF
	END_FOR
	GET_DRW_VIEW_POS NULL refView x y
	! MOVE_DRW_VIEW NULL refView 5+((X1+((X2-X1)/2))-5) y

	DECLARE_VARIABLE DOUBLE XX
	XX = 5-((X1+((X2-X1)/2))-5)
PRINT "%" X1
PRINT "%" X2
PRINT "%" XX
! EXI

! BEGIN LEFT TO RIGHT DIMENSIONS ACROSS TOP
!BEGIN REFY
	IF SUB_TYPE == "S"
		SEARCH_MDL_REF ASSEM CSYS "HINGE_HEAD" REFY
	ELSE_IF SUB_TYPE == "P"
		SEARCH_MDL_REF ASSEM CSYS "P_LEFT_HEAD" REFY
	ELSE
		SEARCH_MDL_REF ASSEM CSYS "P_LEFT_HEAD" REFY	
	END_IF
	
	IF OPENING_TYPE == 2 OR OPENING_TYPE == 3 OR OPENING_TYPE == 4
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFY
			UDF_DIM	DIMX 0
			UDF_DIM	DIMY HEAD
			UDF_EXP_REF REFY CSYS 0
		END_CREATE_UDF
	ELSE_IF OPENING_TYPE == 1
	! SEARCH_MDL_REF ASSEM CSYS "HINGE_HEAD" REFY
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFY
			UDF_DIM	DIMX 0
			UDF_DIM	DIMY 0
			UDF_EXP_REF REFY CSYS 0
		END_CREATE_UDF
	END_IF	
!END REFY
	
!BEGIN DOOR WIDTH & GAPS
	IF OPENING_TYPE ==1 OR OPENING_TYPE == 3
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFY
			UDF_DIM	DIMX 0
			UDF_DIM	DIMY 0
			UDF_EXP_REF REF1 CSYS 0
		END_CREATE_UDF
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFY
			UDF_DIM	DIMX HINGE_GAP
			UDF_DIM	DIMY 0
			UDF_EXP_REF REF2 CSYS 0
		END_CREATE_UDF
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REF1
			UDF_DIM	DIMX SNAPX/2
			UDF_DIM	DIMY SNAPY/2
			UDF_EXP_REF DIM CSYS 0
		END_CREATE_UDF
		GET_DRW_VIEW_REF_POS refView DIM pos
		CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y ORIENTATION HORIZONTAL REFDIM
		SET_DIM_TEXT refDim "@D HINGE"
		
		IF SUB_TYPE == "P"
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF2
				UDF_DIM	DIMX DOOR_WIDTH
				UDF_DIM	DIMY SNAPY/4
				UDF_EXP_REF REF3 CSYS 0
			END_CREATE_UDF
		ELSE
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF2
				UDF_DIM	DIMX DOOR_WIDTH
				UDF_DIM	DIMY 0
				UDF_EXP_REF REF3 CSYS 0
			END_CREATE_UDF
		END_IF
		
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REF2
			UDF_DIM	DIMX DOOR_WIDTH/2
			UDF_DIM	DIMY SNAPY
			UDF_EXP_REF DIM CSYS 0
		END_CREATE_UDF
		GET_DRW_VIEW_REF_POS refView DIM pos
		CREATE_DRW_VIEW_DIM refView 2 REF2 REF3 pos.x pos.y ORIENTATION HORIZONTAL REFDIM
		SET_DIM_TEXT refDim "@D NET"
		
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REF3
			UDF_DIM	DIMX STRIKE_GAP
			UDF_DIM	DIMY 0
			UDF_EXP_REF REF4 CSYS 0
		END_CREATE_UDF
		
		IF SUB_TYPE == "P" AND DOOR_WIDTH <= DOOR_WIDTH_2
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF4
				UDF_DIM	DIMX SNAPX/2
				UDF_DIM	DIMY SNAPY/2
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
		ELSE
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF4
				UDF_DIM	DIMX -SNAPX/2
				UDF_DIM	DIMY SNAPY/2
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
		END_IF

		GET_DRW_VIEW_REF_POS refView DIM pos
		CREATE_DRW_VIEW_DIM refView 2 REF3 REF4 pos.x pos.y ORIENTATION HORIZONTAL REFDIM
		SET_DIM_TEXT refDim "@D STRIKE"
	
		IF SUB_TYPE == "P"
		
			SET_DIM_TEXT refDim "@D"
			
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF4
				UDF_DIM	DIMX DOOR_WIDTH_2
				UDF_DIM	DIMY -SNAPY/4
				UDF_EXP_REF REF5 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF4
				UDF_DIM	DIMX DOOR_WIDTH_2/2
				UDF_DIM	DIMY SNAPY-(SNAPY/4)
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF4 REF5 pos.x pos.y ORIENTATION HORIZONTAL REFDIM
			SET_DIM_TEXT refDim "@D NET"

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF5
				UDF_DIM	DIMX HINGE_GAP
				UDF_DIM	DIMY 0
				UDF_EXP_REF REF6 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF5
				UDF_DIM	DIMX -SNAPX/2
				UDF_DIM	DIMY SNAPY/2
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF5 REF6 pos.x pos.y ORIENTATION HORIZONTAL REFDIM
			SET_DIM_TEXT refDim "@D HINGE"
		END_IF
		!SNAPY
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFY
			UDF_DIM	DIMX 0
			UDF_DIM	DIMY SNAPY
			UDF_EXP_REF REFY CSYS 0
		END_CREATE_UDF
	END_IF	
!END DOOR WIDTH & GAPS

!BEGIN JOW & FACES
!JOW

	IF HINGE_TYPE == "ELIASON"
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFY
			UDF_DIM	DIMX 0
			UDF_DIM	DIMY 0
			UDF_EXP_REF REF1 CSYS 0
		END_CREATE_UDF
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFY
			UDF_DIM	DIMX 12
			UDF_DIM	DIMY 0
			UDF_EXP_REF REF2 CSYS 0
		END_CREATE_UDF
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFY
			UDF_DIM	DIMX 6
			UDF_DIM	DIMY SNAPY
			UDF_EXP_REF DIM CSYS 0
		END_CREATE_UDF
		GET_DRW_VIEW_REF_POS refView DIM pos
		CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y ORIENTATION HORIZONTAL REFDIM

		IF SUB_TYPE == "P"
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFY
				UDF_DIM	DIMX JOW
				UDF_DIM	DIMY 0
				UDF_EXP_REF REF1 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFY
				UDF_DIM	DIMX JOW-12
				UDF_DIM	DIMY 0
				UDF_EXP_REF REF2 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFY
				UDF_DIM	DIMX JOW-6
				UDF_DIM	DIMY SNAPY
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y ORIENTATION HORIZONTAL REFDIM		
		END_IF
		
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFY
			UDF_DIM	DIMX 0
			UDF_DIM	DIMY SNAPY
			UDF_EXP_REF REFY CSYS 0
		END_CREATE_UDF
	END_IF

	IF FRAME_ELEVATION < 30
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFY
			UDF_DIM	DIMX 0
			UDF_DIM	DIMY 0
			UDF_EXP_REF REF1 CSYS 0
		END_CREATE_UDF
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFY
			UDF_DIM	DIMX JOW
			UDF_DIM	DIMY 0
			UDF_EXP_REF REF2 CSYS 0
		END_CREATE_UDF
		CREATE_UDF udf\xycsys ASSEM
			UDF_REF ATTACH REFY
			UDF_DIM	DIMX JOW/2
			UDF_DIM	DIMY SNAPY*1.5
			UDF_EXP_REF DIM CSYS 0
		END_CREATE_UDF
		GET_DRW_VIEW_REF_POS refView DIM pos
		CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y ORIENTATION HORIZONTAL REFDIM
		SET_DIM_TEXT refDim "@D JOW "  !+"("+itos(JOW*25.4)+")"
	END_IF
!FACE(S)
	IF OPENING_TYPE == 2 OR OPENING_TYPE == 3 OR OPENING_TYPE == 4
		IF FRAME_ELEVATION < 30
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF1
				UDF_DIM	DIMX -FACEE
				UDF_DIM	DIMY 0
				UDF_EXP_REF REF3 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF3
				UDF_DIM	DIMX -SNAPX/2
				UDF_DIM	DIMY SNAPY
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF1 REF3 pos.x pos.y ORIENTATION HORIZONTAL REFDIM
			SET_DIM_TEXT refDim "@D FACE"

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF2
				UDF_DIM	DIMX FACEE
				UDF_DIM	DIMY 0
				UDF_EXP_REF REF3 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF3
				UDF_DIM	DIMX SNAPX/2
				UDF_DIM	DIMY SNAPY
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF2 REF3 pos.x pos.y ORIENTATION HORIZONTAL REFDIM
			SET_DIM_TEXT refDim "@D FACE"	
		END_IF

		IF FRAME_ELEVATION == 31 !AND (((HAND == "RH" OR HAND == "LH") AND SIDE_LITE_SIDE == 2) OR ((HAND == "RHR" OR HAND == "LHR") AND SIDE_LITE_SIDE == 1)) OR \
		
			IF FRAME_ELEVATION == 31 AND ((SIDE_LITE_SIDE == 2 AND (HAND == "LH" OR HAND == "LHR")) OR (SIDE_LITE_SIDE == 1 AND (HAND == "RH" OR HAND == "RHR")))
				SEARCH_MDL_REF ASSEM CSYS "HINGE_HEAD" REFY
			ELSE_IF FRAME_ELEVATION == 31 AND ((SIDE_LITE_SIDE == 1 AND (HAND == "LH" OR HAND == "LHR")) OR (SIDE_LITE_SIDE == 2 AND (HAND == "RH" OR HAND == "RHR")))
				SEARCH_MDL_REF ASSEM CSYS "STRIKE_HEAD" REFY
			END_IF

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFY
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY 0
				UDF_EXP_REF REF1 CSYS 0
			END_CREATE_UDF
			
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF1
				UDF_DIM	DIMX -FACEE
				UDF_DIM	DIMY 0
				UDF_EXP_REF REF2 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF2
				UDF_DIM	DIMX -SNAPX/2
				UDF_DIM	DIMY SNAPY
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y ORIENTATION HORIZONTAL REFDIM
			SET_DIM_TEXT refDim "@D FACE"	
			
			
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFY
				UDF_DIM	DIMX JOW
				UDF_DIM	DIMY 0
				UDF_EXP_REF REF2 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFY
				UDF_DIM	DIMX JOW/2
				UDF_DIM	DIMY SNAPY*1.5
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REFY REF2 pos.x pos.y ORIENTATION HORIZONTAL REFDIM
			SET_DIM_TEXT refDim "@D JOW "  !+"("+itos(JOW*25.4)+")"
		
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF2
				UDF_DIM	DIMX SIDE_LITE_MULLION
				UDF_DIM	DIMY 0
				UDF_EXP_REF REF3 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF3
				UDF_DIM	DIMX SNAPX/2
				UDF_DIM	DIMY SNAPY
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF2 REF3 pos.x pos.y ORIENTATION HORIZONTAL REFDIM
			SET_DIM_TEXT refDim "@D MULL"

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF3
				UDF_DIM	DIMX SIDE_LITE_JOW
				UDF_DIM	DIMY 0
				UDF_EXP_REF REF4 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF3
				UDF_DIM	DIMX SIDE_LITE_JOW/2
				UDF_DIM	DIMY SNAPY*1.5
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF3 REF4 pos.x pos.y ORIENTATION HORIZONTAL REFDIM
			SET_DIM_TEXT refDim "@D LITE JOW"
			
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF4
				UDF_DIM	DIMX FACEE
				UDF_DIM	DIMY 0
				UDF_EXP_REF REF5 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF5
				UDF_DIM	DIMX SNAPX/2
				UDF_DIM	DIMY SNAPY
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF4 REF5 pos.x pos.y ORIENTATION HORIZONTAL REFDIM
			SET_DIM_TEXT refDim "@D FACE"

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFY
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY 0
				UDF_EXP_REF REF1 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF1
				UDF_DIM	DIMX -FACEE
				UDF_DIM	DIMY 0
				UDF_EXP_REF REF1 CSYS 0
			END_CREATE_UDF			
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF5
				UDF_DIM	DIMX -(((FACEE*2)+JOW+(SIDE_LITE_JOW*SIDE_LITE_QTY)+(SIDE_LITE_MULLION*SIDE_LITE_QTY))/2)
				UDF_DIM	DIMY SNAPY*2.5
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF1 REF5 pos.x pos.y ORIENTATION HORIZONTAL REFDIM
			SET_DIM_TEXT refDim "@D OUT-TO-OUT"

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF5
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY HEAD
				UDF_EXP_REF REF6 CSYS 0
			END_CREATE_UDF
			
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF5
				UDF_DIM	DIMX SNAPX
				UDF_DIM	DIMY SNAPY/2
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
				IF (STD_REV == "STD" AND SIDE_LITE_SIDE == 2) OR (STD_REV == "REV" AND SIDE_LITE_SIDE == 2)
					GET_DRW_VIEW_REF_POS refView DIM pos
					CREATE_DRW_VIEW_DIM refView 2 REF5 REF6 pos.x pos.y REFDIM
					SET_DIM_TEXT REFDIM "@D HEAD"
				END_IF
			
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF5
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY -(JOH-SILL)
				UDF_EXP_REF REF7 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF5
				UDF_DIM	DIMX SNAPX
				UDF_DIM	DIMY -(JOH-SILL)/2
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF5 REF7 pos.x pos.y REFDIM
			SET_DIM_TEXT REFDIM "@D\n"+"LITE\nJOH" !"("+itos(JOH*25.4)+")"+"\n"+"JOH"	

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF7
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY -SILL
				UDF_EXP_REF REF8 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF8
				UDF_DIM	DIMX SNAPX
				UDF_DIM	DIMY -SNAPY/2
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF7 REF8 pos.x pos.y REFDIM
			SET_DIM_TEXT REFDIM "@D\n"+"SILL" !"("+itos(JOH*25.4)+")"+"\n"+"JOH"				
		END_IF
		
		IF FRAME_ELEVATION == 32
			SEARCH_MDL_REF ASSEM CSYS "P_LEFT_HEAD" REFY

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFY
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY 0
				UDF_EXP_REF REF1 CSYS 0
			END_CREATE_UDF
			
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF1
				UDF_DIM	DIMX -FACEE
				UDF_DIM	DIMY 0
				UDF_EXP_REF REF2 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF2
				UDF_DIM	DIMX -SNAPX/2
				UDF_DIM	DIMY SNAPY
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y ORIENTATION HORIZONTAL REFDIM
			SET_DIM_TEXT refDim "@D MULL"	

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF2
				UDF_DIM	DIMX -SIDE_LITE_JOW
				UDF_DIM	DIMY 0
				UDF_EXP_REF REF3 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF2
				UDF_DIM	DIMX -SIDE_LITE_JOW/2
				UDF_DIM	DIMY SNAPY*1.5
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF2 REF3 pos.x pos.y ORIENTATION HORIZONTAL REFDIM
			SET_DIM_TEXT refDim "@D LITE JOW"	
			
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF3
				UDF_DIM	DIMX -FACEE
				UDF_DIM	DIMY 0
				UDF_EXP_REF REF4 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF3
				UDF_DIM	DIMX -SNAPX/2
				UDF_DIM	DIMY SNAPY
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF3 REF4 pos.x pos.y ORIENTATION HORIZONTAL REFDIM
			SET_DIM_TEXT refDim "@D FACE"	

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF4
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY -(JOH-SILL)
				UDF_EXP_REF REF5 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF5
				UDF_DIM	DIMX -SNAPX
				UDF_DIM	DIMY (JOH-SILL)/2
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF4 REF5 pos.x pos.y REFDIM
			SET_DIM_TEXT REFDIM "@D\n"+"LITE\nJOH" !"("+itos(JOH*25.4)+")"+"\n"+"JOH"	
			
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF5
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY -SILL
				UDF_EXP_REF REF6 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF6
				UDF_DIM	DIMX -SNAPX
				UDF_DIM	DIMY -SNAPY/2
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF5 REF6 pos.x pos.y REFDIM
			SET_DIM_TEXT REFDIM "@D\n"+"SILL" !"("+itos(JOH*25.4)+")"+"\n"+"JOH"				
			
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFY
				UDF_DIM	DIMX JOW
				UDF_DIM	DIMY 0
				UDF_EXP_REF REF2 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFY
				UDF_DIM	DIMX JOW/2
				UDF_DIM	DIMY SNAPY*1.5
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REFY REF2 pos.x pos.y ORIENTATION HORIZONTAL REFDIM
			SET_DIM_TEXT refDim "@D JOW "  !+"("+itos(JOW*25.4)+")"
		
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF2
				UDF_DIM	DIMX SIDE_LITE_MULLION
				UDF_DIM	DIMY 0
				UDF_EXP_REF REF3 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF3
				UDF_DIM	DIMX SNAPX/2
				UDF_DIM	DIMY SNAPY
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF2 REF3 pos.x pos.y ORIENTATION HORIZONTAL REFDIM
			SET_DIM_TEXT refDim "@D MULL"

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF3
				UDF_DIM	DIMX SIDE_LITE_JOW
				UDF_DIM	DIMY 0
				UDF_EXP_REF REF4 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF3
				UDF_DIM	DIMX SIDE_LITE_JOW/2
				UDF_DIM	DIMY SNAPY*1.5
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF3 REF4 pos.x pos.y ORIENTATION HORIZONTAL REFDIM
			SET_DIM_TEXT refDim "@D LITE JOW"
			
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF4
				UDF_DIM	DIMX FACEE
				UDF_DIM	DIMY 0
				UDF_EXP_REF REF5 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF5
				UDF_DIM	DIMX SNAPX/2
				UDF_DIM	DIMY SNAPY
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF4 REF5 pos.x pos.y ORIENTATION HORIZONTAL REFDIM
			SET_DIM_TEXT refDim "@D FACE"

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REFY
				UDF_DIM	DIMX -SIDE_LITE_MULLION-SIDE_LITE_JOW-FACEE
				UDF_DIM	DIMY 0
				UDF_EXP_REF REF1 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF1
				UDF_DIM	DIMX FACEE+SIDE_LITE_JOW+SIDE_LITE_MULLION+JOW+SIDE_LITE_MULLION+SIDE_LITE_JOW+FACEE
				UDF_DIM	DIMY 0
				UDF_EXP_REF REF2 CSYS 0
			END_CREATE_UDF			
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF1
				UDF_DIM	DIMX (FACEE+SIDE_LITE_JOW+SIDE_LITE_MULLION+JOW+SIDE_LITE_MULLION+SIDE_LITE_JOW+FACEE)/2
				UDF_DIM	DIMY SNAPY*2.5
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF1 REF2 pos.x pos.y ORIENTATION HORIZONTAL REFDIM
			SET_DIM_TEXT refDim "@D OUT-TO-OUT"

			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF2
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY HEAD
				UDF_EXP_REF REF3 CSYS 0
			END_CREATE_UDF
			
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF3
				UDF_DIM	DIMX SNAPX
				UDF_DIM	DIMY SNAPY/3
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF2 REF3 pos.x pos.y REFDIM
			SET_DIM_TEXT REFDIM "@D HEAD"
			
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF2
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY -JOH
				UDF_EXP_REF REF3 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH REF3
				UDF_DIM	DIMX SNAPX
				UDF_DIM	DIMY JOH/2
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView DIM pos
			CREATE_DRW_VIEW_DIM refView 2 REF2 REF3 pos.x pos.y ORIENTATION VERTICAL REFDIM
			SET_DIM_TEXT refDim "@D \nJOH "  !+"("+itos(JOW*25.4)+")"
		END_IF
	
	END_IF
!SNAPY
	CREATE_UDF udf\xycsys ASSEM
		UDF_REF ATTACH REFY
		UDF_DIM	DIMX 0
		UDF_DIM	DIMY SNAPY
		UDF_EXP_REF REFY CSYS 0
	END_CREATE_UDF		
!END JOW LINE

	IF OPENING_TYPE == 1 OR OPENING_TYPE == 3
		IF (DOOR_ELEVATION == "*G*" OR DOOR_ELEVATION == "*N*" OR DOOR_ELEVATION == "*V*") AND (DOOR_LITE_TRIM_TYPE == "A" OR DOOR_LITE_TRIM_TYPE == "B" OR DOOR_LITE_TRIM_TYPE == "C")
			SEARCH_MDL_REF ASSEM COMPONENT "DOOR_ASM_1*" ASM_1
			CALC_FRACTION REDUCE TRUE VISION_WIDTH 16 fraction
			SEARCH_MDL_REF RECURSIVE ASM_1 POINT "V_WIDTH" PNT
			GET_DRW_VIEW_REF_POS refView PNT pos
			IF DOOR_LITE_TRIM_TYPE == "A"
				CREATE_DRW_VIEW_NOTE refView pos.x pos.y fraction.fraction_string+"\n(Cutout)" HORIZONTAL CENTER
			END_IF
			IF DOOR_LITE_TRIM_TYPE == "B" OR DOOR_LITE_TRIM_TYPE == "C"
				CREATE_DRW_VIEW_NOTE refView pos.x pos.y fraction.fraction_string+"\n(Viewable)" HORIZONTAL CENTER
			END_IF
			
			! CALC_FRACTION REDUCE TRUE VISION_HEIGHT 16 fraction
			! SEARCH_MDL_REF RECURSIVE ASM_1 POINT "V_HEIGHT" PNT
			! GET_DRW_VIEW_REF_POS refView PNT pos
			! CREATE_DRW_VIEW_NOTE refView pos.x pos.y fraction.fraction_string HORIZONTAL CENTER
		END_IF
		
		IF DOOR_ELEVATION == "N" AND (OPENING_TYPE ==1 OR OPENING_TYPE == 3)
			! SEARCH_MDL_REF ASSEM COMPONENT "DOOR_ASM_1*" ASM_1
			! SEARCH_MDL_REF RECURSIVE ASM_1 POINT "V_WIDTH" PNT
			! GET_DRW_VIEW_REF_POS refView PNT pos
			! CREATE_DRW_VIEW_NOTE refView pos.x pos.y ftos(VISION_WIDTH) HORIZONTAL CENTER
			
			! SEARCH_MDL_REF RECURSIVE ASM_1 POINT "V_HEIGHT" PNT
			! GET_DRW_VIEW_REF_POS refView PNT pos
			! CREATE_DRW_VIEW_NOTE refView pos.x pos.y ftos(VISION_HEIGHT) HORIZONTAL CENTER
			
			SEARCH_MDL_REF ASM_1 COMPONENT "*VISION*" VISION_KIT
			SEARCH_MDL_REF VISION_KIT CSYS "PLACEMENT" PNT
			GET_DRW_VIEW_REF_POS refView PNT pos

			CALC_FRACTION REDUCE TRUE VISION_STRIKE_STILE 16 fraction

			IF (HAND == "L*" AND SUB_TYPE == "S") OR SUB_TYPE == "P"
				CREATE_DRW_VIEW_NOTE refView pos.x+(((VISION_WIDTH/2)+(VISION_STRIKE_STILE/2))*Scale)+(.75*Scale) pos.y fraction.fraction_string HORIZONTAL CENTER
			END_IF
			IF (HAND == "R*" AND SUB_TYPE == "S")
				CREATE_DRW_VIEW_NOTE refView pos.x-(((VISION_WIDTH/2)+(VISION_STRIKE_STILE/2))*Scale)-(1.25*Scale) pos.y fraction.fraction_string HORIZONTAL CENTER		
			END_IF
			
			! IF (HAND == "L*" AND SUB_TYPE == "S") OR SUB_TYPE == "P"
				! CREATE_DRW_VIEW_NOTE refView pos.x+(((VISION_WIDTH/2)+(VISION_STRIKE_STILE/2))*Scale)+(.75*Scale) pos.y+((VISION_HEIGHT/2)*Scale) fraction.fraction_string HORIZONTAL CENTER
			! END_IF
			! IF (HAND == "R*" AND SUB_TYPE == "S")
				! CREATE_DRW_VIEW_NOTE refView pos.x-(((VISION_WIDTH/2)+(VISION_STRIKE_STILE/2))*Scale)-(1.25*Scale) pos.y+((VISION_HEIGHT/2)*Scale) fraction.fraction_string HORIZONTAL CENTER		
			! END_IF
		END_IF

		IF (DOOR_ELEVATION_2 == "*G*" OR DOOR_ELEVATION_2 == "*N*" OR DOOR_ELEVATION_2 == "*V*") AND (DOOR_LITE_TRIM_TYPE_2 == "A" OR DOOR_LITE_TRIM_TYPE_2 == "B" OR DOOR_LITE_TRIM_TYPE_2 == "C")
			SEARCH_MDL_REF ASSEM COMPONENT "DOOR_ASM_2*" ASM_2
			CALC_FRACTION REDUCE TRUE VISION_WIDTH_2 16 fraction
			SEARCH_MDL_REF RECURSIVE ASM_2 POINT "V_WIDTH" PNT
			GET_DRW_VIEW_REF_POS refView PNT pos
			
			IF DOOR_LITE_TRIM_TYPE_2 == "A"
				CREATE_DRW_VIEW_NOTE refView pos.x pos.y fraction.fraction_string+"\n(Cutout)" HORIZONTAL CENTER
			END_IF
			IF DOOR_LITE_TRIM_TYPE_2 == "B" OR DOOR_LITE_TRIM_TYPE_2 == "C"
				CREATE_DRW_VIEW_NOTE refView pos.x pos.y fraction.fraction_string+"\n(Viewable)" HORIZONTAL CENTER
			END_IF
			
			! CALC_FRACTION REDUCE TRUE VISION_HEIGHT 16 fraction
			! SEARCH_MDL_REF RECURSIVE ASM_2 POINT "V_HEIGHT" PNT
			! GET_DRW_VIEW_REF_POS refView PNT pos
			! CREATE_DRW_VIEW_NOTE refView pos.x pos.y fraction.fraction_string HORIZONTAL CENTER
		END_IF
		
		IF DOOR_ELEVATION_2 == "N" AND (OPENING_TYPE ==1 OR OPENING_TYPE == 3) AND (DOOR_LITE_TRIM_TYPE_2 == "A" OR DOOR_LITE_TRIM_TYPE_2 == "B" OR DOOR_LITE_TRIM_TYPE_2 == "C")
			SEARCH_MDL_REF ASSEM COMPONENT "DOOR_ASM_2*" ASM_2
			SEARCH_MDL_REF RECURSIVE ASM_2 POINT "V_WIDTH" PNT
			GET_DRW_VIEW_REF_POS refView PNT pos
			CREATE_DRW_VIEW_NOTE refView pos.x pos.y ftos(VISION_WIDTH_2) HORIZONTAL CENTER
			
			! SEARCH_MDL_REF RECURSIVE ASM_2 POINT "V_HEIGHT" PNT
			! GET_DRW_VIEW_REF_POS refView PNT pos
			! CREATE_DRW_VIEW_NOTE refView pos.x pos.y ftos(VISION_HEIGHT_2) HORIZONTAL CENTER

			SEARCH_MDL_REF ASM_2 COMPONENT "*VISION*" VISION_KIT
			SEARCH_MDL_REF VISION_KIT CSYS "PLACEMENT" REF_N
			GET_DRW_VIEW_REF_POS refView REF_N pos

			CALC_FRACTION REDUCE TRUE VISION_STRIKE_STILE_2 16 fraction
			CREATE_DRW_VIEW_NOTE refView pos.x-(((VISION_WIDTH_2/2)+(VISION_STRIKE_STILE_2/2))*Scale) pos.y fraction.fraction_string HORIZONTAL CENTER		
			
			! CREATE_DRW_VIEW_NOTE refView pos.x-(((VISION_WIDTH_2/2)+(VISION_STRIKE_STILE_2/2))*Scale) pos.y+((VISION_HEIGHT_2/2)*Scale) fraction.fraction_string HORIZONTAL CENTER		
		END_IF
	END_IF
	
	IF OPENING_TYPE == 1 OR OPENING_TYPE == 3
		IF KICK_PLATE == 1
			SEARCH_MDL_REFS RECURSIVE ASSEM CSYS "KICK_PLATE_NOTE_REF*" NoteRefs
			IF KICK_PLATE_SIDE == 0
				FOR NoteRef REF ARRAY NoteRefs
					GET_DRW_VIEW_REF_POS refView NoteRef pos
					CREATE_DRW_VIEW_NOTE refView pos.x pos.y itos(KICK_PLATE_GAUGE) + "  GA. T" + DOOR_GRADE + " #" + BODY_SIDE_FINISH + "  -  KICK PLATE\n" + \
					ftos(KICK_PLATE_WIDTH) +"\" WIDE X "+ ftos(KICK_PLATE_HEIGHT_PUSH)+"\" HIGH" + "\n" + "PUSH SIDE"  HEIGHT .08 HORIZONTAL CENTER
				END_FOR
			END_IF
			IF KICK_PLATE_SIDE == 1
				FOR NoteRef REF ARRAY NoteRefs
					GET_DRW_VIEW_REF_POS refView NoteRef pos
					CREATE_DRW_VIEW_NOTE refView pos.x pos.y itos(KICK_PLATE_GAUGE) + "  GA. T" + DOOR_GRADE + " #" + BODY_SIDE_FINISH + "  -  KICK PLATE\n" + \
					ftos(KICK_PLATE_WIDTH) +"\" WIDE X "+ ftos(KICK_PLATE_HEIGHT_PULL)+"\" HIGH" + "\n" + "PULL SIDE"  HEIGHT .08 HORIZONTAL CENTER
				END_FOR
			END_IF
			IF KICK_PLATE_SIDE == 2 AND KICK_PLATE_HEIGHT_PUSH == KICK_PLATE_HEIGHT_PULL
				FOR NoteRef REF ARRAY NoteRefs
					GET_DRW_VIEW_REF_POS refView NoteRef pos
					CREATE_DRW_VIEW_NOTE refView pos.x pos.y itos(KICK_PLATE_GAUGE) + "  GA. T" + DOOR_GRADE + " #" + BODY_SIDE_FINISH + "  -  KICK PLATE\n" + \
					ftos(KICK_PLATE_WIDTH) +"\" WIDE X "+ ftos(KICK_PLATE_HEIGHT_PUSH)+"\" HIGH" + "\n" + "BOTH SIDES"  HEIGHT .08 HORIZONTAL CENTER
				END_FOR
			END_IF
			IF KICK_PLATE_SIDE == 2 AND KICK_PLATE_HEIGHT_PUSH <> KICK_PLATE_HEIGHT_PULL
				GET_ARRAY_ELEM NoteRefs 0 NoteRef0
				GET_DRW_VIEW_REF_POS refView NoteRef0 pos
				CREATE_DRW_VIEW_NOTE refView pos.x pos.y itos(KICK_PLATE_GAUGE) + "  GA. T" + DOOR_GRADE + " #" + BODY_SIDE_FINISH + "  -  KICK PLATE\n" + \
				ftos(KICK_PLATE_WIDTH) +"\" WIDE X "+ ftos(KICK_PLATE_HEIGHT_PUSH)+"\" HIGH" + "\n" + "PUSH SIDE"  HEIGHT .08 HORIZONTAL CENTER

				GET_ARRAY_ELEM NoteRefs 1 NoteRef1
				GET_DRW_VIEW_REF_POS refView NoteRef1 pos
				CREATE_DRW_VIEW_NOTE refView pos.x pos.y itos(KICK_PLATE_GAUGE) + "  GA. T" + DOOR_GRADE + " #" + BODY_SIDE_FINISH + "  -  KICK PLATE\n" + \
				ftos(KICK_PLATE_WIDTH) +"\" WIDE X "+ ftos(KICK_PLATE_HEIGHT_PULL)+"\" HIGH" + "\n" + "PULL SIDE"  HEIGHT .08 HORIZONTAL CENTER
			END_IF
			
		END_IF
	END_IF

	IF OPENING_TYPE == 1 OR OPENING_TYPE == 3
		SEARCH_MDL_REF ASSEM COMPONENT "DOOR_ASM_1*" DOOR_1
		SEARCH_MDL_REF DOOR_1 CSYS "ORIENT*" NOTE_REF
	
		IF WEEP_HOLES == 1
			CREATE_UDF udf\xycsys DOOR_1
				UDF_REF ATTACH NOTE_REF
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY UNDERCUT - 1
				UDF_EXP_REF NOTE CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView NOTE pos
			CREATE_DRW_VIEW_NOTE refView pos.x pos.y "WEEP HOLES" HEIGHT .06 HORIZONTAL CENTER
		END_IF

		IF AUTO_BOTTOM == 1
			CREATE_UDF udf\xycsys DOOR_1
				UDF_REF ATTACH NOTE_REF
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY UNDERCUT + .04/Scale
				UDF_EXP_REF NOTE CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView NOTE pos
			CREATE_DRW_VIEW_NOTE refView pos.x pos.y "SURFACE APPLIED DOOR BOTTOM" HEIGHT .06 HORIZONTAL CENTER
		END_IF

		IF AUTO_BOTTOM == 2
			CREATE_UDF udf\xycsys DOOR_1
				UDF_REF ATTACH NOTE_REF
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY UNDERCUT + .04/Scale
				UDF_EXP_REF NOTE CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView NOTE pos
			CREATE_DRW_VIEW_NOTE refView pos.x pos.y AUTO_BOTT_MANUFACTURER + ":  " + AUTO_BOTT_DESC HEIGHT .09 HORIZONTAL CENTER
		END_IF
		
		IF PRIMARY_STRIKE_TYPE == 83
			BEGIN_CATCH_ERROR
				SEARCH_MDL_REFS RECURSIVE ASSEM CSYS "SVR_NOTE*" NoteRefs
				IF ERROR
					END_CATCH_ERROR
					CLEAR_CATCH_ERROR
				ELSE
					FOR NoteRef REF ARRAY NoteRefs
						GET_DRW_VIEW_REF_POS refView NoteRef pos
						CREATE_DRW_VIEW_NOTE refView pos.x pos.y "SVR" HEIGHT .06 HORIZONTAL CENTER
					END_FOR
				END_IF
			END_CATCH_ERROR
			CLEAR_CATCH_ERROR
		END_IF

		IF PRIMARY_STRIKE_TYPE == 84 OR PRIMARY_STRIKE_TYPE == 85 OR PRIMARY_STRIKE_TYPE == 86
			BEGIN_CATCH_ERROR
				SEARCH_MDL_REFS RECURSIVE ASSEM CSYS "CVR_NOTE*" NoteRefs
				IF ERROR
					END_CATCH_ERROR
					CLEAR_CATCH_ERROR
				ELSE
					FOR NoteRef REF ARRAY NoteRefs
						GET_DRW_VIEW_REF_POS refView NoteRef pos
						CREATE_DRW_VIEW_NOTE refView pos.x pos.y "CVR" HEIGHT .06 HORIZONTAL CENTER
					END_FOR
				END_IF
			END_CATCH_ERROR
			CLEAR_CATCH_ERROR
		END_IF
		
		IF SURFACE_BOLTS == 1
			BEGIN_CATCH_ERROR
				SEARCH_MDL_REFS RECURSIVE ASSEM CSYS "SURF_BOLT_NOTE" NoteRefs
				IF ERROR
					END_CATCH_ERROR
					CLEAR_CATCH_ERROR
				ELSE
					IF STD_REV == "STD"
						FOR NoteRef REF ARRAY NoteRefs
							GET_DRW_VIEW_REF_POS refView NoteRef pos
							CREATE_DRW_VIEW_NOTE refView pos.x pos.y "SURFACE\nBOLT REINF\nPULL SIDE" HEIGHT .06 HORIZONTAL CENTER
						END_FOR
					END_IF
					IF STD_REV == "REV"
						FOR NoteRef REF ARRAY NoteRefs
							GET_DRW_VIEW_REF_POS refView NoteRef pos
							CREATE_DRW_VIEW_NOTE refView pos.x pos.y "SURFACE\nBOLT REINF\nPUSH SIDE" HEIGHT .06 HORIZONTAL CENTER
						END_FOR
					END_IF
				END_IF
			END_CATCH_ERROR
			CLEAR_CATCH_ERROR
		END_IF
		
		IF SUB_TYPE == "P" AND (WEEP_HOLES == 1 OR AUTO_BOTTOM > 0)
			SEARCH_MDL_REF ASSEM COMPONENT "DOOR_ASM_2*" DOOR_2
			SEARCH_MDL_REF DOOR_2 CSYS "ORIENT*" NOTE_REF

			IF WEEP_HOLES == 1
				CREATE_UDF udf\xycsys DOOR_2
					UDF_REF ATTACH NOTE_REF
					UDF_DIM	DIMX 0
					UDF_DIM	DIMY UNDERCUT + 1
					UDF_EXP_REF NOTE CSYS 0
				END_CREATE_UDF
				GET_DRW_VIEW_REF_POS refView NOTE pos
				CREATE_DRW_VIEW_NOTE refView pos.x pos.y "WEEP HOLES" HEIGHT .06 HORIZONTAL CENTER
			END_IF
			
			IF AUTO_BOTTOM == 1
				CREATE_UDF udf\xycsys DOOR_2
					UDF_REF ATTACH NOTE_REF
					UDF_DIM	DIMX 0
					UDF_DIM	DIMY UNDERCUT + .04/Scale
					UDF_EXP_REF NOTE CSYS 0
				END_CREATE_UDF
				GET_DRW_VIEW_REF_POS refView NOTE pos
				CREATE_DRW_VIEW_NOTE refView pos.x pos.y "SURFACE APPLIED DOOR BOTTOM" HEIGHT .06 HORIZONTAL CENTER
			END_IF

			IF AUTO_BOTTOM == 2
				CREATE_UDF udf\xycsys DOOR_2
					UDF_REF ATTACH NOTE_REF
					UDF_DIM	DIMX 0
					UDF_DIM	DIMY UNDERCUT + .04/Scale
					UDF_EXP_REF NOTE CSYS 0
				END_CREATE_UDF
				GET_DRW_VIEW_REF_POS refView NOTE pos
				CREATE_DRW_VIEW_NOTE refView pos.x pos.y AUTO_BOTT_MANUFACTURER + ":  " + AUTO_BOTT_DESC HEIGHT .09 HORIZONTAL CENTER
			END_IF
		END_IF
		
	END_IF

	IF DPS > 0 AND DPS_POSITION == 0
		IF SUB_TYPE == "S"
			DECLARE_VARIABLE DOUBLE LOCX
			IF MAG_LOCK > 0
				IF STD_REV == "STD"
					LOCX = DPS_CTR + 3
				ELSE_IF STD_REV == "REV"
					LOCX = - DPS_CTR - 3
				END_IF
			ELSE
				IF STD_REV == "STD"
					LOCX = DPS_CTR
				ELSE_IF STD_REV == "REV"
					LOCX = - DPS_CTR
				END_IF
			END_IF
		
			IF HAND == "L*" AND STD_REV == "STD"
				CREATE_UDF udf\xycsys ASSEM
					UDF_REF ATTACH ORNT_CSYS
					UDF_DIM	DIMX -(JOW/2) + LOCX
					UDF_DIM	DIMY JOH-1.5
					UDF_EXP_REF NOTEPOS CSYS 0
				END_CREATE_UDF
			END_IF
			IF HAND == "R*" AND STD_REV == "STD"
				CREATE_UDF udf\xycsys ASSEM
					UDF_REF ATTACH ORNT_CSYS
					UDF_DIM	DIMX -(JOW/2) + LOCX
					UDF_DIM	DIMY JOH-1.5
					UDF_EXP_REF NOTEPOS CSYS 0
				END_CREATE_UDF
			END_IF
			IF HAND == "L*" AND STD_REV == "REV"
				CREATE_UDF udf\xycsys ASSEM
					UDF_REF ATTACH ORNT_CSYS
					UDF_DIM	DIMX -(JOW/2) - LOCX
					UDF_DIM	DIMY JOH-1.5
					UDF_EXP_REF NOTEPOS CSYS 0
				END_CREATE_UDF
			END_IF
			IF HAND == "R*" AND STD_REV == "REV"
				CREATE_UDF udf\xycsys ASSEM
					UDF_REF ATTACH ORNT_CSYS
					UDF_DIM	DIMX -(JOW/2) - LOCX
					UDF_DIM	DIMY JOH-1.5
					UDF_EXP_REF NOTEPOS CSYS 0
				END_CREATE_UDF
			END_IF
			IF OPENING_TYPE == 2 OR OPENING_TYPE == 3
				CALC_FRACTION REDUCE TRUE DPS_CTR 16 fraction
			ELSE_IF OPENING_TYPE == 1
				CALC_FRACTION REDUCE TRUE DPS_CTR-STRIKE_GAP 16 fraction
			END_IF
			GET_DRW_VIEW_REF_POS refView NOTEPOS pos
			CREATE_DRW_VIEW_NOTE refView pos.x pos.y DPS_DESC + "\n" + fraction.fraction_string+ "\""+ " CL"  HORIZONTAL CENTER HEIGHT .06
		END_IF
		
		IF SUB_TYPE == "P"
			DECLARE_VARIABLE DOUBLE LOCX
			IF DPS == 1 OR DPS == 3
				IF FLUSH_BOLTS > 0
					IF STD_REV == "STD"
						LOCX = - DPS_CTR
					ELSE_IF STD_REV == "REV"
						LOCX = - DPS_CTR
					END_IF
				ELSE
					IF STD_REV == "STD"
						LOCX = - DPS_CTR
					ELSE_IF STD_REV == "REV"
						LOCX = - DPS_CTR
					END_IF
				END_IF
				
				CREATE_UDF udf\xycsys ASSEM
					UDF_REF ATTACH DOOR_CTR_CSYS
					UDF_DIM	DIMX LOCX
					UDF_DIM	DIMY JOH-2
					UDF_EXP_REF NOTEPOS CSYS 0
				END_CREATE_UDF
				IF OPENING_TYPE == 2 OR OPENING_TYPE == 3
					CALC_FRACTION REDUCE TRUE DPS_CTR 16 fraction
				ELSE_IF OPENING_TYPE == 1
					CALC_FRACTION REDUCE TRUE DPS_CTR-(STRIKE_GAP/2) 16 fraction
				END_IF
				GET_DRW_VIEW_REF_POS refView NOTEPOS pos			
				CREATE_DRW_VIEW_NOTE refView pos.x pos.y DPS_DESC + "\n" + fraction.fraction_string+ "\""+ " CL"  HORIZONTAL CENTER HEIGHT .06			
			END_IF
			IF DPS == 2 OR DPS == 3
				IF FLUSH_BOLTS > 0
					IF STD_REV == "STD"
						LOCX = DPS_2_CTR
					ELSE_IF STD_REV == "REV"
						LOCX = DPS_2_CTR
					END_IF
				ELSE
					IF STD_REV == "STD"
						LOCX = DPS_2_CTR
					ELSE_IF STD_REV == "REV"
						LOCX = DPS_2_CTR
					END_IF
				END_IF
			
				CREATE_UDF udf\xycsys ASSEM
					UDF_REF ATTACH DOOR_CTR_CSYS
					UDF_DIM	DIMX LOCX
					UDF_DIM	DIMY JOH-2
					UDF_EXP_REF NOTEPOS CSYS 0
				END_CREATE_UDF
				IF OPENING_TYPE == 2 OR OPENING_TYPE == 3
					CALC_FRACTION REDUCE TRUE DPS_2_CTR 16 fraction
				ELSE_IF OPENING_TYPE == 1
					CALC_FRACTION REDUCE TRUE DPS_2_CTR-(STRIKE_GAP/2) 16 fraction
				END_IF
				GET_DRW_VIEW_REF_POS refView NOTEPOS pos			
				CREATE_DRW_VIEW_NOTE refView pos.x pos.y DPS_2_DESC + "\n" + fraction.fraction_string+ "\""+ " CL"  HORIZONTAL CENTER HEIGHT .06			
			END_IF
		END_IF	
	END_IF

	IF FLUSH_BOLTS > 0 AND SUB_TYPE == "P" AND (OPENING_TYPE == 1 OR OPENING_TYPE == 3)
		IF FLUSH_BOLTS == 1 OR FLUSH_BOLTS == 3
			SEARCH_MDL_REF RECURSIVE ASSEM CSYS "FBTC" FBTC
			GET_DRW_VIEW_REF_POS refView FBTC pos
			CALC_FRACTION REDUCE TRUE FLUSH_BOLT_CENTER_TOP 16 fraction
			IF TOP_BOLT_TYPE == 0
				CREATE_DRW_VIEW_NOTE refView pos.x pos.y "STD\nFB\n" + fraction.fraction_string + "\""+ " CL" HORIZONTAL CENTER VERTICAL TOP HEIGHT .06
			ELSE_IF TOP_BOLT_TYPE == 1
				CREATE_DRW_VIEW_NOTE refView pos.x pos.y FLUSH_BOLT_MODEL + "\nAUTO\nFB\n" + fraction.fraction_string + "\""+ " CL" HORIZONTAL CENTER VERTICAL TOP HEIGHT .06
			END_IF			
		END_IF
		IF FLUSH_BOLTS == 2 OR FLUSH_BOLTS == 3
			SEARCH_MDL_REF RECURSIVE ASSEM CSYS "FBBC" FBBC
			GET_DRW_VIEW_REF_POS refView FBBC pos
			CALC_FRACTION REDUCE TRUE FLUSH_BOLT_CENTER_BOTTOM 16 fraction 
			IF BOTTOM_BOLT_TYPE == 0
				CREATE_DRW_VIEW_NOTE refView pos.x pos.y "STD\nFB\n" + fraction.fraction_string + "\"" +" CL" HORIZONTAL CENTER VERTICAL TOP HEIGHT .06
			ELSE_IF 	BOTTOM_BOLT_TYPE == 1
				CREATE_DRW_VIEW_NOTE refView pos.x pos.y FLUSH_BOLT_MODEL + "\nAUTO\nFB\n" + fraction.fraction_string + "\"" + " CL" HORIZONTAL CENTER VERTICAL TOP HEIGHT .06
			END_IF
		END_IF
	END_IF
	
	IF (OPENING_TYPE == 1 OR OPENING_TYPE == 3) AND PEEP == 1
		SEARCH_MDL_REF RECURSIVE ASSEM CSYS "PEEP_REF" PEEP_REF
			GET_DRW_VIEW_REF_POS refView PEEP_REF pos
			CALC_FRACTION REDUCE TRUE PEEP_DIA 16 fraction 
			IF fraction.integer <> 0
				CREATE_DRW_VIEW_NOTE refView pos.x pos.y-.125 fraction.fraction_string + " DIA\nHOLE F/ PEEP" HORIZONTAL CENTER
			ELSE
				CREATE_DRW_VIEW_NOTE refView pos.x pos.y-.125 itos(fraction.remainder)+"/"+itos(fraction.denominator) + " DIA\nHOLE F/ PEEP" HORIZONTAL CENTER
			END_IF
	END_IF
!BEGIN FRAME SECTION	
	IF OPENING_TYPE == 2 OR OPENING_TYPE == 3 OR OPENING_TYPE == 4
		IF SECTION == 0
			SECT_SCALE = .18
			
			IF STD_REV == "STD"
				CREATE_DRW_VIEW_GENERAL refDrawing SECT_SKETCH "STD" 1 11.5 3.5 SECT_SCALE sectView
			ELSE_IF STD_REV == "REV"
				CREATE_DRW_VIEW_GENERAL refDrawing SECT_SKETCH "REV" 1 11.5 3.5 SECT_SCALE sectView
			ELSE
				CREATE_DRW_VIEW_GENERAL refDrawing SECT_SKETCH "STD" 1 11.5 3.5 SECT_SCALE sectView			
			END_IF

			GET_DRW_VIEW_OUTLINE sectView outline
			GET_DRW_VIEW_POS NULL sectView sx sy
			MOVE_DRW_VIEW NULL sectView sx sy+(1.5-outline.y1)
				
			SET_DRW_VIEW_TANGENT_EDGE_DISPLAY sectView NONE
			SET_DRW_VIEW_DISPLAY sectView NO_HIDDEN
			GET_DRW_VIEW_POS NULL sectView sx sy
			GET_DRW_VIEW_OUTLINE sectView soutline
			
			SEARCH_MDL_REF SECT_SKETCH CSYS "DIM" REF1
			CREATE_UDF udf\xycsys SECT_SKETCH
				UDF_REF ATTACH REF1
				UDF_DIM	DIMX -FACEE
				UDF_DIM	DIMY 0
				UDF_EXP_REF REF2 CSYS 0
			END_CREATE_UDF

			CREATE_UDF udf\xycsys SECT_SKETCH
				UDF_REF ATTACH REF2
				UDF_DIM	DIMX -.125/SECT_SCALE
				UDF_DIM	DIMY -RETURN*.01
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS sectView DIM pos
				CALC_FRACTION REDUCE TRUE RETURN 16 fraction
					IF fraction.integer <> 0
						CREATE_DRW_VIEW_NOTE sectView pos.x pos.y fraction.fraction_string HORIZONTAL CENTER
					ELSE
						CREATE_DRW_VIEW_NOTE sectView pos.x pos.y itos(fraction.remainder)+"/"+itos(fraction.denominator) HORIZONTAL CENTER
					END_IF

			IF DW_RTRN == "IN" AND XDW_RTRN == "IN"
				CREATE_UDF udf\xycsys SECT_SKETCH
					UDF_REF ATTACH REF2
					UDF_DIM	DIMX .1875
					UDF_DIM	DIMY -RETURN - (.0625/SECT_SCALE)
					UDF_EXP_REF DIM CSYS 0
				END_CREATE_UDF
				GET_DRW_VIEW_REF_POS sectView DIM pos
				CREATE_DRW_VIEW_NOTE sectView pos.x pos.y "7/16" HORIZONTAL CENTER
			END_IF
	
			CREATE_UDF udf\xycsys SECT_SKETCH
				UDF_REF ATTACH REF1
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY -JD
				UDF_EXP_REF REF2 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys SECT_SKETCH
				UDF_REF ATTACH REF1
				UDF_DIM	DIMX  .375/SECT_SCALE
				UDF_DIM	DIMY -JD/2
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS sectView DIM pos
			CREATE_DRW_VIEW_DIM sectView 2 REF1 REF2 pos.x pos.y REFDIM
			SET_DIM_TEXT refDim "@D\nJD"
			
			CREATE_UDF udf\xycsys SECT_SKETCH
				UDF_REF ATTACH REF2
				UDF_DIM	DIMX -XFACEE
				UDF_DIM	DIMY 0
				UDF_EXP_REF REF3 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys SECT_SKETCH
				UDF_REF ATTACH REF2
				UDF_DIM	DIMX -XFACEE/2
				UDF_DIM	DIMY -.25/SECT_SCALE
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS sectView DIM pos

			CREATE_UDF udf\xycsys SECT_SKETCH
				UDF_REF ATTACH REF3
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY XRETURN
				UDF_EXP_REF REF4 CSYS 0
			END_CREATE_UDF
			
			CREATE_UDF udf\xycsys SECT_SKETCH
				UDF_REF ATTACH REF3
				UDF_DIM	DIMX -.125/SECT_SCALE
				UDF_DIM	DIMY XRETURN*.01
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS sectView DIM pos
				CALC_FRACTION REDUCE TRUE XRETURN 16 fraction
					IF fraction.integer <> 0
						CREATE_DRW_VIEW_NOTE sectView pos.x pos.y fraction.fraction_string HORIZONTAL CENTER
					ELSE
						CREATE_DRW_VIEW_NOTE sectView pos.x pos.y itos(fraction.remainder)+"/"+itos(fraction.denominator) HORIZONTAL CENTER
					END_IF
			
			CREATE_UDF udf\xycsys SECT_SKETCH
				UDF_REF ATTACH REF4
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY THROAT
				UDF_EXP_REF REF5 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys SECT_SKETCH
				UDF_REF ATTACH REF4
				UDF_DIM	DIMX -.25/SECT_SCALE
				UDF_DIM	DIMY THROAT/2
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS sectView DIM pos
			CREATE_DRW_VIEW_DIM sectView 2 REF4 REF5 pos.x pos.y REFDIM
			SET_DIM_TEXT refDim "@D\nTHROAT"

			IF ANCHOR_TYPE == 8 OR ANCHOR_TYPE == 9 OR ANCHOR_TYPE == 99			
				SEARCH_MDL_REF SECT_SKETCH POINT "ANCREF" ANCREF
				SEARCH_MDL_REF SECT_SKETCH POINT "ANCTR" ANCTR
				SEARCH_MDL_REF SECT_SKETCH POINT "ANCTRDIM" ANCTRDIM
				GET_DRW_VIEW_REF_POS sectView ANCTRDIM pos
				CREATE_DRW_VIEW_DIM sectView 2 ANCREF ANCTR pos.x pos.y REFDIM
				SET_DIM_TEXT refDim "@D"+"\""+ " CL\nANCHORS"
			END_IF

			CLEAR_CATCH_ERROR
			BEGIN_CATCH_ERROR
				SEARCH_MDL_REF SECT_SKETCH POINT "RECESS_REF" RECESS_REF
			IF ERROR
				END_CATCH_ERROR
				CLEAR_CATCH_ERROR
			ELSE
				GET_DRW_VIEW_REF_POS sectView RECESS_REF pos
				IF ANCHOR_RECESS > 0
					CALC_FRACTION REDUCE TRUE ANCHOR_RECESS 16 fraction
					CREATE_DRW_VIEW_NOTE sectView pos.x pos.y fraction.fraction_string + "\nANCHOR\nRECESS" HORIZONTAL CENTER HEIGHT .075
				END_IF
			END_IF			
		END_IF

		IF SECTION == 1
			SECT_SCALE = .18
			
			IF STD_REV == "STD"
				CREATE_DRW_VIEW_GENERAL refDrawing SECT_SKETCH "STD" 1 11.5 3.5 SECT_SCALE sectView
			ELSE_IF STD_REV == "REV"
				CREATE_DRW_VIEW_GENERAL refDrawing SECT_SKETCH "REV" 1 11.5 3.5 SECT_SCALE sectView
			END_IF

			GET_DRW_VIEW_OUTLINE sectView outline
			GET_DRW_VIEW_POS NULL sectView sx sy
			MOVE_DRW_VIEW NULL sectView sx sy+(1.5-outline.y1)
				
			SET_DRW_VIEW_TANGENT_EDGE_DISPLAY sectView NONE
			SET_DRW_VIEW_DISPLAY sectView NO_HIDDEN
			GET_DRW_VIEW_POS NULL sectView sx sy
			GET_DRW_VIEW_OUTLINE sectView soutline

			SEARCH_MDL_REF SECT_SKETCH CSYS "DIM" REF1
			CREATE_UDF udf\xycsys SECT_SKETCH
				UDF_REF ATTACH REF1
				UDF_DIM	DIMX -FACEE
				UDF_DIM	DIMY 0
				UDF_EXP_REF REF2 CSYS 0
			END_CREATE_UDF

			IF DW_RTRN == "IN" !AND XDW_RTRN == "IN"
				CREATE_UDF udf\xycsys SECT_SKETCH
					UDF_REF ATTACH REF2
					UDF_DIM	DIMX .1875
					UDF_DIM	DIMY -RETURN - (.0625/SECT_SCALE)
					UDF_EXP_REF DIM CSYS 0
				END_CREATE_UDF
				GET_DRW_VIEW_REF_POS sectView DIM pos
				CREATE_DRW_VIEW_NOTE sectView pos.x pos.y "1/2" HORIZONTAL CENTER
			END_IF

			IF XDW_RTRN == "IN"
				CREATE_UDF udf\xycsys SECT_SKETCH
					UDF_REF ATTACH REF2
					UDF_DIM	DIMX .1875
					UDF_DIM	DIMY -JD+XRETURN + (.0625/SECT_SCALE)
					UDF_EXP_REF DIM CSYS 0
				END_CREATE_UDF
				GET_DRW_VIEW_REF_POS sectView DIM pos
				CREATE_DRW_VIEW_NOTE sectView pos.x pos.y "1/2" HORIZONTAL CENTER
			END_IF
			
			CREATE_UDF udf\xycsys SECT_SKETCH
				UDF_REF ATTACH REF2
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY -RETURN
				UDF_EXP_REF REF3 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys SECT_SKETCH
				UDF_REF ATTACH REF2
				UDF_DIM	DIMX -.125/SECT_SCALE
				UDF_DIM	DIMY .25/SECT_SCALE
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS sectView DIM pos
			CREATE_DRW_VIEW_DIM sectView 2 REF2 REF3 pos.x pos.y
			
			CREATE_UDF udf\xycsys SECT_SKETCH
				UDF_REF ATTACH REF1
				UDF_DIM	DIMX STOPP
				UDF_DIM	DIMY 0
				UDF_EXP_REF REF2 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys SECT_SKETCH
				UDF_REF ATTACH REF2
				UDF_DIM	DIMX .25/SECT_SCALE
				UDF_DIM	DIMY .25/SECT_SCALE
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS sectView DIM pos
			CREATE_DRW_VIEW_DIM sectView 2 REF1 REF2 pos.x pos.y ORIENTATION HORIZONTAL

			CREATE_UDF udf\xycsys SECT_SKETCH
				UDF_REF ATTACH REF1
				UDF_DIM	DIMX STOPP
				UDF_DIM	DIMY -RABBET
				UDF_EXP_REF REF2 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys SECT_SKETCH
				UDF_REF ATTACH REF1
				UDF_DIM	DIMX .3125/SECT_SCALE
				UDF_DIM	DIMY -RABBET/2
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS sectView DIM pos
			CREATE_DRW_VIEW_DIM sectView 2 REF1 REF2 pos.x pos.y

			CREATE_UDF udf\xycsys SECT_SKETCH
				UDF_REF ATTACH REF1
				UDF_DIM	DIMX STOPP
				UDF_DIM	DIMY -JD
				UDF_EXP_REF REF2 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys SECT_SKETCH
				UDF_REF ATTACH REF1
				UDF_DIM	DIMX  .625/SECT_SCALE
				UDF_DIM	DIMY -JD/2
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS sectView DIM pos
			CREATE_DRW_VIEW_DIM sectView 2 REF1 REF2 pos.x pos.y REFDIM
			SET_DIM_TEXT refDim "@D\nJD"
			
			CREATE_UDF udf\xycsys SECT_SKETCH
				UDF_REF ATTACH REF2
				UDF_DIM	DIMX -XFACEE
				UDF_DIM	DIMY 0
				UDF_EXP_REF REF3 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys SECT_SKETCH
				UDF_REF ATTACH REF2
				UDF_DIM	DIMX -XFACEE/2
				UDF_DIM	DIMY -.25/SECT_SCALE
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS sectView DIM pos

			CREATE_UDF udf\xycsys SECT_SKETCH
				UDF_REF ATTACH REF3
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY XRETURN
				UDF_EXP_REF REF4 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys SECT_SKETCH
				UDF_REF ATTACH REF3
				UDF_DIM	DIMX -.125/SECT_SCALE
				UDF_DIM	DIMY -.25/SECT_SCALE
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS sectView DIM pos
			CREATE_DRW_VIEW_DIM sectView 2 REF3 REF4 pos.x pos.y

			CREATE_UDF udf\xycsys SECT_SKETCH
				UDF_REF ATTACH REF4
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY THROAT
				UDF_EXP_REF REF5 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys SECT_SKETCH
				UDF_REF ATTACH REF4
				UDF_DIM	DIMX -.25/SECT_SCALE
				UDF_DIM	DIMY THROAT/2
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS sectView DIM pos
			CREATE_DRW_VIEW_DIM sectView 2 REF4 REF5 pos.x pos.y REFDIM
			SET_DIM_TEXT refDim "@D\nTHROAT"

			IF ANCHOR_TYPE == 8 OR ANCHOR_TYPE == 9 OR ANCHOR_TYPE == 99			
				SEARCH_MDL_REF SECT_SKETCH POINT "ANCREF" ANCREF
				SEARCH_MDL_REF SECT_SKETCH POINT "ANCTR" ANCTR
				SEARCH_MDL_REF SECT_SKETCH POINT "ANCTRDIM" ANCTRDIM
				GET_DRW_VIEW_REF_POS sectView ANCTRDIM pos
				CREATE_DRW_VIEW_DIM sectView 2 ANCREF ANCTR pos.x pos.y REFDIM
				SET_DIM_TEXT refDim "@D"+"\""+ " CL\nANCHORS"
			END_IF
			
			CLEAR_CATCH_ERROR
			BEGIN_CATCH_ERROR
				SEARCH_MDL_REF SECT_SKETCH POINT "RECESS_REF" RECESS_REF
			IF ERROR
				END_CATCH_ERROR
				CLEAR_CATCH_ERROR
			ELSE
				GET_DRW_VIEW_REF_POS sectView RECESS_REF pos
				IF ANCHOR_RECESS > 0
					CALC_FRACTION REDUCE TRUE ANCHOR_RECESS 16 fraction
					CREATE_DRW_VIEW_NOTE sectView pos.x pos.y fraction.fraction_string + "\nANCHOR\nRECESS" HORIZONTAL CENTER HEIGHT .075
				END_IF
			END_IF
		END_IF
		
		IF FRAME_ELEVATION < 30 AND (SECTION == 2 OR SECTION == 21)
			IF SUB_TYPE == "S"
				SECT_SCALE = .18
			ELSE_IF SUB_TYPE == "P"
				SECT_SCALE = .18
			END_IF
			
			IF STD_REV == "STD"
				CREATE_DRW_VIEW_GENERAL refDrawing SECT_SKETCH "STD" 1 11.5 3.5 SECT_SCALE sectView
			ELSE_IF STD_REV == "REV"
				CREATE_DRW_VIEW_GENERAL refDrawing SECT_SKETCH "REV" 1 11.5 3.5 SECT_SCALE sectView
			END_IF
			
			IF FULL_HEAD_REINFORCEMENT == 1
				SEARCH_MDL_REF SECT_SKETCH POINT "HEAD_ANGLE_NOTE" PNT
				GET_DRW_VIEW_REF_POS sectView PNT pos
				CREATE_DRW_VIEW_NOTE sectView pos.x pos.y "HEAD\nANGLE" HORIZONTAL CENTER
			END_IF
				
			IF SECTION == 21
				SEARCH_MDL_REF SECT_SKETCH CSYS "THERMAL_BREAK" REF1
				
				CREATE_UDF udf\xycsys SECT_SKETCH
					UDF_REF ATTACH REF1
					UDF_DIM	DIMX -0.75
					UDF_DIM	DIMY 2.0
					UDF_EXP_REF DIM CSYS 0
				END_CREATE_UDF
				GET_DRW_VIEW_REF_POS sectView DIM pos
				CREATE_DRW_VIEW_NOTE sectView pos.x pos.y "THERMAL \n" + "BREAK\n" + "CONSTRUCTION"  HORIZONTAL CENTER
			END_IF	
			
			GET_DRW_VIEW_OUTLINE sectView outline
			GET_DRW_VIEW_POS NULL sectView sx sy
			MOVE_DRW_VIEW NULL sectView sx sy+(1.5-outline.y1)
					
			SET_DRW_VIEW_TANGENT_EDGE_DISPLAY sectView NONE
			SET_DRW_VIEW_DISPLAY sectView NO_HIDDEN
			GET_DRW_VIEW_POS NULL sectView sx sy
			GET_DRW_VIEW_OUTLINE sectView soutline

			SEARCH_MDL_REF SECT_SKETCH CSYS "DIM" REF1
			CREATE_UDF udf\xycsys SECT_SKETCH
				UDF_REF ATTACH REF1
				UDF_DIM	DIMX -FACEE
				UDF_DIM	DIMY 0
				UDF_EXP_REF REF2 CSYS 0
			END_CREATE_UDF

			CREATE_UDF udf\xycsys SECT_SKETCH
				UDF_REF ATTACH REF2
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY -RETURN
				UDF_EXP_REF REF3 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys SECT_SKETCH
				UDF_REF ATTACH REF2
				UDF_DIM	DIMX -.125/SECT_SCALE
				UDF_DIM	DIMY -RETURN/2
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS sectView DIM pos
				CALC_FRACTION REDUCE TRUE RETURN 16 fraction
					IF fraction.integer <> 0
						CREATE_DRW_VIEW_NOTE sectView pos.x pos.y fraction.fraction_string HORIZONTAL CENTER
					ELSE
						CREATE_DRW_VIEW_NOTE sectView pos.x pos.y itos(fraction.remainder)+"/"+itos(fraction.denominator) HORIZONTAL CENTER
					END_IF

			IF DW_RTRN == "IN"
				CREATE_UDF udf\xycsys SECT_SKETCH
					UDF_REF ATTACH REF2
					UDF_DIM	DIMX .1875
					UDF_DIM	DIMY -RETURN - (.0625/SECT_SCALE)
					UDF_EXP_REF DIM CSYS 0
				END_CREATE_UDF
				GET_DRW_VIEW_REF_POS sectView DIM pos
				CREATE_DRW_VIEW_NOTE sectView pos.x pos.y "7/16" HORIZONTAL CENTER
			END_IF
					
			CREATE_UDF udf\xycsys SECT_SKETCH
				UDF_REF ATTACH REF1
				UDF_DIM	DIMX (STOPP/2)+(.02/SECT_SCALE)
				UDF_DIM	DIMY -RABBET+(.065/SECT_SCALE)
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS sectView DIM pos
				CALC_FRACTION REDUCE TRUE STOPP 16 fraction
					IF fraction.integer <> 0
						CREATE_DRW_VIEW_NOTE sectView pos.x pos.y fraction.fraction_string HORIZONTAL CENTER
					ELSE
						CREATE_DRW_VIEW_NOTE sectView pos.x pos.y itos(fraction.remainder)+"/"+itos(fraction.denominator) HORIZONTAL CENTER
					END_IF

			CREATE_UDF udf\xycsys SECT_SKETCH
				UDF_REF ATTACH REF1
				UDF_DIM	DIMX STOPP
				UDF_DIM	DIMY -RABBET
				UDF_EXP_REF REF2 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys SECT_SKETCH
				UDF_REF ATTACH REF1
				UDF_DIM	DIMX .4375/SECT_SCALE
				UDF_DIM	DIMY -RABBET/2
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS sectView DIM pos
			CREATE_DRW_VIEW_DIM sectView 2 REF1 REF2 pos.x pos.y

			CREATE_UDF udf\xycsys SECT_SKETCH
				UDF_REF ATTACH REF1
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY -JD
				UDF_EXP_REF REF2 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys SECT_SKETCH
				UDF_REF ATTACH REF1
				UDF_DIM	DIMX .750/SECT_SCALE
				UDF_DIM	DIMY -JD/2
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS sectView DIM pos
			CREATE_DRW_VIEW_DIM sectView 2 REF1 REF2 pos.x pos.y REFDIM
			SET_DIM_TEXT refDim "@D\nJD"

			CREATE_UDF udf\xycsys SECT_SKETCH
				UDF_REF ATTACH REF2
				UDF_DIM	DIMX STOPP
				UDF_DIM	DIMY XRABBET
				UDF_EXP_REF REF3 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys SECT_SKETCH
				UDF_REF ATTACH REF2
				UDF_DIM	DIMX .4375/SECT_SCALE
				UDF_DIM	DIMY XRABBET/2
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS sectView DIM pos
			CREATE_DRW_VIEW_DIM sectView 2 REF2 REF3 pos.x pos.y

			CREATE_UDF udf\xycsys SECT_SKETCH
				UDF_REF ATTACH REF2
				UDF_DIM	DIMX -XFACEE
				UDF_DIM	DIMY 0
				UDF_EXP_REF REF3 CSYS 0
			END_CREATE_UDF
			CREATE_UDF udf\xycsys SECT_SKETCH
				UDF_REF ATTACH REF2
				UDF_DIM	DIMX -XFACEE/2
				UDF_DIM	DIMY -.25/SECT_SCALE
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS sectView DIM pos

			CREATE_UDF udf\xycsys SECT_SKETCH
				UDF_REF ATTACH REF3
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY XRETURN
				UDF_EXP_REF REF4 CSYS 0
			END_CREATE_UDF
			
			CREATE_UDF udf\xycsys SECT_SKETCH
				UDF_REF ATTACH REF3
				UDF_DIM	DIMX -.125/SECT_SCALE
				UDF_DIM	DIMY XRETURN/2
				UDF_EXP_REF DIM CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS sectView DIM pos
				CALC_FRACTION REDUCE TRUE XRETURN 16 fraction
					IF fraction.integer <> 0
						CREATE_DRW_VIEW_NOTE sectView pos.x pos.y fraction.fraction_string HORIZONTAL CENTER
					ELSE
						CREATE_DRW_VIEW_NOTE sectView pos.x pos.y itos(fraction.remainder)+"/"+itos(fraction.denominator) HORIZONTAL CENTER
					END_IF
					
			IF XDW_RTRN == "IN"
				CREATE_UDF udf\xycsys SECT_SKETCH
					UDF_REF ATTACH REF4
					UDF_DIM	DIMX .1875
					UDF_DIM	DIMY RETURN !+ (.0625/SECT_SCALE)
					UDF_EXP_REF DIM CSYS 0
				END_CREATE_UDF
				GET_DRW_VIEW_REF_POS sectView DIM pos
				CREATE_DRW_VIEW_NOTE sectView pos.x pos.y "7/16" HORIZONTAL CENTER
			END_IF

			CREATE_UDF udf\xycsys SECT_SKETCH
				UDF_REF ATTACH REF4
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY THROAT
				UDF_EXP_REF REF5 CSYS 0
			END_CREATE_UDF
			IF STD_REV == "REV"
				CREATE_UDF udf\xycsys SECT_SKETCH
					UDF_REF ATTACH REF4
					UDF_DIM	DIMX -.4375/SECT_SCALE
					UDF_DIM	DIMY THROAT/2-(.125/SECT_SCALE)
					UDF_EXP_REF DIM CSYS 0
				END_CREATE_UDF
			END_IF
			IF STD_REV == "STD"
				CREATE_UDF udf\xycsys SECT_SKETCH
					UDF_REF ATTACH REF4
					UDF_DIM	DIMX -.4375/SECT_SCALE
					UDF_DIM	DIMY THROAT/2+(.125/SECT_SCALE)
					UDF_EXP_REF DIM CSYS 0
				END_CREATE_UDF
			END_IF			
			GET_DRW_VIEW_REF_POS sectView DIM pos
			CREATE_DRW_VIEW_DIM sectView 2 REF4 REF5 pos.x pos.y REFDIM
			IF CLOSED_BACK == 0
				SET_DIM_TEXT refDim "@D\nTHROAT"
			ELSE_IF CLOSED_BACK == 1
				SET_DIM_TEXT refDim "@D\nTHROAT WITH\nCLOSED BACK"
			END_IF
			
			IF ANCHOR_TYPE == 8 OR ANCHOR_TYPE == 9 OR ANCHOR_TYPE == 99			
				SEARCH_MDL_REF SECT_SKETCH POINT "ANCREF" ANCREF
				SEARCH_MDL_REF SECT_SKETCH POINT "ANCTR" ANCTR
				SEARCH_MDL_REF SECT_SKETCH POINT "ANCTRDIM" ANCTRDIM
				GET_DRW_VIEW_REF_POS sectView ANCTRDIM pos
				CREATE_DRW_VIEW_DIM sectView 2 ANCREF ANCTR pos.x pos.y REFDIM
				SET_DIM_TEXT refDim "@D"+"\""+ " CL\nANCH"
			END_IF
			
			CLEAR_CATCH_ERROR
			BEGIN_CATCH_ERROR
				SEARCH_MDL_REF SECT_SKETCH POINT "RECESS_REF" RECESS_REF
			IF ERROR
				END_CATCH_ERROR
				CLEAR_CATCH_ERROR
			ELSE
				GET_DRW_VIEW_REF_POS sectView RECESS_REF pos
				IF ANCHOR_RECESS > 0
					CALC_FRACTION REDUCE TRUE ANCHOR_RECESS 16 fraction
					CREATE_DRW_VIEW_NOTE sectView pos.x pos.y fraction.fraction_string + "\nANCHOR\nRECESS" HORIZONTAL CENTER HEIGHT .075
				END_IF
			END_IF
		END_IF

		IF FRAME_ELEVATION > 30 AND (SECTION == 2 OR SECTION == 21)
			IF SUB_TYPE == "S"
				SECT_SCALE = .15
			ELSE_IF SUB_TYPE == "P"
				SECT_SCALE = .15
			END_IF
			
			IF STD_REV == "STD"
				CREATE_DRW_VIEW_GENERAL refDrawing SECT_SKETCH "STD" 1 11.0 2.25 SECT_SCALE sectView
			ELSE_IF STD_REV == "REV"
				CREATE_DRW_VIEW_GENERAL refDrawing SECT_SKETCH "REV" 1 11.0 2.25 SECT_SCALE sectView
			END_IF
			
			SEARCH_MDL_REF SECT_SKETCH CSYS "ATTACH" refCsys
			MOVE_DRW_VIEW refCsys sectView 11.0 2.25
			
			IF FULL_HEAD_REINFORCEMENT == 1
				SEARCH_MDL_REF SECT_SKETCH POINT "HEAD_ANGLE_NOTE" PNT
				GET_DRW_VIEW_REF_POS sectView PNT pos
				CREATE_DRW_VIEW_NOTE sectView pos.x pos.y "HEAD\nANGLE" HORIZONTAL CENTER
			END_IF
				
			IF SECTION == 21
				SEARCH_MDL_REF SECT_SKETCH CSYS "THERMAL_BREAK" REF1
				
				CREATE_UDF udf\xycsys SECT_SKETCH
					UDF_REF ATTACH REF1
					UDF_DIM	DIMX -0.75
					UDF_DIM	DIMY 2.0
					UDF_EXP_REF DIM CSYS 0
				END_CREATE_UDF
				GET_DRW_VIEW_REF_POS sectView DIM pos
				CREATE_DRW_VIEW_NOTE sectView pos.x pos.y "THERMAL \n" + "BREAK\n" + "CONSTRUCTION"  HORIZONTAL CENTER
			END_IF	
			
			! GET_DRW_VIEW_OUTLINE sectView outline
			! GET_DRW_VIEW_POS NULL sectView sx sy
			! MOVE_DRW_VIEW NULL sectView sx sy+(1.5-outline.y1)
				
			! SET_DRW_VIEW_TANGENT_EDGE_DISPLAY sectView NONE
			! SET_DRW_VIEW_DISPLAY sectView NO_HIDDEN
			! GET_DRW_VIEW_POS NULL sectView sx sy
			! GET_DRW_VIEW_OUTLINE sectView soutline

			! SEARCH_MDL_REF SECT_SKETCH CSYS "DIM" REF1
			! CREATE_UDF udf\xycsys SECT_SKETCH
				! UDF_REF ATTACH REF1
				! UDF_DIM	DIMX -FACEE
				! UDF_DIM	DIMY 0
				! UDF_EXP_REF REF2 CSYS 0
			! END_CREATE_UDF

			! CREATE_UDF udf\xycsys SECT_SKETCH
				! UDF_REF ATTACH REF2
				! UDF_DIM	DIMX 0
				! UDF_DIM	DIMY -RETURN
				! UDF_EXP_REF REF3 CSYS 0
			! END_CREATE_UDF
			! CREATE_UDF udf\xycsys SECT_SKETCH
				! UDF_REF ATTACH REF2
				! UDF_DIM	DIMX -.125/SECT_SCALE
				! UDF_DIM	DIMY -RETURN/2
				! UDF_EXP_REF DIM CSYS 0
			! END_CREATE_UDF
			! GET_DRW_VIEW_REF_POS sectView DIM pos
				! CALC_FRACTION REDUCE TRUE RETURN 16 fraction
					! IF fraction.integer <> 0
						! CREATE_DRW_VIEW_NOTE sectView pos.x pos.y fraction.fraction_string HORIZONTAL CENTER
					! ELSE
						! CREATE_DRW_VIEW_NOTE sectView pos.x pos.y itos(fraction.remainder)+"\""+itos(fraction.denominator) HORIZONTAL CENTER
					! END_IF

			! IF DW_RTRN == "IN"
				! CREATE_UDF udf\xycsys SECT_SKETCH
					! UDF_REF ATTACH REF2
					! UDF_DIM	DIMX .1875
					! UDF_DIM	DIMY -RETURN - (.0625/SECT_SCALE)
					! UDF_EXP_REF DIM CSYS 0
				! END_CREATE_UDF
				! GET_DRW_VIEW_REF_POS sectView DIM pos
				! CREATE_DRW_VIEW_NOTE sectView pos.x pos.y "7/16" HORIZONTAL CENTER
			! END_IF
					
			! CREATE_UDF udf\xycsys SECT_SKETCH
				! UDF_REF ATTACH REF1
				! UDF_DIM	DIMX (STOPP/2)+(.02/SECT_SCALE)
				! UDF_DIM	DIMY -RABBET+(.065/SECT_SCALE)
				! UDF_EXP_REF DIM CSYS 0
			! END_CREATE_UDF
			! GET_DRW_VIEW_REF_POS sectView DIM pos
				! CALC_FRACTION REDUCE TRUE STOPP 16 fraction
					! IF fraction.integer <> 0
						! CREATE_DRW_VIEW_NOTE sectView pos.x pos.y fraction.fraction_string HORIZONTAL CENTER
					! ELSE
						! CREATE_DRW_VIEW_NOTE sectView pos.x pos.y itos(fraction.remainder)+"\""+itos(fraction.denominator) HORIZONTAL CENTER
					! END_IF

			! CREATE_UDF udf\xycsys SECT_SKETCH
				! UDF_REF ATTACH REF1
				! UDF_DIM	DIMX STOPP
				! UDF_DIM	DIMY -RABBET
				! UDF_EXP_REF REF2 CSYS 0
			! END_CREATE_UDF
			! CREATE_UDF udf\xycsys SECT_SKETCH
				! UDF_REF ATTACH REF1
				! UDF_DIM	DIMX .4375/SECT_SCALE
				! UDF_DIM	DIMY -RABBET/2
				! UDF_EXP_REF DIM CSYS 0
			! END_CREATE_UDF
			! GET_DRW_VIEW_REF_POS sectView DIM pos
			! CREATE_DRW_VIEW_DIM sectView 2 REF1 REF2 pos.x pos.y

			! CREATE_UDF udf\xycsys SECT_SKETCH
				! UDF_REF ATTACH REF1
				! UDF_DIM	DIMX 0
				! UDF_DIM	DIMY -JD
				! UDF_EXP_REF REF2 CSYS 0
			! END_CREATE_UDF
			! CREATE_UDF udf\xycsys SECT_SKETCH
				! UDF_REF ATTACH REF1
				! UDF_DIM	DIMX .750/SECT_SCALE
				! UDF_DIM	DIMY -JD/2
				! UDF_EXP_REF DIM CSYS 0
			! END_CREATE_UDF
			! GET_DRW_VIEW_REF_POS sectView DIM pos
			! CREATE_DRW_VIEW_DIM sectView 2 REF1 REF2 pos.x pos.y REFDIM
			! SET_DIM_TEXT refDim "@D\nJD"

			! CREATE_UDF udf\xycsys SECT_SKETCH
				! UDF_REF ATTACH REF2
				! UDF_DIM	DIMX STOPP
				! UDF_DIM	DIMY XRABBET
				! UDF_EXP_REF REF3 CSYS 0
			! END_CREATE_UDF
			! CREATE_UDF udf\xycsys SECT_SKETCH
				! UDF_REF ATTACH REF2
				! UDF_DIM	DIMX .4375/SECT_SCALE
				! UDF_DIM	DIMY XRABBET/2
				! UDF_EXP_REF DIM CSYS 0
			! END_CREATE_UDF
			! GET_DRW_VIEW_REF_POS sectView DIM pos
			! CREATE_DRW_VIEW_DIM sectView 2 REF2 REF3 pos.x pos.y

			! CREATE_UDF udf\xycsys SECT_SKETCH
				! UDF_REF ATTACH REF2
				! UDF_DIM	DIMX -XFACEE
				! UDF_DIM	DIMY 0
				! UDF_EXP_REF REF3 CSYS 0
			! END_CREATE_UDF
			! CREATE_UDF udf\xycsys SECT_SKETCH
				! UDF_REF ATTACH REF2
				! UDF_DIM	DIMX -XFACEE/2
				! UDF_DIM	DIMY -.25/SECT_SCALE
				! UDF_EXP_REF DIM CSYS 0
			! END_CREATE_UDF
			! GET_DRW_VIEW_REF_POS sectView DIM pos

			! CREATE_UDF udf\xycsys SECT_SKETCH
				! UDF_REF ATTACH REF3
				! UDF_DIM	DIMX 0
				! UDF_DIM	DIMY XRETURN
				! UDF_EXP_REF REF4 CSYS 0
			! END_CREATE_UDF
			
			! CREATE_UDF udf\xycsys SECT_SKETCH
				! UDF_REF ATTACH REF3
				! UDF_DIM	DIMX -.125/SECT_SCALE
				! UDF_DIM	DIMY XRETURN/2
				! UDF_EXP_REF DIM CSYS 0
			! END_CREATE_UDF
			! GET_DRW_VIEW_REF_POS sectView DIM pos
				! CALC_FRACTION REDUCE TRUE XRETURN 16 fraction
					! IF fraction.integer <> 0
						! CREATE_DRW_VIEW_NOTE sectView pos.x pos.y fraction.fraction_string HORIZONTAL CENTER
					! ELSE
						! CREATE_DRW_VIEW_NOTE sectView pos.x pos.y itos(fraction.remainder)+"\""+itos(fraction.denominator) HORIZONTAL CENTER
					! END_IF
					
			! IF XDW_RTRN == "IN"
				! CREATE_UDF udf\xycsys SECT_SKETCH
					! UDF_REF ATTACH REF4
					! UDF_DIM	DIMX .1875
					! UDF_DIM	DIMY RETURN !+ (.0625/SECT_SCALE)
					! UDF_EXP_REF DIM CSYS 0
				! END_CREATE_UDF
				! GET_DRW_VIEW_REF_POS sectView DIM pos
				! CREATE_DRW_VIEW_NOTE sectView pos.x pos.y "7/16" HORIZONTAL CENTER
			! END_IF

			! CREATE_UDF udf\xycsys SECT_SKETCH
				! UDF_REF ATTACH REF4
				! UDF_DIM	DIMX 0
				! UDF_DIM	DIMY THROAT
				! UDF_EXP_REF REF5 CSYS 0
			! END_CREATE_UDF
			! IF STD_REV == "REV"
				! CREATE_UDF udf\xycsys SECT_SKETCH
					! UDF_REF ATTACH REF4
					! UDF_DIM	DIMX -.4375/SECT_SCALE
					! UDF_DIM	DIMY THROAT/2-(.125/SECT_SCALE)
					! UDF_EXP_REF DIM CSYS 0
				! END_CREATE_UDF
			! END_IF
			! IF STD_REV == "STD"
				! CREATE_UDF udf\xycsys SECT_SKETCH
					! UDF_REF ATTACH REF4
					! UDF_DIM	DIMX -.4375/SECT_SCALE
					! UDF_DIM	DIMY THROAT/2+(.125/SECT_SCALE)
					! UDF_EXP_REF DIM CSYS 0
				! END_CREATE_UDF
			! END_IF			
			! GET_DRW_VIEW_REF_POS sectView DIM pos
			! CREATE_DRW_VIEW_DIM sectView 2 REF4 REF5 pos.x pos.y REFDIM
			! IF CLOSED_BACK == 0
				! SET_DIM_TEXT refDim "@D\nTHROAT"
			! ELSE_IF CLOSED_BACK == 1
				! SET_DIM_TEXT refDim "@D\nTHROAT WITH\nCLOSED BACK"
			! END_IF
			
			! IF ANCHOR_TYPE == 8 OR ANCHOR_TYPE == 9 OR ANCHOR_TYPE == 99			
				! SEARCH_MDL_REF SECT_SKETCH POINT "ANCREF" ANCREF
				! SEARCH_MDL_REF SECT_SKETCH POINT "ANCTR" ANCTR
				! SEARCH_MDL_REF SECT_SKETCH POINT "ANCTRDIM" ANCTRDIM
				! GET_DRW_VIEW_REF_POS sectView ANCTRDIM pos
				! CREATE_DRW_VIEW_DIM sectView 2 ANCREF ANCTR pos.x pos.y REFDIM
				! SET_DIM_TEXT refDim "@D"+"\""+ " CL"\nANCH"
			! END_IF
			
			! CLEAR_CATCH_ERROR
			! BEGIN_CATCH_ERROR
				! SEARCH_MDL_REF SECT_SKETCH POINT "RECESS_REF" RECESS_REF
			! IF ERROR
				! END_CATCH_ERROR
				! CLEAR_CATCH_ERROR
			! ELSE
				! GET_DRW_VIEW_REF_POS sectView RECESS_REF pos
				! IF ANCHOR_RECESS > 0
					! CALC_FRACTION REDUCE TRUE ANCHOR_RECESS 16 fraction
					! CREATE_DRW_VIEW_NOTE sectView pos.x pos.y fraction.fraction_string + "\nANCHOR\nRECESS" HORIZONTAL CENTER HEIGHT .075
				! END_IF
			! END_IF
			
			SEARCH_MDL_REFS SECT_SKETCH POINT "*DIM" DIMS
				DECLARE_VARIABLE DOUBLE VAL
				DECLARE_VARIABLE STRING NOTE_VAL
				FOR DIM REF ARRAY DIMS
					CLEAR_CATCH_ERROR
					BEGIN_CATCH_ERROR
						SEARCH_FEAT_PARAM DIM "DIM" VAL
						IF ERROR
							GET_REF_NAME DIM DIM_NAME
							PRINT "%" DIM_NAME
							BREAK
							! DIM_NAME_LEN = strlen(DIM_NAME)
							! PRINT "%" DIM_NAME_LEN
							! PARAM_NAME = strleft(DIM_NAME,DIM_NAME_LEN-4)
							! PRINT "%" PARAM_NAME							
							! VAL = PARAM_NAME
							! PRINT "%" VAL
						END_IF
						SEARCH_FEAT_PARAM DIM "NOTE" NOTE_VAL
						IF ERROR
							NOTE_VAL = ""
						ELSE
							NOTE_VAL = "\n" + NOTE_VAL
						END_IF
						
					END_CATCH_ERROR
					PRINT "%" VAL
					GET_DRW_VIEW_REF_POS sectView DIM pos
					CALC_FRACTION REDUCE TRUE &VAL 16 fraction
					IF fraction.integer <> 0
						CREATE_DRW_VIEW_NOTE sectView pos.x pos.y fraction.fraction_string + &NOTE_VAL HORIZONTAL CENTER
					ELSE
						CREATE_DRW_VIEW_NOTE sectView pos.x pos.y itos(fraction.remainder)+"/"+itos(fraction.denominator) + &NOTE_VAL HORIZONTAL CENTER
					END_IF
				END_FOR
		END_IF

		
		
		
		
		
		
		
		
		
		
		
		


		
!******************************************************************************** RESUME WHEN FINISHED WITH MIRROR FINISH JOB***********************************************
		! SEARCH_MDL_REF SECT_SKETCH POINT "HEAD_REF" PNT
			! GET_DRW_VIEW_REF_POS sectView PNT pos
			! CALC_FRACTION REDUCE TRUE HEAD 16 fraction
				! IF fraction.integer <> 0
					! CREATE_DRW_VIEW_NOTE sectView pos.x pos.y fraction.fraction_string +"\nHEAD" HORIZONTAL CENTER
				! ELSE
					! CREATE_DRW_VIEW_NOTE sectView pos.x pos.y itos(fraction.remainder)+"\\"+itos(fraction.denominator) +"\nHEAD" HORIZONTAL CENTER
				! END_IF
			
			! IF XHEAD <> HEAD
				! SEARCH_MDL_REF SECT_SKETCH POINT "XHEAD_REF" PNT
				! GET_DRW_VIEW_REF_POS sectView PNT pos
				! CALC_FRACTION REDUCE TRUE XHEAD 16 fraction
					! IF fraction.integer <> 0
						! CREATE_DRW_VIEW_NOTE sectView pos.x pos.y fraction.fraction_string HORIZONTAL CENTER
					! ELSE
						! CREATE_DRW_VIEW_NOTE sectView pos.x pos.y itos(fraction.remainder)+"\\"+itos(fraction.denominator) HORIZONTAL CENTER
					! END_IF
			! END_IF
			
			! IF HEAD_STOPP <> STOPP
				! SEARCH_MDL_REF SECT_SKETCH POINT "HEAD_STOPP_REF" PNT
				! GET_DRW_VIEW_REF_POS sectView PNT pos
				! CALC_FRACTION REDUCE TRUE HEAD_STOPP 16 fraction
					! IF fraction.integer <> 0
						! CREATE_DRW_VIEW_NOTE sectView pos.x pos.y fraction.fraction_string HORIZONTAL CENTER
					! ELSE
						! CREATE_DRW_VIEW_NOTE sectView pos.x pos.y itos(fraction.remainder)+"\\"+itos(fraction.denominator) HORIZONTAL CENTER
					! END_IF
			! END_IF
			
			! IF XFACEE <> FACEE
				! SEARCH_MDL_REF SECT_SKETCH POINT "XFACEE_REF" PNT
				! GET_DRW_VIEW_REF_POS sectView PNT pos
				! CALC_FRACTION REDUCE TRUE XFACEE 16 fraction
				! CREATE_DRW_VIEW_NOTE sectView pos.x pos.y fraction.fraction_string HORIZONTAL CENTER		
					! IF fraction.integer <> 0
						! CREATE_DRW_VIEW_NOTE sectView pos.x pos.y fraction.fraction_string HORIZONTAL CENTER
					! ELSE
						! CREATE_DRW_VIEW_NOTE sectView pos.x pos.y itos(fraction.remainder)+"\\"+itos(fraction.denominator) HORIZONTAL CENTER
					! END_IF
			! END_IF
			
			! SEARCH_MDL_REF SECT_SKETCH POINT "FACEE_REF" PNT
			! GET_DRW_VIEW_REF_POS sectView PNT pos
			! CALC_FRACTION REDUCE TRUE FACEE 16 fraction
				! IF fraction.integer <> 0
					! CREATE_DRW_VIEW_NOTE sectView pos.x pos.y fraction.fraction_string +"\nFACE" HORIZONTAL CENTER
				! ELSE
					! CREATE_DRW_VIEW_NOTE sectView pos.x pos.y itos(fraction.remainder)+"\\"+itos(fraction.denominator) +"\nFACE" HORIZONTAL CENTER
				! END_IF
!******************************************************************************** RESUME WHEN FINISHED WITH MIRROR FINISH JOB***********************************************



				
			IF FRAME_ELEVATION == 4
				BEGIN_CATCH_ERROR
					SEARCH_MDL_REF SECT_SKETCH POINT "SILL_REF" PNT
					IF ERROR
						CLEAR_CATCH_ERROR
					ELSE
						GET_DRW_VIEW_REF_POS sectView PNT pos
						CALC_FRACTION REDUCE TRUE SILL 16 fraction
							IF fraction.integer <> 0
								CREATE_DRW_VIEW_NOTE sectView pos.x pos.y fraction.fraction_string +"\nSILL" HORIZONTAL CENTER
							ELSE
								CREATE_DRW_VIEW_NOTE sectView pos.x pos.y itos(fraction.remainder)+"\\"+itos(fraction.denominator) +"\nSILL" HORIZONTAL CENTER
							END_IF
					END_IF
					
					IF XSILL <> SILL
						IF ERROR
							CLEAR_CATCH_ERROR
						ELSE
							SEARCH_MDL_REF SECT_SKETCH POINT "XSILL_REF" PNT
							GET_DRW_VIEW_REF_POS sectView PNT pos
							CALC_FRACTION REDUCE TRUE XSILL 16 fraction
								IF fraction.integer <> 0
									CREATE_DRW_VIEW_NOTE sectView pos.x pos.y fraction.fraction_string HORIZONTAL CENTER
								ELSE
									CREATE_DRW_VIEW_NOTE sectView pos.x pos.y itos(fraction.remainder)+"\\"+itos(fraction.denominator) HORIZONTAL CENTER
								END_IF
						END_IF
					END_IF
						
					IF SILL_STOPP <> STOPP
						IF ERROR
							CLEAR_CATCH_ERROR
						ELSE
							SEARCH_MDL_REF SECT_SKETCH POINT "SILL_STOPP_REF" PNT
							GET_DRW_VIEW_REF_POS sectView PNT pos
							CALC_FRACTION REDUCE TRUE STOPP 16 fraction
								IF fraction.integer <> 0
									CREATE_DRW_VIEW_NOTE sectView pos.x pos.y fraction.fraction_string HORIZONTAL CENTER
								ELSE
									CREATE_DRW_VIEW_NOTE sectView pos.x pos.y itos(fraction.remainder)+"\\"+itos(fraction.denominator) HORIZONTAL CENTER
								END_IF
						END_IF
					END_IF
				END_CATCH_ERROR
			END_IF
			
			GET_DRW_VIEW_OUTLINE sectView sectionoutline

			DECLARE_VARIABLE DOUBLE ISOSCALE
			IF JD <= 8 
				ISOSCALE = .18
			ELSE_IF JD <= 10
				ISOSCALE = .15
			ELSE_IF JD <= 12
				ISOSCALE = .12
			ELSE
				ISOSCALE = .1
			END_IF

		! NO ANCHORS			0	
		! GALVANIZED WIRE		1
		! STAINLESS WIRE			2	
		! LOOSE T				3	
		! LOOSE STUD				4	
		! WELD STUD STRAP		5	
		! HD WELDED STUD		6	
		! WELDED STUD			7	
		! P&D EWA				8	
		! CONCEALED EWA			9	
		! ADJUSTABLE MASONARY	10
		! COMPRESSION			11
			
			IF ANCHOR_TYPE == 0
				CREATE_DRW_NOTE refDrawing 12.25 sectionoutline.y2+1.75 "NO  ANCHORS" HORIZONTAL CENTER HEIGHT .15
			END_IF

			IF ANCHOR_TYPE == 1
				RETRIEVE_MDL ANCHOR_WIRE_GALV_DRAWING.PRT ANCPRT
				CREATE_DRW_VIEW_GENERAL refDrawing ANCPRT "ISO1" 1 12.25 sectionoutline.y2+1.75 .18 refViewA
				SET_DRW_VIEW_DISPLAY refViewA NO_HIDDEN
				
				GET_DRW_VIEW_OUTLINE refViewA outline
				CREATE_DRW_VIEW_NOTE refViewA  12.25 outline.y1-.25 ANCHOR_DESC +"\n"+ " ANCHORS" + "\n" + "("+itos((ANCHOR_QTY*2)+HEAD_ANCHOR_QTY)+")" + " REQUIRED" HORIZONTAL CENTER HEIGHT .09
			END_IF

			IF ANCHOR_TYPE == 2
				RETRIEVE_MDL ANCHOR_WIRE_SS_DRAWING.PRT ANCPRT
				CREATE_DRW_VIEW_GENERAL refDrawing ANCPRT "ISO1" 1 12.25 sectionoutline.y2+1.75 .18 refViewA
				SET_DRW_VIEW_DISPLAY refViewA NO_HIDDEN
				
				GET_DRW_VIEW_OUTLINE refViewA outline
				CREATE_DRW_VIEW_NOTE refViewA  12.25 outline.y1-.25 ANCHOR_DESC +"\n"+ " ANCHORS" + "\n" + "("+itos((ANCHOR_QTY*2)+HEAD_ANCHOR_QTY)+")" + " REQUIRED" HORIZONTAL CENTER HEIGHT .09
			END_IF

			IF ANCHOR_TYPE == 3
				IF JD <= 10
					RETRIEVE_MDL ANCHOR_LOOSE_T_DRAWING.ASM ANCPRT
				ELSE_IF JD > 10
					RETRIEVE_MDL ANCHOR_LOOSE_T_DOUBLE_DRAWING.ASM ANCPRT			
				END_IF
				
				CREATE_DRW_VIEW_GENERAL refDrawing ANCPRT "ISO1" 1 12.25 sectionoutline.y2+1.75 .18 refViewA
				SET_DRW_VIEW_DISPLAY refViewA NO_HIDDEN
				
				GET_DRW_VIEW_OUTLINE refViewA outline
				CREATE_DRW_VIEW_NOTE refViewA  12.25 outline.y1-.25 ANCHOR_DESC +"\n"+ " ANCHORS" + "\n" + "("+itos((ANCHOR_QTY*2)+HEAD_ANCHOR_QTY)+")" + " REQUIRED" HORIZONTAL CENTER HEIGHT .09
			END_IF
			
			IF (ANCHOR_TYPE == 4 OR ANCHOR_TYPE == 5 OR ANCHOR_TYPE == 7) AND JOW+FACEE+FACEE+SIDE_LITE_JOW+SIDE_LITE_MULLION > 120		
				PRINT "%" ITEM_NUM
				DECLARE_VARIABLE STRING ANCH
				ANCH = "ANCHOR_" + ITEM_NUM + ".prt"
				RETRIEVE_MDL &ANCH ANCHASM
				CREATE_DRW_VIEW_GENERAL refDrawing ANCHASM "ISO1" 1 7.0 2.25 ISOSCALE refViewA
				SET_DRW_VIEW_DISPLAY refViewA NO_HIDDEN
				REGEN_MDL ANCHASM
				REPAINT
				
				CALC_FRACTION REDUCE TRUE ANCHOR_RECESS 16 fraction
				GET_DRW_VIEW_OUTLINE refViewA outline
				IF ANCHOR_RECESS > 0 AND ANCHOR_RECESS < 1.0

					PRINT "%" itos(fraction.remainder)
					PRINT "%" itos(fraction.denominator)
				
					CREATE_DRW_VIEW_NOTE refViewA  7.0 outline.y1-.25 ANCHOR_DESC +"\n"+ " ANCHORS" + "\n" + "w/ " + itos(fraction.remainder)+"/"+itos(fraction.denominator) + "\"" + " RECESS - " + "("+itos((ANCHOR_QTY*2)+HEAD_ANCHOR_QTY)+")" + " REQUIRED" HORIZONTAL CENTER HEIGHT .09
				ELSE_IF ANCHOR_RECESS == 0
					CREATE_DRW_VIEW_NOTE refViewA  7.0 outline.y1-.25 ANCHOR_DESC +"\n"+ "FLUSH ANCHORS" + "\n" + "(" +itos((ANCHOR_QTY*2)+HEAD_ANCHOR_QTY) + ")" + " REQUIRED" HORIZONTAL CENTER HEIGHT .09
				ELSE_IF ANCHOR_RECESS > 1
					CREATE_DRW_VIEW_NOTE refViewA  7.0 outline.y1-.25 ANCHOR_DESC +"\n"+ " ANCHORS" + "\n" + "w/ " + fraction_string + "\"" + " RECESS - " + "("+itos((ANCHOR_QTY*2)+HEAD_ANCHOR_QTY)+")" + " REQUIRED" HORIZONTAL CENTER HEIGHT .09				
				END_IF
				
			ELSE_IF (ANCHOR_TYPE == 4 OR ANCHOR_TYPE == 5 OR ANCHOR_TYPE == 7) AND JOW+FACEE+FACEE+SIDE_LITE_JOW+SIDE_LITE_MULLION <= 120		
				PRINT "%" ITEM_NUM
				DECLARE_VARIABLE STRING ANCH
				ANCH = "ANCHOR_" + ITEM_NUM + ".prt"
				RETRIEVE_MDL &ANCH ANCHASM
				CREATE_DRW_VIEW_GENERAL refDrawing ANCHASM "ISO1" 1 12.25 sectionoutline.y2+1.75 ISOSCALE refViewA
				SET_DRW_VIEW_DISPLAY refViewA NO_HIDDEN
				REGEN_MDL ANCHASM
				REPAINT
				
				CALC_FRACTION REDUCE TRUE ANCHOR_RECESS 16 fraction
				GET_DRW_VIEW_OUTLINE refViewA outline
				IF ANCHOR_RECESS > 0 AND ANCHOR_RECESS < 1.0

					PRINT "%" itos(fraction.remainder)
					PRINT "%" itos(fraction.denominator)
				
					CREATE_DRW_VIEW_NOTE refViewA  12.25 outline.y1-.25 ANCHOR_DESC +"\n"+ " ANCHORS" + "\n" + "w/ " + itos(fraction.remainder)+"/"+itos(fraction.denominator) + "\"" + " RECESS - " + "("+itos((ANCHOR_QTY*2)+HEAD_ANCHOR_QTY)+")" + " REQUIRED" HORIZONTAL CENTER HEIGHT .09
				ELSE_IF ANCHOR_RECESS == 0
					CREATE_DRW_VIEW_NOTE refViewA  12.25 outline.y1-.25 ANCHOR_DESC +"\n"+ "FLUSH ANCHORS" + "\n" + "(" +itos((ANCHOR_QTY*2)+HEAD_ANCHOR_QTY) + ")" + " REQUIRED" HORIZONTAL CENTER HEIGHT .09
				ELSE_IF ANCHOR_RECESS > 1
					CREATE_DRW_VIEW_NOTE refViewA  12.25 outline.y1-.25 ANCHOR_DESC +"\n"+ " ANCHORS" + "\n" + "w/ " + fraction_string + "\"" + " RECESS - " + "("+itos((ANCHOR_QTY*2)+HEAD_ANCHOR_QTY)+")" + " REQUIRED" HORIZONTAL CENTER HEIGHT .09				
				END_IF
			END_IF

			IF ANCHOR_TYPE == 6				
				PRINT "%" ITEM_NUM
				DECLARE_VARIABLE STRING ANCH
				ANCH = "ANCHOR_" + ITEM_NUM + ".asm"
				RETRIEVE_MDL &ANCH ANCHASM
				CREATE_DRW_VIEW_GENERAL refDrawing ANCHASM "ISO1" 1 12.25 sectionoutline.y2+1.75 ISOSCALE refViewA
				SET_DRW_VIEW_DISPLAY refViewA NO_HIDDEN
				REGEN_MDL ANCHASM
				REPAINT
				
				GET_DRW_VIEW_OUTLINE refViewA outline
				CREATE_DRW_VIEW_NOTE refViewA  12.25 outline.y1-.25 ANCHOR_DESC +"\n"+ " ANCHORS" + "\n" + "("+itos((ANCHOR_QTY*2)+HEAD_ANCHOR_QTY)+")" + " REQUIRED" HORIZONTAL CENTER HEIGHT .09
			END_IF
			
			IF ANCHOR_TYPE == 8
				PRINT "%" ITEM_NUM
				DECLARE_VARIABLE STRING ANCH
				ANCH = "ANCHOR_" + ITEM_NUM + ".asm"
				RETRIEVE_MDL &ANCH ANCHASM
					CREATE_DRW_VIEW_GENERAL refDrawing ANCHASM "ISO1" 1 11.25 sectionoutline.y2+1.75 .18 refViewA
					SET_DRW_VIEW_DISPLAY refViewA NO_HIDDEN
					! CREATE_DRW_VIEW_GENERAL refDrawing ANCHASM "ISO2" 1 12.0 sectionoutline.y2+2 .18 refViewA
					! SET_DRW_VIEW_DISPLAY refViewA HIDDEN_LINE
				REGEN_MDL ANCHASM
				REPAINT
			END_IF

			IF ANCHOR_TYPE == 9
				PRINT "%" ITEM_NUM
				DECLARE_VARIABLE STRING ANCH
				ANCH = "ANCHOR_" + ITEM_NUM + ".asm"
				RETRIEVE_MDL &ANCH ANCHASM
					CREATE_DRW_VIEW_GENERAL refDrawing ANCHASM "ISO1" 1 10.5 sectionoutline.y2+1.75 .15 refViewA
					SET_DRW_VIEW_DISPLAY refViewA NO_HIDDEN
					CREATE_DRW_VIEW_GENERAL refDrawing ANCHASM "ISO2" 1 12.0 sectionoutline.y2+1.75 .15 refViewA
					SET_DRW_VIEW_DISPLAY refViewA HIDDEN_LINE
				REGEN_MDL ANCHASM
				REPAINT
			END_IF

			IF ANCHOR_TYPE == 10 AND (SECTION == 1 OR SECTION == 2)
				IF SECTION == 1
					RETRIEVE_MDL ANCHOR_ADJ_DRAWING_1.ASM ANCPRT
				ELSE_IF SECTION == 2
					RETRIEVE_MDL ANCHOR_ADJ_DRAWING_2.ASM ANCPRT
				END_IF
				CREATE_DRW_VIEW_GENERAL refDrawing ANCPRT "ISO1" 1 12.25 sectionoutline.y2+1.75 .18 refViewA
				SET_DRW_VIEW_DISPLAY refViewA NO_HIDDEN
				
				GET_DRW_VIEW_OUTLINE refViewA outline
				CREATE_DRW_VIEW_NOTE refViewA  12.25 outline.y1-.25 ANCHOR_DESC +"\n"+ " ANCHORS" + "\n" + "("+itos((ANCHOR_QTY*2)+HEAD_ANCHOR_QTY)+")" + " REQUIRED" HORIZONTAL CENTER HEIGHT .09
			END_IF
			
			
			
			IF ANCHOR_TYPE == 11
				IF SECTION == 0
					IF DW_RTRN == "NO" AND XDW_RTRN == "NO"
						RETRIEVE_MDL ANCHOR_COMPRESSION_SECTION_0.ASM ANCHASM
							CREATE_DRW_VIEW_GENERAL refDrawing ANCHASM "ISO1" 1 11.375 sectionoutline.y2+1.75 .18 refViewA
							SET_DRW_VIEW_DISPLAY refViewA NO_HIDDEN
							CREATE_DRW_VIEW_GENERAL refDrawing ANCHASM "ISO2" 1 12.75 sectionoutline.y2+1.75 .18 refViewA
							SET_DRW_VIEW_DISPLAY refViewA NO_HIDDEN
						 IF BASE_CLIPS == 1	
							RETRIEVE_MDL BASE_CLIP_DRAWING_0.PRT ANCHPRT
								CREATE_DRW_VIEW_GENERAL refDrawing ANCHPRT "ISO1" 1 10.0 sectionoutline.y2+1.75 .18 refViewA
								SET_DRW_VIEW_DISPLAY refViewA NO_HIDDEN
						END_IF
						IF BASE_CLIPS == 4
							RETRIEVE_MDL ANCHOR_FACE_HOLES_SECTION_0.ASM ANCHPRT
								CREATE_DRW_VIEW_GENERAL refDrawing ANCHPRT "ISO1" 1 10.0 sectionoutline.y2+1.75 .18 refViewA
								SET_DRW_VIEW_DISPLAY refViewA NO_HIDDEN
						END_IF
						REGEN_MDL ANCHASM
						REPAINT
					END_IF
					IF DW_RTRN == "IN" AND XDW_RTRN == "IN"
						RETRIEVE_MDL ANCHOR_COMPRESSION_SECTION_0_DW.ASM ANCHASM
							CREATE_DRW_VIEW_GENERAL refDrawing ANCHASM "ISO1" 1 11.375 sectionoutline.y2+1.75 .18 refViewA
							SET_DRW_VIEW_DISPLAY refViewA NO_HIDDEN
							CREATE_DRW_VIEW_GENERAL refDrawing ANCHASM "ISO2" 1 12.75 sectionoutline.y2+1.75 .18 refViewA
							SET_DRW_VIEW_DISPLAY refViewA NO_HIDDEN
						 IF BASE_CLIPS == 1
							RETRIEVE_MDL BASE_CLIP_DRAWING_0_DW.PRT ANCHPRT
								CREATE_DRW_VIEW_GENERAL refDrawing ANCHPRT "ISO1" 1 10.0 sectionoutline.y2+1.75 .18 refViewA
								SET_DRW_VIEW_DISPLAY refViewA NO_HIDDEN
						END_IF
						IF BASE_CLIPS == 4
							RETRIEVE_MDL ANCHOR_FACE_HOLES_SECTION_0.ASM ANCHPRT
								CREATE_DRW_VIEW_GENERAL refDrawing ANCHPRT "ISO1" 1 10.0 sectionoutline.y2+1.75 .18 refViewA
								SET_DRW_VIEW_DISPLAY refViewA NO_HIDDEN
						END_IF
						REGEN_MDL ANCHASM
						REPAINT
					END_IF
				END_IF
				IF SECTION == 2  OR SECTION == 21
					RETRIEVE_MDL ANCHOR_COMPRESSION_SECTION_2.ASM ANCHASM
						CREATE_DRW_VIEW_GENERAL refDrawing ANCHASM "ISO1" 1 11.375 sectionoutline.y2+1.75 .18 refViewA
						SET_DRW_VIEW_DISPLAY refViewA NO_HIDDEN
						CREATE_DRW_VIEW_GENERAL refDrawing ANCHASM "ISO2" 1 12.75 sectionoutline.y2+1.75 .18 refViewA
						SET_DRW_VIEW_DISPLAY refViewA NO_HIDDEN
					IF BASE_CLIPS == 1
						RETRIEVE_MDL BASE_CLIP_DRAWING_2.PRT ANCHPRT
							CREATE_DRW_VIEW_GENERAL refDrawing ANCHPRT "ISO1" 1 10.0 sectionoutline.y2+1.75 .18 refViewA
							SET_DRW_VIEW_DISPLAY refViewA NO_HIDDEN
					END_IF
					IF BASE_CLIPS == 4
						RETRIEVE_MDL ANCHOR_FACE_HOLES_SECTION_2.ASM ANCHPRT
							CREATE_DRW_VIEW_GENERAL refDrawing ANCHPRT "ISO1" 1 10.0 sectionoutline.y2+1.75 .18 refViewA
							SET_DRW_VIEW_DISPLAY refViewA NO_HIDDEN
					END_IF
					REGEN_MDL ANCHASM
					REPAINT
				END_IF
			END_IF
			
			BEGIN_CATCH_ERROR
				GET_DRW_VIEW_OUTLINE refViewA outline
			
				IF ANCHOR_TYPE == 99
					CREATE_DRW_VIEW_NOTE sectView  outline.x1+((outline.x2-outline.x1)/2) outline.y1-0.25 ANCHOR_DESC HORIZONTAL CENTER HEIGHT .12 ANCHOR_NOTE
				ELSE
					IF ANCHOR_TYPE == 9 AND ANCHOR_BOLTS == 0
						CREATE_DRW_VIEW_NOTE refViewA  11.25 outline.y1-.25 ANCHOR_DESC + " ANCHORS"+"\n"+"WITH CAPS AND NO BOLTS" + "\n" + "("+itos((ANCHOR_QTY*2)+HEAD_ANCHOR_QTY)+")" + " REQUIRED" HORIZONTAL CENTER HEIGHT .12 ANCHOR_NOTE
					ELSE_IF ANCHOR_TYPE == 9 AND ANCHOR_BOLTS == 1 AND ANCHOR_BOLT_TYPE == 0
						CREATE_DRW_VIEW_NOTE refViewA  11.25 outline.y1-.25 ANCHOR_DESC + " ANCHORS"+"\n"+"WITH CAPS AND EXP BOLTS" + "\n" + "("+itos((ANCHOR_QTY*2)+HEAD_ANCHOR_QTY)+")" + " REQUIRED" HORIZONTAL CENTER HEIGHT .12 ANCHOR_NOTE
					ELSE_IF ANCHOR_TYPE == 9 AND ANCHOR_BOLTS == 1 AND ANCHOR_BOLT_TYPE == 1
						CREATE_DRW_VIEW_NOTE refViewA  11.25 outline.y1-.25 ANCHOR_DESC + " ANCHORS"+"\n"+"WITH CAPS AND LAG BOLTS" + "\n" + "("+itos((ANCHOR_QTY*2)+HEAD_ANCHOR_QTY)+")" + " REQUIRED" HORIZONTAL CENTER HEIGHT .12 ANCHOR_NOTE
					ELSE_IF ANCHOR_TYPE == 9 AND ANCHOR_BOLTS == 1 AND ANCHOR_BOLT_TYPE == 2
						CREATE_DRW_VIEW_NOTE refViewA  11.25 outline.y1-.25 ANCHOR_DESC + " ANCHORS"+"\n"+"WITH CAPS AND MACHINE BOLTS" + "\n" + "("+itos((ANCHOR_QTY*2)+HEAD_ANCHOR_QTY)+")" + " REQUIRED" HORIZONTAL CENTER HEIGHT .12 ANCHOR_NOTE
					ELSE_IF ANCHOR_TYPE == 8 AND ANCHOR_BOLTS == 0
						CREATE_DRW_VIEW_NOTE refViewA  11.25 outline.y1-.25 ANCHOR_DESC + " ANCHORS"+"\n"+"WITHOUT BOLTS" + "\n" + "("+itos((ANCHOR_QTY*2)+HEAD_ANCHOR_QTY)+")" + " REQUIRED" HORIZONTAL CENTER HEIGHT .12 ANCHOR_NOTE
					ELSE_IF ANCHOR_TYPE == 8 AND ANCHOR_BOLTS == 1
						CREATE_DRW_VIEW_NOTE refViewA  11.25 outline.y1-.25 ANCHOR_DESC + " ANCHORS"+"\n"+"WITH EXP BOLTS" + "\n" + "("+itos((ANCHOR_QTY*2)+HEAD_ANCHOR_QTY)+")" + " REQUIRED" HORIZONTAL CENTER HEIGHT .12 ANCHOR_NOTE
					ELSE_IF ANCHOR_TYPE == 11 AND BASE_CLIPS == 1
						CREATE_DRW_VIEW_NOTE refViewA  11.375 outline.y1-.25 ANCHOR_DESC + " ANCHORS"+"\n"+"WITH BASE CLIPS" HORIZONTAL CENTER HEIGHT .12 ANCHOR_NOTE
					ELSE_IF ANCHOR_TYPE == 11 AND BASE_CLIPS == 0
						CREATE_DRW_VIEW_NOTE refViewA  11.25 outline.y1-.25 ANCHOR_DESC + " ANCHORS" HORIZONTAL CENTER HEIGHT .12 ANCHOR_NOTE
					ELSE_IF ANCHOR_TYPE == 11 AND BASE_CLIPS == 4
						CREATE_DRW_VIEW_NOTE refViewA  11.375 outline.y1-.25 ANCHOR_DESC + " ANCHORS"+"\n"+"WITH FACE HOLES" HORIZONTAL CENTER HEIGHT .12 ANCHOR_NOTE
					ELSE
						! CREATE_DRW_VIEW_NOTE refViewA  12.25 outline.y1-.25 ANCHOR_DESC +"\n"+ " ANCHORS" HORIZONTAL CENTER HEIGHT .12
					END_IF	
				END_IF
				
				IF BOTTOM_ONLY == 1
					GET_DRW_NOTE_TEXT ANCHOR_NOTE NOTE_TEXT
					SET_DRW_NOTE_TEXT ANCHOR_NOTE NOTE_TEXT + "\nBOTTOM ONLY"
				END_IF
			END_CATCH_ERROR
			CLEAR_CATCH_ERROR

			IF FLOOR_CLIPS == "FIXED" AND JOW+FACEE+FACEE+SIDE_LITE_JOW+SIDE_LITE_MULLION > 120
				PRINT "%" ITEM_NUM
				DECLARE_VARIABLE STRING REFMDL
				REFMDL = "FLCLIP_" + ITEM_NUM + ".prt"
				PRINT "%" REFMDL
				RETRIEVE_MDL &REFMDL FCREFASM
					CREATE_DRW_VIEW_GENERAL refDrawing FCREFASM "ISO1" 1 4.5 2.25 ISOSCALE refViewFC
					SET_DRW_VIEW_DISPLAY refViewFC NO_HIDDEN
				REGEN_MDL FCREFASM
				REPAINT
				
				BEGIN_CATCH_ERROR
					GET_DRW_VIEW_OUTLINE refViewFC outline
				END_CATCH_ERROR
				CLEAR_CATCH_ERROR
				CREATE_DRW_VIEW_NOTE refViewFC  4.5 outline.y1-.25 FLOOR_CLIPS +"\n"+ " FLOOR CLIPS" HORIZONTAL CENTER HEIGHT .09
				
			ELSE_IF FLOOR_CLIPS == "FIXED" AND JOW+FACEE+FACEE+SIDE_LITE_JOW+SIDE_LITE_MULLION <= 120
				PRINT "%" ITEM_NUM
				DECLARE_VARIABLE STRING REFMDL
				REFMDL = "FLCLIP_" + ITEM_NUM + ".prt"
				PRINT "%" REFMDL
				RETRIEVE_MDL &REFMDL FCREFASM
					CREATE_DRW_VIEW_GENERAL refDrawing FCREFASM "ISO1" 1 10.25 sectionoutline.y2+1.75 ISOSCALE refViewFC
					SET_DRW_VIEW_DISPLAY refViewFC NO_HIDDEN
				REGEN_MDL FCREFASM
				REPAINT
				
				BEGIN_CATCH_ERROR
					GET_DRW_VIEW_OUTLINE refViewFC outline
				END_CATCH_ERROR
				CLEAR_CATCH_ERROR
				CREATE_DRW_VIEW_NOTE refViewFC  10.25 outline.y1-.25 FLOOR_CLIPS +"\n"+ " FLOOR CLIPS" HORIZONTAL CENTER HEIGHT .09
			END_IF

			IF FLOOR_CLIPS == "HEAVY DUTY"
				PRINT "%" ITEM_NUM
				DECLARE_VARIABLE STRING REFMDL
				REFMDL = "FLCLIPHD_" + ITEM_NUM + ".asm"
				PRINT "%" REFMDL
				RETRIEVE_MDL &REFMDL FCREFASM
					CREATE_DRW_VIEW_GENERAL refDrawing FCREFASM "ISO1" 1 10.25 sectionoutline.y2+1.75 ISOSCALE refViewFC
					SET_DRW_VIEW_DISPLAY refViewFC NO_HIDDEN
				REGEN_MDL FCREFASM
				REPAINT
			END_IF
			
			BEGIN_CATCH_ERROR
				GET_DRW_VIEW_OUTLINE refViewFC outline
			END_CATCH_ERROR
			CLEAR_CATCH_ERROR

			IF FLOOR_CLIPS == "HEAVY_DUTY"
				CREATE_DRW_VIEW_NOTE refViewFC  10.25 outline.y1-.25 FLOOR_CLIPS +"\n"+ " FLOOR CLIPS" HORIZONTAL CENTER HEIGHT .12
			END_IF

			
			IF FLOOR_CLIPS == "ADJUSTABLE"
				PRINT "%" ITEM_NUM
				DECLARE_VARIABLE STRING REFMDL
				REFMDL = "FLCLIP_" + ITEM_NUM + ".asm"
				PRINT "%" REFMDL
				RETRIEVE_MDL &REFMDL FCREFASM
					CREATE_DRW_VIEW_GENERAL refDrawing FCREFASM "ISO1" 1 10.25 sectionoutline.y2+1.75 .18 refViewFC
					SET_DRW_VIEW_DISPLAY refViewFC NO_HIDDEN
				REGEN_MDL FCREFASM
				REPAINT
			END_IF
			
			BEGIN_CATCH_ERROR
				GET_DRW_VIEW_OUTLINE refViewFC outline
			END_CATCH_ERROR
			CLEAR_CATCH_ERROR

			IF FLOOR_CLIPS == "ADJUSTABLE"
				CREATE_DRW_VIEW_NOTE refViewFC  10.25 outline.y1-.25 FLOOR_CLIPS +"\n"+ " FLOOR CLIPS" HORIZONTAL CENTER HEIGHT .12
			END_IF
			
	END_IF
!END FRAME SECTION					
					
!BEGIN SEAMLESS DOOR EDGE DIM & ANGLE INFO
	IF CHOICE == 5 AND WO_TYPE == "D" AND DOOR_CONSTRUCTION == "SEAMLESS" AND (STRIKE_EDGE_SHAPE == "BEVEL" OR STRIKE_EDGE_SHAPE == "SQUARE") AND (HINGE_EDGE_SHAPE == "BEVEL" OR HINGE_EDGE_SHAPE == "SQUARE")

		SEARCH_MDL_REF ASSEM COMPONENT "DOOR_ASM_1*" DOOR_1
	
		CREATE_DRW_VIEW_GENERAL refDrawing DOOR_1 "TOP" 1 11.5 3.0 Scale*1.25 refViewp
		SET_DRW_VIEW_TANGENT_EDGE_DISPLAY refViewp NONE
		SET_DRW_VIEW_DISPLAY refViewp NO_HIDDEN	
		GET_DRW_VIEW_OUTLINE refViewp outline
		
		SEARCH_MDL_REF DOOR_1 COMPONENT "BODY_1*" BODY_1
		SEARCH_MDL_REF BODY_1 POINT "REF_1" REF_1
		SEARCH_MDL_REF BODY_1 POINT "REF_2" REF_2
		SEARCH_MDL_PARAM BODY_1 "ANGLE_1" ANGLE_1
		SEARCH_MDL_PARAM BODY_1 "LO_1" LO_1
		SEARCH_MDL_PARAM BODY_1 "ANGLE_2" ANGLE_2
		SEARCH_MDL_PARAM BODY_1 "LO_2" LO_2
		
		IF STD_REV == "STD"
			CREATE_DRW_VIEW_NOTE refViewp outline.x2 - .25 outline.y2 + .5 "BODY " + ftos(ANGLE_1,0) + "$" + " (" + ftos(LO_1,3) + ") " HORIZONTAL LEFT  HEIGHT .09 WITH_LEADER REF_1
			CREATE_DRW_VIEW_NOTE refViewp outline.x1 + .25 outline.y2 + .25 "BODY " + ftos(ANGLE_2,0) + "$" + " (" + ftos(LO_2,3) + ") " HORIZONTAL RIGHT  HEIGHT .09 WITH_LEADER REF_2
		END_IF

		IF STD_REV == "REV"
			CREATE_DRW_VIEW_NOTE refViewp outline.x2 - .25 outline.y1 - .5 "BODY " + ftos(ANGLE_2,0) + "$" + " (" + ftos(LO_2,3) + ") " HORIZONTAL LEFT  HEIGHT .09 WITH_LEADER REF_2
			CREATE_DRW_VIEW_NOTE refViewp outline.x1 + .25 outline.y1 - .25 "BODY " + ftos(ANGLE_1,0) + "$" + " (" + ftos(LO_1,3) + ") " HORIZONTAL RIGHT  HEIGHT .09 WITH_LEADER REF_1
		END_IF
			
		! IF TOP_EDGE == "SEAMLESS"
			! SEARCH_MDL_PARAM BODY_1 "d319" FLANGE
			! SEARCH_MDL_PARAM BODY_1 "d242" DEV
			! CREATE_DRW_VIEW_NOTE refViewp outline.x1+(( outline.x2-outline.x1)/2)  outline.y2 +.06 "TOP " + " (" + ftos(FLANGE+SM_THICK,3) + ") OA" HORIZONTAL CENTER  HEIGHT .09
		! END_IF
		! IF TOP_EDGE == "WELDED"
			! SEARCH_MDL_PARAM BODY_1 "d385" FLANGE
			! SEARCH_MDL_PARAM BODY_1 "d355" DEV
			! CREATE_DRW_VIEW_NOTE refViewp outline.x1+(( outline.x2-outline.x1)/2)  outline.y2 +.06 "TOP " + " (" + ftos(FLANGE+SM_THICK,3) + ") OA" HORIZONTAL CENTER  HEIGHT .09
		! END_IF
		IF TOP_EDGE == "TACKED" OR TOP_EDGE == "SEALED" OR TOP_EDGE == "SEAMLESS" OR TOP_EDGE == "POLISHED"
			SEARCH_MDL_PARAM BODY_1 "d319" FLANGE
			SEARCH_MDL_PARAM BODY_1 "d242" DEV
			CREATE_DRW_VIEW_NOTE refViewp outline.x1+(( outline.x2-outline.x1)/2)  outline.y2 +.06 "TOP " + " (" + ftos(FLANGE+SM_THICK,3) + ") OA" HORIZONTAL CENTER  HEIGHT .09
		END_IF
		
		IF BOTTOM_EDGE == "SEAMLESS" OR BOTTOM_EDGE == "WELDED" OR BOTTOM_EDGE == "TACKED"
			IF AUTO_BOTTOM == 2
				SEARCH_MDL_PARAM BODY_1 "d318" FLANGE
				SEARCH_MDL_PARAM BODY_1 "d312" DEV
				CREATE_DRW_VIEW_NOTE refViewp outline.x1+(( outline.x2-outline.x1)/2)  outline.y1 -.06 "BOT " + " (" + ftos(FLANGE+SM_THICK,3) + ") OA" HORIZONTAL CENTER  HEIGHT .09
			ELSE_IF BOTTOM_EDGE == "TACKED" OR BOTTOM_EDGE == "SEALED" OR BOTTOM_EDGE == "SEAMLESS" OR BOTTOM_EDGE == "POLISHED"
				SEARCH_MDL_PARAM BODY_1 "d320" FLANGE
				SEARCH_MDL_PARAM BODY_1 "d256" DEV
				CREATE_DRW_VIEW_NOTE refViewp outline.x1+(( outline.x2-outline.x1)/2)  outline.y1 -.06 "BOT " + " (" + ftos(FLANGE+SM_THICK,3) + ") OA" HORIZONTAL CENTER  HEIGHT .09
			! ELSE_IF BOTTOM_EDGE == "WELDED"
				! SEARCH_MDL_PARAM BODY_1 "d380" FLANGE
				! SEARCH_MDL_PARAM BODY_1 "d375" DEV
				! CREATE_DRW_VIEW_NOTE refViewp outline.x1+(( outline.x2-outline.x1)/2)  outline.y1 -.06 "BOT " + " (" + ftos(FLANGE+SM_THICK,3) + ") OA" HORIZONTAL CENTER  HEIGHT .09
			! ELSE_IF BOTTOM_EDGE == "TACKED"
				! SEARCH_MDL_PARAM BODY_1 "d432" FLANGE
				! SEARCH_MDL_PARAM BODY_1 "d428" DEV
				! CREATE_DRW_VIEW_NOTE refViewp outline.x1+(( outline.x2-outline.x1)/2)  outline.y1 -.06 "BOT " + " (" + ftos(FLANGE+SM_THICK,3) + ") OA" HORIZONTAL CENTER  HEIGHT .09
			END_IF
		END_IF
					
		SEARCH_MDL_REF DOOR_1 COMPONENT "COVER_1*" COVER_1
		SEARCH_MDL_REF COVER_1 POINT "REF_1" REF_1
		SEARCH_MDL_REF COVER_1 POINT "REF_2" REF_2
		SEARCH_MDL_PARAM COVER_1 "ANGLE_1" ANGLE_1
		SEARCH_MDL_PARAM COVER_1 "LO_1" LO_1
		SEARCH_MDL_PARAM COVER_1 "ANGLE_2" ANGLE_2
		SEARCH_MDL_PARAM COVER_1 "LO_2" LO_2

		IF STD_REV == "STD"
			CREATE_DRW_VIEW_NOTE refViewp outline.x2 - .25 outline.y1 - .5 "COVER " + ftos(ANGLE_1,0) + "$" + " (" + ftos(LO_1,3) + ") " HORIZONTAL LEFT  HEIGHT .09 WITH_LEADER REF_1
			CREATE_DRW_VIEW_NOTE refViewp outline.x1 + .25 outline.y1 - .25 "COVER " + ftos(ANGLE_2,0) + "$" + " (" + ftos(LO_2,3) + ") " HORIZONTAL RIGHT  HEIGHT .09 WITH_LEADER REF_2
		END_IF
		
		IF STD_REV == "REV"
			CREATE_DRW_VIEW_NOTE refViewp outline.x2 - .25 outline.y2 + .5 "COVER " + ftos(ANGLE_2,0) + "$" + " (" + ftos(LO_2,3) + ") " HORIZONTAL LEFT  HEIGHT .09 WITH_LEADER REF_2
			CREATE_DRW_VIEW_NOTE refViewp outline.x1 + .25 outline.y2 + .25 "COVER " + ftos(ANGLE_1,0) + "$" + " (" + ftos(LO_1,3) + ") " HORIZONTAL RIGHT  HEIGHT .09 WITH_LEADER REF_1
		END_IF
				
		
		IF SUB_TYPE == "P"
			SEARCH_MDL_REF ASSEM COMPONENT "DOOR_ASM_2*" DOOR_2
		
			CREATE_DRW_VIEW_GENERAL refDrawing DOOR_2 "TOP" 1 11.5 1.5 Scale*1.25 refViewp
			SET_DRW_VIEW_TANGENT_EDGE_DISPLAY refViewp NONE
			SET_DRW_VIEW_DISPLAY refViewp NO_HIDDEN	
			GET_DRW_VIEW_OUTLINE refViewp outline
			
			SEARCH_MDL_REF DOOR_2 COMPONENT "BODY_2*" BODY_2
			SEARCH_MDL_REF BODY_2 POINT "REF_1" REF_1
			SEARCH_MDL_REF BODY_2 POINT "REF_2" REF_2
			SEARCH_MDL_PARAM BODY_2 "ANGLE_1" ANGLE_1
			SEARCH_MDL_PARAM BODY_2 "LO_1" LO_1
			SEARCH_MDL_PARAM BODY_2 "ANGLE_2" ANGLE_2
			SEARCH_MDL_PARAM BODY_2 "LO_2" LO_2
			
			IF STD_REV == "STD"
				CREATE_DRW_VIEW_NOTE refViewp outline.x2 - .25 outline.y2 + .5 "BODY " + ftos(ANGLE_1,0) + "$" +" (" + ftos(LO_1,3)	+ " )" HORIZONTAL LEFT  HEIGHT .09 WITH_LEADER REF_1
				CREATE_DRW_VIEW_NOTE refViewp outline.x1 + .25 outline.y2 + .25 "BODY " + ftos(ANGLE_2,0) + "$" +" (" + ftos(LO_2,3) + ") " HORIZONTAL RIGHT  HEIGHT .09 WITH_LEADER REF_2
			END_IF

			IF STD_REV == "REV"
				CREATE_DRW_VIEW_NOTE refViewp outline.x2 - .25 outline.y1 - .5 "BODY " + ftos(ANGLE_2,0) + "$" +" (" + ftos(LO_2,3) + ") " HORIZONTAL LEFT  HEIGHT .09 WITH_LEADER REF_2
				CREATE_DRW_VIEW_NOTE refViewp outline.x1 + .25 outline.y1 - .25 "BODY " + ftos(ANGLE_1,0) + "$" +" (" + ftos(LO_1,3) + ") " HORIZONTAL RIGHT  HEIGHT .09 WITH_LEADER REF_1
			END_IF			
			
			SEARCH_MDL_REF DOOR_2 COMPONENT "COVER_2*" COVER_2
			SEARCH_MDL_REF COVER_2 POINT "REF_1" REF_1
			SEARCH_MDL_REF COVER_2 POINT "REF_2" REF_2
			SEARCH_MDL_PARAM COVER_2 "ANGLE_1" ANGLE_1
			SEARCH_MDL_PARAM COVER_2 "LO_1" LO_1
			SEARCH_MDL_PARAM COVER_2 "ANGLE_2" ANGLE_2
			SEARCH_MDL_PARAM COVER_2 "LO_2" LO_2

			IF STD_REV == "STD"
				CREATE_DRW_VIEW_NOTE refViewp outline.x2 - .25 outline.y1 - .5 "COVER " + ftos(ANGLE_1,0) + "$" +" (" + ftos(LO_1,3) + ") " HORIZONTAL LEFT  HEIGHT .09 WITH_LEADER REF_1
				CREATE_DRW_VIEW_NOTE refViewp outline.x1 + .25 outline.y1 - .25 "COVER " + ftos(ANGLE_2,0) + "$" +" (" + ftos(LO_2,3) + ") " HORIZONTAL RIGHT  HEIGHT .09 WITH_LEADER REF_2
			END_IF
			
			IF STD_REV == "REV"
				CREATE_DRW_VIEW_NOTE refViewp outline.x2 - .25 outline.y2 + .5 "COVER " + ftos(ANGLE_2,0) + "$" +" (" + ftos(LO_2,3) + ") " HORIZONTAL LEFT  HEIGHT .09 WITH_LEADER REF_2
				CREATE_DRW_VIEW_NOTE refViewp outline.x1 + .25 outline.y2 + .25 "COVER " + ftos(ANGLE_1,0) + "$" +" (" + ftos(LO_1,3) + ") " HORIZONTAL RIGHT  HEIGHT .09 WITH_LEADER REF_1
			END_IF

			! IF TOP_EDGE == "SEAMLESS"
				! SEARCH_MDL_PARAM BODY_2 "d319" FLANGE
				! SEARCH_MDL_PARAM BODY_2 "d242" DEV
				! CREATE_DRW_VIEW_NOTE refViewp outline.x1+(( outline.x2-outline.x1)/2)  outline.y2 +.06 "TOP " + " (" + ftos(FLANGE+SM_THICK,3) + ") OA" HORIZONTAL CENTER  HEIGHT .09
			! END_IF
			! IF TOP_EDGE == "WELDED"
				! SEARCH_MDL_PARAM BODY_2 "d385" FLANGE
				! SEARCH_MDL_PARAM BODY_2 "d355" DEV
				! CREATE_DRW_VIEW_NOTE refViewp outline.x1+(( outline.x2-outline.x1)/2)  outline.y2 +.06 "TOP " + " (" + ftos(FLANGE+SM_THICK,3) + ") OA" HORIZONTAL CENTER  HEIGHT .09
			! END_IF
			IF TOP_EDGE == "TACKED" OR TOP_EDGE == "SEALED" OR TOP_EDGE == "SEAMLESS" OR TOP_EDGE == "POLISHED"
				SEARCH_MDL_PARAM BODY_2 "d319" FLANGE
				SEARCH_MDL_PARAM BODY_2 "d242" DEV
				CREATE_DRW_VIEW_NOTE refViewp outline.x1+(( outline.x2-outline.x1)/2)  outline.y2 +.06 "TOP " + " (" + ftos(FLANGE+SM_THICK,3) + ") OA" HORIZONTAL CENTER  HEIGHT .09
			END_IF
			
			IF BOTTOM_EDGE == "SEAMLESS" OR BOTTOM_EDGE == "WELDED" OR BOTTOM_EDGE == "TACKED"
				IF AUTO_BOTTOM == 2
					SEARCH_MDL_PARAM BODY_2 "d318" FLANGE
					SEARCH_MDL_PARAM BODY_2 "d312" DEV
					CREATE_DRW_VIEW_NOTE refViewp outline.x1+(( outline.x2-outline.x1)/2)  outline.y1 -.06 "BOT " + " (" + ftos(FLANGE+SM_THICK,3) + ") OA" HORIZONTAL CENTER  HEIGHT .09
				ELSE_IF BOTTOM_EDGE == "TACKED" OR BOTTOM_EDGE == "SEALED" OR BOTTOM_EDGE == "SEAMLESS" OR BOTTOM_EDGE == "POLISHED"
					SEARCH_MDL_PARAM BODY_2 "d320" FLANGE
					SEARCH_MDL_PARAM BODY_2 "d256" DEV
					CREATE_DRW_VIEW_NOTE refViewp outline.x1+(( outline.x2-outline.x1)/2)  outline.y1 -.06 "BOT " + " (" + ftos(FLANGE+SM_THICK,3) + ") OA" HORIZONTAL CENTER  HEIGHT .09
				! ELSE_IF BOTTOM_EDGE == "WELDED"
					! SEARCH_MDL_PARAM BODY_2 "d380" FLANGE
					! SEARCH_MDL_PARAM BODY_2 "d375" DEV
					! CREATE_DRW_VIEW_NOTE refViewp outline.x1+(( outline.x2-outline.x1)/2)  outline.y1 -.06 "BOT " + " (" + ftos(FLANGE+SM_THICK,3) + ") OA" HORIZONTAL CENTER  HEIGHT .09
				! ELSE_IF BOTTOM_EDGE == "TACKED"
					! SEARCH_MDL_PARAM BODY_2 "d432" FLANGE
					! SEARCH_MDL_PARAM BODY_2 "d428" DEV
					! CREATE_DRW_VIEW_NOTE refViewp outline.x1+(( outline.x2-outline.x1)/2)  outline.y1 -.06 "BOT " + " (" + ftos(FLANGE+SM_THICK,3) + ") OA" HORIZONTAL CENTER  HEIGHT .09
				END_IF
			END_IF
		END_IF
	END_IF			
!END SEAMLESS DOOR EDGE DIM & ANGLE INFO
	
!BEGIN GENERAL NOTES
	IF (OPENING_TYPE == 2 OR OPENING_TYPE == 3) AND GROUT_HOLES == 1
		SEARCH_MDL_REFS RECURSIVE ASSEM CSYS "GROUT*" NoteRefs
			FOR NoteRef REF ARRAY NoteRefs
				CREATE_UDF udf\xycsys ASSEM
					UDF_REF ATTACH NoteRef
					UDF_DIM	DIMX .1875/Scale
					UDF_DIM	DIMY 0
					UDF_EXP_REF NOTE_ CSYS 0
				END_CREATE_UDF
			
				GET_DRW_VIEW_REF_POS refView NOTE_ pos
				CREATE_DRW_VIEW_NOTE refView pos.x pos.y "GROUT\nHOLE" HEIGHT .06 HORIZONTAL CENTER
			END_FOR
	END_IF
		
	IF SUB_TYPE == "P"
		! IF AUTO_OPERATOR == 1
			! CREATE_UDF udf\xycsys ASSEM
				! UDF_REF ATTACH DOOR_CTR_CSYS
				! UDF_DIM	DIMX 0
				! UDF_DIM	DIMY JOH+(SNAPY/4)
				! UDF_EXP_REF NOTE_ CSYS 0
			! END_CREATE_UDF
			! GET_DRW_VIEW_REF_POS refView NOTE_ pos
			! CREATE_DRW_VIEW_NOTE refView pos.x pos.y  "AUTO OPERATOR" HEIGHT .09 HORIZONTAL CENTER
		! END_IF

		IF COORDINATOR == 1
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH DOOR_CTR_CSYS
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY JOH+(SNAPY/4)
				UDF_EXP_REF NOTE_ CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView NOTE_ pos
			CREATE_DRW_VIEW_NOTE refView pos.x pos.y  "COORDINATOR" HEIGHT .06 HORIZONTAL CENTER
		END_IF
		
		IF MAG_LOCK == 1 OR MAG_LOCK == 3
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH DOOR_CTR_CSYS
				UDF_DIM	DIMX -9
				UDF_DIM	DIMY JOH+(SNAPY/4)
				UDF_EXP_REF NOTE_ CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView NOTE_ pos
			CREATE_DRW_VIEW_NOTE refView pos.x pos.y  "MAG LOCK" HEIGHT .06 HORIZONTAL CENTER
		END_IF
		
		IF MAG_LOCK == 2 OR MAG_LOCK == 3
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH DOOR_CTR_CSYS
				UDF_DIM	DIMX 9
				UDF_DIM	DIMY JOH+(SNAPY/4)
				UDF_EXP_REF NOTE_ CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView NOTE_ pos
			CREATE_DRW_VIEW_NOTE refView pos.x pos.y  "MAG LOCK" HEIGHT .06 HORIZONTAL CENTER
		END_IF
		
	END_IF
	
	IF OPENING_TYPE == 1 OR OPENING_TYPE == 3
		IF HOLDER_STOP == 1 AND HS_TYPE == 1
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH ORNT_CSYS
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY JOH+.75
				UDF_EXP_REF NOTE_ CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView NOTE_ pos
			CREATE_DRW_VIEW_NOTE refView pos.x pos.y  "SURFACE HOLDER - STOP" HEIGHT .06 HORIZONTAL CENTER
		END_IF
		
		IF CLOSER_DESC <> "" AND SUB_TYPE == "S"
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH ORNT_CSYS
				UDF_DIM	DIMX (JOW/2) -2.0
				UDF_DIM	DIMY JOH-2.5
				UDF_EXP_REF NOTE_ CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView NOTE_ pos
			IF HAND == "L*"
				CREATE_DRW_VIEW_NOTE refView pos.x pos.y  CLOSER_MODEL+ " " + CLOSER_DESC HEIGHT .06 HORIZONTAL LEFT
			ELSE_IF HAND == "R*"
				CREATE_DRW_VIEW_NOTE refView pos.x pos.y  CLOSER_MODEL+ " " + CLOSER_DESC HEIGHT .06 HORIZONTAL RIGHT
			END_IF				
		END_IF

		IF SUB_TYPE == "S" AND MAG_LOCK == 1
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH ORNT_CSYS
				UDF_DIM	DIMX -(JOW/2)+1.0
				UDF_DIM	DIMY JOH-1.5
				UDF_EXP_REF NOTE CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView NOTE pos

			IF strleft(HAND, 1) == "R"
				CREATE_DRW_VIEW_NOTE refView pos.x pos.y  "MAG\nLOCK" HEIGHT .06 HORIZONTAL LEFT
			ELSE_IF strleft(HAND, 1) == "L"
				CREATE_DRW_VIEW_NOTE refView pos.x pos.y  "MAG\nLOCK" HEIGHT .06 HORIZONTAL RIGHT
			END_IF
		END_IF

		IF SUB_TYPE == "P"
			SEARCH_MDL_REF ASSEM CSYS "DEFCSYS" DEFCSYS
			IF CLOSER_DESC <> "" OR AUTO_OPERATOR == 1
				CREATE_UDF udf\xycsys ASSEM
					UDF_REF ATTACH DEFCSYS
					UDF_DIM	DIMX -(JOW/2) +2.0
					UDF_DIM	DIMY JOH-2.5
					UDF_EXP_REF NOTE_ CSYS 0
				END_CREATE_UDF
				GET_DRW_VIEW_REF_POS refView NOTE_ pos
				IF AUTO_OPERATOR == 1
					CREATE_DRW_VIEW_NOTE refView pos.x pos.y  "AUTO OPERATOR " HEIGHT .06 HORIZONTAL LEFT
				ELSE
					CREATE_DRW_VIEW_NOTE refView pos.x pos.y  CLOSER_MODEL+ " " + CLOSER_DESC HEIGHT .06 HORIZONTAL LEFT
				END_IF
			END_IF
			IF CLOSER_DESC_2 <> "" OR AUTO_OPERATOR == 1
				CREATE_UDF udf\xycsys ASSEM
					UDF_REF ATTACH DEFCSYS
					UDF_DIM	DIMX (JOW/2) - 2.0
					UDF_DIM	DIMY JOH-2.5
					UDF_EXP_REF NOTE_ CSYS 0
				END_CREATE_UDF
				GET_DRW_VIEW_REF_POS refView NOTE_ pos
				IF AUTO_OPERATOR == 1
					CREATE_DRW_VIEW_NOTE refView pos.x pos.y  "AUTO OPERATOR " HEIGHT .06 HORIZONTAL RIGHT
				ELSE
					CREATE_DRW_VIEW_NOTE refView pos.x pos.y  CLOSER_MODEL_2+ " " + CLOSER_DESC_2 HEIGHT .06 HORIZONTAL RIGHT
				END_IF
			END_IF
						
			IF HS_DESC <> "" AND HS_TYPE == 1
				CREATE_UDF udf\xycsys ASSEM
					UDF_REF ATTACH DEFCSYS
					UDF_DIM	DIMX -(JOW/2) +2.0
					UDF_DIM	DIMY JOH-2.5
					UDF_EXP_REF NOTE_ CSYS 0
				END_CREATE_UDF
				GET_DRW_VIEW_REF_POS refView NOTE_ pos
				CREATE_DRW_VIEW_NOTE refView pos.x pos.y  HS_MODEL+ " " + HS_DESC HEIGHT .06 HORIZONTAL LEFT
			ELSE_IF HS_DESC <> "" AND HS_TYPE == 2
				SEARCH_MDL_REF RECURSIVE ASSEM CSYS "HS_TYPE_2" NoteRef
				GET_DRW_VIEW_REF_POS refView NoteRef pos				
				CALC_FRACTION REDUCE TRUE HS_OFFSET 16 offsetfraction
				CREATE_DRW_VIEW_NOTE refView pos.x pos.y  "CONCEALED H/S " + offsetfraction.fraction_string + "\"" HEIGHT .06 HORIZONTAL LEFT		
			END_IF
			
			IF HS_DESC_2 <> "" AND HS_TYPE == 1
				CREATE_UDF udf\xycsys ASSEM
					UDF_REF ATTACH DEFCSYS
					UDF_DIM	DIMX (JOW/2) - 2.0
					UDF_DIM	DIMY JOH-2.5
					UDF_EXP_REF NOTE_ CSYS 0
				END_CREATE_UDF
				GET_DRW_VIEW_REF_POS refView NOTE_ pos
				CREATE_DRW_VIEW_NOTE refView pos.x pos.y  HS_MODEL_2+ " " + HS_DESC_2 HEIGHT .06 HORIZONTAL RIGHT
			ELSE_IF HS_DESC_2 <> "" AND HS_TYPE == 2
				SEARCH_MDL_REF RECURSIVE ASSEM CSYS "HS_TYPE_2_2" NoteRef
				GET_DRW_VIEW_REF_POS refView NoteRef pos				
				CALC_FRACTION REDUCE TRUE HS_OFFSET_2 16 offsetfraction
				CREATE_DRW_VIEW_NOTE refView pos.x pos.y  "CONCEALED H/S " + offsetfraction.fraction_string + "\"" HEIGHT .06 HORIZONTAL LEFT		
			END_IF
			
			IF FIRE_BOLT == 1
				SEARCH_MDL_REF RECURSIVE ASSEM CSYS "FIRE_BOLT_REF" NoteRef
				GET_DRW_VIEW_REF_POS refView NoteRef pos
				CREATE_DRW_VIEW_NOTE refView pos.x pos.y  "  FIRE    BOLT" HEIGHT .06 HORIZONTAL CENTER		
			END_IF
		END_IF
	END_IF
	
	IF SUB_TYPE == "S" AND OPENING_TYPE == 2
		IF AUTO_OPERATOR == 1
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH ORNT_CSYS
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY JOH+(HEAD/2)
				UDF_EXP_REF NOTE CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView NOTE pos
			CREATE_DRW_VIEW_NOTE refView pos.x pos.y  "AUTO OPERATOR" HEIGHT .06 HORIZONTAL CENTER
		END_IF

		IF COORDINATOR == 1
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH ORNT_CSYS
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY JOH+(HEAD/2)
				UDF_EXP_REF NOTE CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView NOTE pos
			CREATE_DRW_VIEW_NOTE refView pos.x pos.y  "COORDINATOR" HEIGHT .06 HORIZONTAL CENTER
		END_IF
		
		IF HOLDER_STOP == 1 AND HS_TYPE == 1
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH ORNT_CSYS
				UDF_DIM	DIMX (JOW/2) -2.0
				UDF_DIM	DIMY JOH-HEAD_STOPP-(HEAD/2)
				UDF_EXP_REF NOTE CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView NOTE pos
			IF strleft(HAND, 1) == "L"
				CREATE_DRW_VIEW_NOTE refView pos.x pos.y  HS_DESC HEIGHT .06 HORIZONTAL LEFT
			ELSE_IF strleft(HAND, 1) == "R"
				CREATE_DRW_VIEW_NOTE refView pos.x pos.y  HS_DESC HEIGHT .06 HORIZONTAL RIGHT
			END_IF
		ELSE_IF HOLDER_STOP == 1 AND HS_TYPE == 2
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH ORNT_CSYS
				UDF_DIM	DIMX (JOW/2) -2.0
				UDF_DIM	DIMY JOH-HEAD_STOPP-(HEAD/2)
				UDF_EXP_REF NOTE CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView NOTE pos
			CALC_FRACTION REDUCE TRUE HS_OFFSET 16 offsetfraction
			IF strleft(HAND, 1) == "L"
				CREATE_DRW_VIEW_NOTE refView pos.x pos.y  "CONCEALED H/S " + offsetfraction.fraction_string + "\"" HEIGHT .06 HORIZONTAL LEFT
			ELSE_IF strleft(HAND, 1) == "R"
				CREATE_DRW_VIEW_NOTE refView pos.x pos.y  "CONCEALED H/S " + offsetfraction.fraction_string + "\"" HEIGHT .06 HORIZONTAL RIGHT
			END_IF		
		END_IF
		
		IF CLOSER_DESC <> ""
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH ORNT_CSYS
				UDF_DIM	DIMX (JOW/2) -2.0
				UDF_DIM	DIMY JOH+(HEAD/2)
				UDF_EXP_REF NOTE CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView NOTE pos
			IF strleft(HAND, 1) == "L"
				CREATE_DRW_VIEW_NOTE refView pos.x pos.y  CLOSER_DESC+"\n"+CLOSER_MODEL HEIGHT .06 HORIZONTAL LEFT
			ELSE_IF strleft(HAND, 1) == "R"
				CREATE_DRW_VIEW_NOTE refView pos.x pos.y  CLOSER_DESC+"\n"+CLOSER_MODEL HEIGHT .06 HORIZONTAL RIGHT
			END_IF
		END_IF
		
		IF MAG_LOCK == 1
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH ORNT_CSYS
				UDF_DIM	DIMX -(JOW/2) +1.5
				UDF_DIM	DIMY JOH+(HEAD/2)
				UDF_EXP_REF NOTE CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView NOTE pos

			IF strleft(HAND, 1) == "R"
				CREATE_DRW_VIEW_NOTE refView pos.x pos.y  "MAG LOCK" HEIGHT .06 HORIZONTAL LEFT
			ELSE_IF strleft(HAND, 1) == "L"
				CREATE_DRW_VIEW_NOTE refView pos.x pos.y  "MAG LOCK" HEIGHT .06 HORIZONTAL RIGHT
			END_IF
		END_IF
	END_IF

	IF SUB_TYPE == "P" AND OPENING_TYPE == 2
		IF FLUSH_BOLTS == 1 OR FLUSH_BOLTS == 3
			SEARCH_MDL_REF RECURSIVE ASSEM CSYS "FBREF" NoteRef
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH NoteRef
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY -1.5
				UDF_EXP_REF NOTE CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView NOTE pos
			IF ACTIVE_LEAF == 99
				CREATE_DRW_VIEW_NOTE refView pos.x pos.y  "FLUSH BOLT" HEIGHT .06 HORIZONTAL CENTER
			ELSE_IF ACTIVE_LEAF <> 99
				CREATE_DRW_VIEW_NOTE refView pos.x pos.y  "FLUSH BOLT\n" + ftos(ACTIVE_LEAF) + "\""+ ""+"\""+ " CL" HEIGHT .06 HORIZONTAL CENTER
			END_IF
		END_IF
		
		IF PRIMARY_STRIKE_TYPE == 81 OR PRIMARY_STRIKE_TYPE == 83
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH ORNT_CSYS
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY JOH-2
				UDF_EXP_REF NOTE CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView NOTE pos
			CREATE_DRW_VIEW_NOTE refView pos.x pos.y  "SVR" HEIGHT .06 HORIZONTAL CENTER		
		END_IF
						
		SEARCH_MDL_REF ASSEM CSYS "DEFCSYS" DEFCSYS
		IF CLOSER_DESC <> ""
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH DEFCSYS
				UDF_DIM	DIMX -(JOW/2) +2.0
				UDF_DIM	DIMY JOH+(HEAD/2)
				UDF_EXP_REF NOTE_ CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView NOTE_ pos
			CREATE_DRW_VIEW_NOTE refView pos.x pos.y  CLOSER_MODEL+ " " + CLOSER_DESC HEIGHT .06 HORIZONTAL LEFT
		END_IF
		IF CLOSER_DESC_2 <> ""
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH DEFCSYS
				UDF_DIM	DIMX (JOW/2) - 2.0
				UDF_DIM	DIMY JOH+(HEAD/2)
				UDF_EXP_REF NOTE_ CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView NOTE_ pos
			CREATE_DRW_VIEW_NOTE refView pos.x pos.y  CLOSER_MODEL_2+ " " + CLOSER_DESC_2 HEIGHT .06 HORIZONTAL RIGHT
		END_IF
		
		IF HS_DESC <> "" AND HS_TYPE == 1
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH DEFCSYS
				UDF_DIM	DIMX -(JOW/2) +2.0
				UDF_DIM	DIMY JOH-HEAD_STOPP-(HEAD/2)
				UDF_EXP_REF NOTE_ CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView NOTE_ pos
			CREATE_DRW_VIEW_NOTE refView pos.x pos.y  HS_MODEL+ " " + HS_DESC HEIGHT .06 HORIZONTAL LEFT
		ELSE_IF HS_DESC <> "" AND HS_TYPE == 2
			SEARCH_MDL_REF RECURSIVE ASSEM CSYS "HS_TYPE_2" ATTACH
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH ATTACH
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY -HEAD_STOPP-1
				UDF_EXP_REF NoteRef CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView NoteRef pos				
			CALC_FRACTION REDUCE TRUE HS_OFFSET 16 offsetfraction
			CREATE_DRW_VIEW_NOTE refView pos.x pos.y  "CONCEALED H/S " + offsetfraction.fraction_string + "\"" HEIGHT .06 HORIZONTAL CENTER					
		END_IF
		
		IF HS_DESC_2 <> "" AND HS_TYPE_2 == 1
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH DEFCSYS
				UDF_DIM	DIMX (JOW/2) - 2.0
				UDF_DIM	DIMY JOH-HEAD_STOPP-(HEAD/2)
				UDF_EXP_REF NOTE_ CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView NOTE_ pos
			CREATE_DRW_VIEW_NOTE refView pos.x pos.y  HS_MODEL_2+ " " + HS_DESC_2 HEIGHT .06 HORIZONTAL RIGHT
		ELSE_IF HS_DESC_2 <> "" AND HS_TYPE_2 == 2
			SEARCH_MDL_REF RECURSIVE ASSEM CSYS "HS_TYPE_2_2" ATTACH
			CREATE_UDF udf\xycsys ASSEM
				UDF_REF ATTACH ATTACH
				UDF_DIM	DIMX 0
				UDF_DIM	DIMY -HEAD_STOPP-1
				UDF_EXP_REF NoteRef CSYS 0
			END_CREATE_UDF
			GET_DRW_VIEW_REF_POS refView NoteRef pos				
			CALC_FRACTION REDUCE TRUE HS_OFFSET_2 16 offsetfraction
			CREATE_DRW_VIEW_NOTE refView pos.x pos.y  "CONCEALED H/S " + offsetfraction.fraction_string + "\"" HEIGHT .06 HORIZONTAL CENTER		
		END_IF

		IF SURFACE_BOLTS == 1
			BEGIN_CATCH_ERROR
			SEARCH_MDL_REFS RECURSIVE ASSEM CSYS "SURF_BOLT_NOTE" NoteRefs
			IF ERROR
				END_CATCH_ERROR
				CLEAR_CATCH_ERROR
			ELSE
				IF STD_REV == "STD"
					FOR NoteRef REF ARRAY NoteRefs
						GET_DRW_VIEW_REF_POS refView NoteRef pos
						CREATE_DRW_VIEW_NOTE refView pos.x pos.y "SURFACE BOLT REINF PULL SIDE" HEIGHT .06 HORIZONTAL CENTER
					END_FOR
				END_IF
				IF STD_REV == "REV"
					FOR NoteRef REF ARRAY NoteRefs
						GET_DRW_VIEW_REF_POS refView NoteRef pos
						CREATE_DRW_VIEW_NOTE refView pos.x pos.y "SURFACE BOLT REINF PUSH SIDE" HEIGHT .06 HORIZONTAL CENTER
					END_FOR
				END_IF
			END_IF
		END_IF
	END_IF

	
	DECLARE_VARIABLE INTEGER ELEC_HINGE_QTY
	IF SUB_TYPE == "S" AND HINGE_TYPE == "BUTT" AND ELECTRIC_HINGE_POSITION > 0
		HINGE_QTY = HINGE_QTY-1
		ELEC_HINGE_QTY = 1
	ELSE_IF SUB_TYPE == "P" AND ELECTRIC_HINGE_POSITION == 0
		HINGE_QTY = HINGE_QTY+HINGE_QTY
	ELSE_IF SUB_TYPE == "P" AND HINGE_TYPE == "BUTT" AND ELECTRIC_HINGE_POSITION > 0
		IF ELEC_HINGE_DOOR <> 3
			HINGE_QTY = HINGE_QTY+HINGE_QTY-1
			ELEC_HINGE_QTY = 1
		ELSE_IF ELEC_HINGE_DOOR == 3
			HINGE_QTY = HINGE_QTY+HINGE_QTY-2
			ELEC_HINGE_QTY = 2
		END_IF
	ELSE_IF SUB_TYPE == "P" AND HINGE_TYPE == "CONTINUOUS"
		HINGE_QTY = 2		
	END_IF
	
	IF HINGE_TYPE == "BUTT" AND DUST_BOXES == 1 AND ELECTRIC_HINGE_POSITION <= 0
		GENERAL_NOTES = GENERAL_NOTES + "- " + HINGE_DESC+" ("+ itos(HINGE_QTY) +") - WITH DUST BOXES\n"
	ELSE_IF HINGE_TYPE == "BUTT" AND DUST_BOXES == 1 AND ELECTRIC_HINGE_POSITION > 0
		GENERAL_NOTES = GENERAL_NOTES + "- " + HINGE_DESC+" ("+ itos(HINGE_QTY) +") - WITH DUST BOXES\n"
		GENERAL_NOTES = GENERAL_NOTES + "- " + HINGE_DESC+" - ELECTRIC-" + " (" + itos(ELEC_HINGE_QTY) + ") - WITH DUST BOXES\n"
	ELSE_IF HINGE_TYPE == "BUTT" AND DUST_BOXES == 0 AND ELECTRIC_HINGE_POSITION <= 0
		GENERAL_NOTES = GENERAL_NOTES + "- " + HINGE_DESC+" ("+ itos(HINGE_QTY) +")\n"
	ELSE_IF HINGE_TYPE == "BUTT" AND DUST_BOXES == 0 AND ELECTRIC_HINGE_POSITION > 0
		GENERAL_NOTES = GENERAL_NOTES + "- " + HINGE_DESC+" ("+ itos(HINGE_QTY) +")\n"
		GENERAL_NOTES = GENERAL_NOTES + "- " + HINGE_DESC+" - ELECTRIC-" + " (" + itos(ELEC_HINGE_QTY) + ")\n"
	ELSE_IF OPENING_TYPE == 2 AND HINGE_TYPE == "ELIASON"
		GENERAL_NOTES = GENERAL_NOTES + "- " + "REINFORCEMENT FOR A SINGLE ELIASON DOOR \n"
	ELSE_IF HINGE_TYPE == "CONTINUOUS" AND CONTINUOUS_HINGE_REINFORCEMENT == 0 AND INSTAL_HINGE == 0
		GENERAL_NOTES = GENERAL_NOTES + "- " + HINGE_DESC+" ("+ itos(HINGE_QTY) +") - NO REINFORCEMENT\n"
	ELSE_IF HINGE_TYPE == "CONTINUOUS" AND CONTINUOUS_HINGE_REINFORCEMENT == 1 AND INSTAL_HINGE == 0
		GENERAL_NOTES = GENERAL_NOTES + "- " + HINGE_DESC+" ("+ itos(HINGE_QTY) +")\n"
	ELSE_IF HINGE_TYPE == "CONTINUOUS" AND CONTINUOUS_HINGE_REINFORCEMENT == 0 AND INSTAL_HINGE == 1
		GENERAL_NOTES = GENERAL_NOTES + "- " + HINGE_DESC+" ("+ itos(HINGE_QTY) +") - NO REINFORCEMENT  -  FACTORY INSTALLED\n"
	ELSE_IF HINGE_TYPE == "CONTINUOUS" AND CONTINUOUS_HINGE_REINFORCEMENT == 1 AND INSTAL_HINGE == 1
		GENERAL_NOTES = GENERAL_NOTES + "- " + HINGE_DESC+" ("+ itos(HINGE_QTY) +") - FACTORY INSTALLED\n"
	END_IF
			
	IF SUB_TYPE == "P" AND ASTRAGAL == 1
		IF ASTRAGAL_INSTALLED == 0
			GENERAL_NOTES = GENERAL_NOTES + "- 12 GAUGE SS ASTRAGAL - SHIPPED LOOSE\n"
		ELSE_IF ASTRAGAL_INSTALLED == 1
			GENERAL_NOTES = GENERAL_NOTES + "- 12 GAUGE SS ASTRAGAL - SHIPPED INSTALLED\n"			
		END_IF
	END_IF
	
	IF OPENING_TYPE == 1 OR OPENING_TYPE == 3
		IF PRIMARY_LOCK_DESC <> "" AND PRIMARY_LOCK_TRIM_DESC <> ""
			GENERAL_NOTES = GENERAL_NOTES + "- " + PRIMARY_LOCK_DESC + "  X  " + PRIMARY_LOCK_TRIM_DESC + "\n"
		ELSE_IF PRIMARY_LOCK_DESC <> "" AND PRIMARY_LOCK_TRIM_DESC == ""
			GENERAL_NOTES = GENERAL_NOTES + "- " + PRIMARY_LOCK_DESC + "\n"		
		END_IF
		
		IF SUB_TYPE == "P" AND DUMMY_TRIM == 1 AND DUMMY_TRIM_DESC <> ""
			GENERAL_NOTES = GENERAL_NOTES + "- " + DUMMY_TRIM_DESC + "\n"
		END_IF
		
		IF SUB_TYPE == "P" AND UNEQUAL_EXITS == 1 AND LOCK_DESC_X2 <> ""
			GENERAL_NOTES = GENERAL_NOTES + "- " + LOCK_DESC_X2 +  "  X  " + LOCK_TRIM_DESC_X2 + "\n"
		END_IF

		IF DOOR_LITE_TRIM_TYPE == "" AND DOOR_LITE_TRIM_TYPE_2 <> ""
			DOOR_LITE_TRIM_TYPE = DOOR_LITE_TRIM_TYPE_2
		END_IF
				
		IF DOOR_LITE_TRIM_TYPE == "B" OR DOOR_LITE_TRIM_TYPE == "C" OR DOOR_LITE_TRIM_TYPE == "D" OR \
		  DOOR_LITE_TRIM_TYPE == "E" OR DOOR_LITE_TRIM_TYPE == "F" OR DOOR_LITE_TRIM_TYPE == "C"
		  
			DECLARE_VARIABLE STRING GLASS_FRACTION
			DECLARE_VARIABLE STRING POCKET_FRACTION
			DECLARE_VARIABLE DOUBLE GLASS_POCKET_ALLOWANCE
			
			IF DOOR_LITE_TRIM_TYPE == "C"
				GLASS_POCKET_ALLOWANCE = .0625
			ELSE
				GLASS_POCKET_ALLOWANCE = .125
			END_IF
			
			IF GLASS_THICKNESS == .875
				POCKET_FRACTION = "7/8"
				GLASS_FRACTION = "1"
			ELSE_IF GLASS_THICKNESS == 1.0
				POCKET_FRACTION = "1-1/8"
				GLASS_FRACTION = "1"
			END_IF

			IF GLASS_THICKNESS <> .875 AND GLASS_THICKNESS <> 1.0
				TEMPD = 1/DENOMENATOR
				TEMPN = ROUND(((GLASS_THICKNESS+GLASS_POCKET_ALLOWANCE)/TEMPD),0)
				NUMBER = FLOOR(TEMPN / DENOMENATOR)
				TEMPN = TEMPN - (NUMBER*DENOMENATOR)
				TEMPD = DENOMENATOR
				WHILE MOD(TEMPN,2) == 0 AND MOD(TEMPD,2) == 0
					TEMPN = TEMPN/2
					TEMPD = TEMPD/2
				END_WHILE

				IF NUMBER > 0
					POCKET_FRACTION = itos(NUMBER) +" "+ftos(TEMPN,0)+"/"+ftos(TEMPD,0)+"\""
				ELSE
					POCKET_FRACTION = ftos(TEMPN,0)+"/"+ftos(TEMPD,0)+"\""
				END_IF

				TEMPD = 1/DENOMENATOR
				TEMPN = ROUND((GLASS_THICKNESS / TEMPD),0)
				NUMBER = FLOOR(TEMPN / DENOMENATOR)
				TEMPN = TEMPN - (NUMBER*DENOMENATOR)
				TEMPD = DENOMENATOR
				WHILE MOD(TEMPN,2) == 0 AND MOD(TEMPD,2) == 0
					TEMPN = TEMPN/2
					TEMPD = TEMPD/2
				END_WHILE

				IF NUMBER > 0
					GLASS_FRACTION = itos(NUMBER) +" "+ftos(TEMPN,0)+"/"+ftos(TEMPD,0)+"\""
				ELSE
					GLASS_FRACTION = ftos(TEMPN,0)+"/"+ftos(TEMPD,0)+"\""
				END_IF
			END_IF

			DECLARE_VARIABLE STRING LITE_NOTE

			IF DOOR_ELEVATION == "*G*" OR DOOR_ELEVATION == "*N*" OR DOOR_ELEVATION == "*V*" OR \
				DOOR_ELEVATION_2 == "*G*" OR DOOR_ELEVATION_2 == "*N*" OR DOOR_ELEVATION_2 == "*V*"
				
				IF DOOR_LITE_TRIM_TYPE <> "C"
					LITE_NOTE = "- GLAZING - TYPE:  "+DOOR_LITE_TRIM_TYPE+" TRIM WITH "+POCKET_FRACTION+" POCKET FOR "+GLASS_FRACTION+\
					" " + GLASS_TYPE +", ( BY "+GLASS_SUPPLIER+")\n"
				ELSE_IF DOOR_LITE_TRIM_TYPE == "C"
					LITE_NOTE = "- GLAZING - TYPE:  DUAL FLUSH GLAZING WITH "+POCKET_FRACTION+" POCKETS,\n                     FOR "+GLASS_FRACTION+\
					" " + GLASS_TYPE +", ( BY "+GLASS_SUPPLIER+")\n"
				END_IF
			ELSE_IF DOOR_ELEVATION == "M2"
				LITE_NOTE = "- 1/4 THICK STAINLESS STEEL RTP MOUNTING PLATE WITH LITE FRAME AND SHUTTER"+"\n"
			ELSE_IF DOOR_LITE_TRIM_TYPE == "F"
				LITE_NOTE = "- GLAZING - TYPE F  (FULLY WELDED - STANDING SEAM)  FOR "+GLASS_FRACTION+" GLASS BY "+GLASS_SUPPLIER+"\n"
			ELSE_IF DOOR_LITE_TRIM_TYPE == "D"
				LITE_NOTE = "- GLAZING - TYPE:  "+DOOR_LITE_TRIM_TYPE+" TRIM WITH "+POCKET_FRACTION+" POCKET FOR "+GLASS_FRACTION+\
				" GLASS BY "+GLASS_SUPPLIER+ ",  TRIM - REMOVABLE GLAZZING STOPS - INSIDE"+"\n"
			END_IF
	
			IF GLASS_INSTALLER == "SDI"
				GENERAL_NOTES = GENERAL_NOTES + LITE_NOTE + "                   - TRIM:  " + itos(DOOR_LITE_TRIM_GAUGE) + " GA SS WITH "+ VISION_CONSTRUCTION_A + " CORNERS, INSTALLED\n"
			ELSE_IF DOOR_LITE_TRIM_TYPE <> "C" AND VISION_CONSTRUCTION_B == "WELDED"
				GENERAL_NOTES = GENERAL_NOTES + LITE_NOTE + "                   - TRIM:  " + itos(DOOR_LITE_TRIM_GAUGE) + " GA SS WITH "+ VISION_CONSTRUCTION_A + " CORNERS,\n                                 SHIPPED WELDED TO DOOR\n"
			ELSE_IF DOOR_LITE_TRIM_TYPE <> "C" AND VISION_CONSTRUCTION_B == "LOOSE"
				GENERAL_NOTES = GENERAL_NOTES + LITE_NOTE + "                   - TRIM:  " + itos(DOOR_LITE_TRIM_GAUGE) + " GA SS WITH "+ VISION_CONSTRUCTION_A + " CORNERS,\n                                 SHIPPED LOOSELY ASSEMBLED IN DOOR\n"
			ELSE_IF DOOR_LITE_TRIM_TYPE == "C"
				GENERAL_NOTES = GENERAL_NOTES + LITE_NOTE
			END_IF
		END_IF

		IF CORE == 8
				GENERAL_NOTES = GENERAL_NOTES + "- CORE INSULATION -  HONEYCOMB\n"
		END_IF
		
		IF CORE == 2 OR CORE == 7 OR CORE == 9
				! STEEL STIFFENER CORE INSULATION
				!0	"STYRENE"
				!1	"URETHANE"
				!2	"MINERAL WOOL"
				!3	"FIBERGLASS"
				!4	"BULLET"
			IF STEEL_STIFFENER_INSULATION == 0
				GENERAL_NOTES = GENERAL_NOTES + "- CORE INSULATION -  STYRENE\n"
			ELSE_IF STEEL_STIFFENER_INSULATION == 1
				GENERAL_NOTES = GENERAL_NOTES + "- CORE INSULATION -  URETHANE\n"
			ELSE_IF STEEL_STIFFENER_INSULATION == 2
				GENERAL_NOTES = GENERAL_NOTES + "- CORE INSULATION -  MINERAL WOOL\n"
			ELSE_IF STEEL_STIFFENER_INSULATION == 3
				GENERAL_NOTES = GENERAL_NOTES + "- CORE INSULATION -  FIBERGLASS\n"
			ELSE_IF STEEL_STIFFENER_INSULATION == 4
				GENERAL_NOTES = GENERAL_NOTES + "- CORE INSULATION -  BULLET\n"
			END_IF
		END_IF
	END_IF
	
	IF OPENING_TYPE == 2 OR OPENING_TYPE == 3		
		IF HOSPITAL_STOPS == 1
			CALC_FRACTION REDUCE TRUE HOSPITAL_STOPS_HEIGHT 16 heightfraction
			CALC_FRACTION REDUCE TRUE HOSPITAL_STOPS_ANGLE 16 anglefraction
			GENERAL_NOTES = GENERAL_NOTES + "- " + heightfraction.fraction_string + "\" x " + anglefraction.fraction_string + "$" + " HOSPITAL STOPS" +"\n"
		END_IF
			
		IF SILENCERS == 1
			IF SUB_TYPE == "S"
				GENERAL_NOTES = GENERAL_NOTES + "- PREP STRIKE JAMB FOR SILENCERS \n"
			ELSE_IF SUB_TYPE == "P"
				GENERAL_NOTES = GENERAL_NOTES + "- PREP HEAD FOR SILENCERS \n"
			END_IF
		END_IF
	END_IF

	IF HOLDER_STOP == 1 AND HS_TYPE == 2		
		GENERAL_NOTES = GENERAL_NOTES + "- " + HS_DESC + "\n"
	END_IF

	IF HOLDER_STOP == 1 AND HS_TYPE_2 == 2 AND EQUAL_HOLDERS == 0	
		GENERAL_NOTES = GENERAL_NOTES + "- " + HS_DESC_2 + "\n"
	END_IF
	
	IF WELDED_PREPS == 1
		GENERAL_NOTES = GENERAL_NOTES + "- FULLY WELDED PREPS\n"
	END_IF
	
	IF DPS_BLANK == 1
		GENERAL_NOTES = GENERAL_NOTES + "- PROVIDE BLANK COVER FOR DPS\n"
	END_IF
	
	IF EPT_BLANK == 1
		GENERAL_NOTES = GENERAL_NOTES + "- PROVIDE BLANK COVER FOR EPT\n"
	END_IF
	
	IF GENERAL_NOTES <> ""
		CREATE_DRW_NOTE refDrawing 1.625 9.875 "SHEET NOTES:" HEIGHT .12 HORIZONTAL LEFT
		CREATE_DRW_NOTE refDrawing 2.75 9.875 GENERAL_NOTES HEIGHT .09 HORIZONTAL LEFT
	END_IF
	
	IF SUBMITTAL == 1
		CREATE_DRW_NOTE refDrawing 8.5 9.5 "DRAWINGS FOR SUBMITTAL:\n* VERIFY ALL HARDWARE *" HEIGHT .2 HORIZONTAL LEFT
	END_IF
	
	IF APPROVAL == 1
		CREATE_DRW_NOTE refDrawing 8.5 9.5 "DRAWINGS FOR APPROVAL\nVERIFY ALL INFORMATION" HEIGHT .2 HORIZONTAL LEFT	
	END_IF

	IF COMMENTS <> ""
		DECLARE_VARIABLE STRING COMMENT_1
		DECLARE_VARIABLE STRING COMMENT_2
		DECLARE_VARIABLE STRING COMMENT_3
		DECLARE_VARIABLE STRING COMMENT_4
		DECLARE_VARIABLE STRING COMMENT_5
		DECLARE_VARIABLE INTEGER COMINDEX
		COMINDEX = 1
		SPLIT_STRING COMMENTS COMMENT_LINES SPLIT_CHAR "^"
		DECLARE_VARIABLE STRING COMMENTS
		! COMMENTS = ""
		FOR COMMENT_LINE REF ARRAY COMMENT_LINES
			IF COMINDEX == 1
				COMMENT_1 = COMMENT_LINE
			ELSE_IF COMINDEX == 2
				COMMENT_2 = COMMENT_LINE
			ELSE_IF COMINDEX == 3
				COMMENT_3 = COMMENT_LINE
			ELSE_IF COMINDEX == 4
				COMMENT_4 = COMMENT_LINE
			ELSE_IF COMINDEX == 5
				COMMENT_5 = COMMENT_LINE
			END_IF
			COMINDEX++
		END_FOR
	END_IF
	
	DECLARE_VARIABLE STRING TEMPS
	IF COMMENTS <> ""
		IF COMMENT_1 <> ""
			PRINT "%" COMMENT_1
			TEMPS = COMMENT_1 + "\n"
		END_IF
		IF COMMENT_2 <> ""
			PRINT "%" COMMENT_2
			TEMPS = TEMPS + COMMENT_2 + "\n"
		END_IF
		IF COMMENT_3 <> ""
			PRINT "%" COMMENT_3
			TEMPS = TEMPS + COMMENT_3 + "\n"
		END_IF
		IF COMMENT_4 <> ""
			PRINT "%" COMMENT_4
			TEMPS = TEMPS + COMMENT_4 + "\n"
		END_IF
		IF COMMENT_5 <> ""
			PRINT "%" COMMENT_5
			TEMPS = TEMPS + COMMENT_5 + "\n"
		END_IF
		COMMENTS = TEMPS
		PRINT "%" COMMENTS
	END_IF
	
	IF COMMENTS <> ""
		COMMENTS = COMMENTS + "\n"
	END_IF
	
	IF DOOR_LABEL_CONSTRUCTION == 1
		COMMENTS = COMMENTS + "DOOR LABEL CONSTRUCTION\n"
	END_IF
	
	IF LEAD_LINED == 1
		COMMENTS = COMMENTS + "- LEAD LINED - 1/16\"\n"
	ELSE_IF LEAD_LINED == 2
		COMMENTS = COMMENTS + "- LEAD LINED - 1/8\"\n"
	ELSE_IF LEAD_LINED == 3
		COMMENTS = COMMENTS + "- LEAD LINED - 1/4\"\n"
	END_IF
	
	IF VERIFY_LOCK == 1 
		COMMENTS = COMMENTS + "- VERIFY LOCK AND FUNCTIONS\n"
	END_IF
	
	IF CHOICE == 5 AND OPENING_TYPE == 1 AND (VERIFY_LOCK == 1 OR CHECK_LOCK == 1)
		COMMENTS = COMMENTS + "- VERIFY LOCK AND FUNCTIONS\n"
	END_IF
	
	IF REMOVABLE_SIDE == 1
		IF STD_REV == "STD" 
			COMMENTS = COMMENTS + "- TRIM SCREWS ON PUSH SIDE\n"
		ELSE_IF STD_REV == "REV" 
			COMMENTS = COMMENTS + "- TRIM SCREWS ON PULL SIDE\n"
		END_IF
	END_IF
	
	IF COMMENTS <> ""
		CREATE_DRW_NOTE refDrawing 7.0 9.875 "NOTE: " HEIGHT .15 HORIZONTAL LEFT		
		CREATE_DRW_NOTE refDrawing 7.625 9.875 COMMENTS HEIGHT .15 HORIZONTAL LEFT		
	END_IF
	
!END GENERAL NOTES

	SEARCH_MDL_REFS RECURSIVE refDrawing DRAWING_NOTE "*" SCALES
	FOR REMOVE_NOTE REF ARRAY SCALES
			GET_DRW_NOTE_TEXT REMOVE_NOTE REM_TEXT
		IF strleft(REM_TEXT,4) == SCAL
			DELETE_NOTE REMOVE_NOTE
		END_IF
	END_FOR

	IF CHOICE == 1 OR CHOICE == 2 OR CHOICE == 8 OR CHOICE == 9
		SET_LAYER_STATUS RECURSIVE ASSEM "COMPONENTS" BLANK
		SET_LAYER_STATUS RECURSIVE ASSEM "TEMPLATES" DISPLAY

		GET_DRW_VIEW_POS NULL refView x y
		MOVE_DRW_VIEW NULL refView x+.01 y+.01
		
		EXCEL_ACTIVATE_SHEET SHEET_BY_NAME "OPENING"
		EXCEL_SET_VALUE 3 EXCEL_COLUMN "DRAWN"		
		
		SET_CONFIG_OPTION "system_colors_file" "C:\SIGMAXIM\Library\component_engine\SDI\sa.scl"

		REGEN_MDL RefDrawing
				
		REGEN_MDL RefDrawing

		DECLARE_STRUCT PDF_OPTION option
		option.title = "sample drawing"
		option.author = "DRAFTER"
		option.subject = "detail"
		option.keywords = "SmartAssembly example"
		option.launch_viewer = "FALSE"
		option.color_depth = "gray"
		option.layer_mode = "None"
		option.use_pentable = "TRUE"
		option.hiddenline_mode = "SOLID"
		option.linecap = "PROJECTING_SQUARE"
		option.pentable_file = "C:\pro_stds\ProStandards\emjac_table.pnt"
		
		SET_WORKING_DIRECTORY "C:\000_SDI\\"
		SET_WORKING_DIRECTORY PROJECT_DIRECTORY+"\\Customer Drawings"
		GET_REF_NAME RefDrawing NAME
		EXPORT_DRW_PDF RefDrawing option NAME
		SET_CONFIG_OPTION "system_colors_file" "C:\SIGMAXIM\Library\component_engine\SDI\initial.scl"
		SET_WORKING_DIRECTORY "C:\000_SDI\\"
		SET_WORKING_DIRECTORY PROJECT_DIRECTORY
		EXCEL_SAVE_DOCUMENT SO_NUM
	END_IF
	
	SET_CONFIG_OPTION "create_fraction_dim" "no"
END_ASM_DESCR
