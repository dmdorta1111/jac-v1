BEGIN_GUI_DESCR
	
USER_INPUT_PARAM INTEGER KICK_PLATE_GAUGE
USER_INPUT_PARAM DOUBLE KICK_PLATE_WIDTH

	IF KICK_PLATE_SIDE == 0 OR KICK_PLATE_SIDE == 2
		USER_INPUT_PARAM DOUBLE KICK_PLATE_HEIGHT_PUSH
	END_IF

	IF KICK_PLATE_SIDE == 1 OR KICK_PLATE_SIDE == 2
		USER_INPUT_PARAM DOUBLE KICK_PLATE_HEIGHT_PULL
	END_IF

	IF KICK_PLATE_WIDTH == 99
		KICK_PLATE_WIDTH = DOOR_WIDTH - 2
	END_IF

RADIOBUTTON_PARAM INTEGER KICK_PLATE_SIDE "PUSH SIDE" "PULL SIDE" "BOTH SIDES"

END_GUI_DESCR

BEGIN_ASM_DESCR

	IF OPERATION == 0

		DECLARE_VARIABLE 	INTEGER	OPERATION
		DECLARE_VARIABLE DOUBLE KICK_PLATE_GAUGE
		DECLARE_VARIABLE DOUBLE KICK_PLATE_HEIGHT_PULL
		DECLARE_VARIABLE DOUBLE KICK_PLATE_HEIGHT_PUSH
		DECLARE_VARIABLE DOUBLE KICK_PLATE_WIDTH
		DECLARE_VARIABLE INTEGER KICK_PLATE_SIDE
		
				
		! CONFIG_ELEM
				
	END_IF

	IF OPERATION == 1
		IF KICK_PLATE_SIDE == 0 OR KICK_PLATE_SIDE == 2
			SEARCH_MDL_REF RECURSIVE DOOR_ASM CSYS "ATTACH_COVER" ATTACH
			SEARCH_MDL_REF COVER SURFACE "FIXED" FIXED

			RETRIEVE_MDL KICK_PLATE.PRT COMP							
			SEARCH_MDL_REF COMP CSYS "PLACEMENT" PLACEMENT
				ASSEMBLE COMP DOOR_ASM
					 CSYS ATTACH PLACEMENT
				END_ASSEMBLE
			
				SET_MDL_PARAM COMP "STOCKTYPE" 1
				SET_MDL_PARAM COMP "EMJACNUM" ""
				
				IF KICK_PLATE_GAUGE == 18
					SET_MDL_PARAM COMP "SMT_THICKNESS" .05
				ELSE_IF KICK_PLATE_GAUGE == 16
					SET_MDL_PARAM COMP "SMT_THICKNESS" .06
				ELSE_IF KICK_PLATE_GAUGE == 14
					SET_MDL_PARAM COMP "SMT_THICKNESS" .075
				END_IF
											
				SET_MDL_PARAM COMP "d41" KICK_PLATE_WIDTH
				SET_MDL_PARAM COMP "d40" KICK_PLATE_HEIGHT_PUSH
				SET_MDL_PARAM COMP "GRADE" DOOR_GRADE
				SET_MDL_PARAM COMP "FINISH"	COVER_SIDE_FINISH
				
				CALL_EX instantiate.tab
					VAR_IN	COMP	COMP
				END_CALL_EX
				
				SEARCH_MDL_REF COMP AXIS "AXIS_A" HOLE_AXIS
				CREATE_UDF udf\astragal_hole COVER ASTRAGAL_HOLE
					UDF_REF SURF FIXED
					UDF_REF AX HOLE_AXIS
					UDF_INTERSECTION * PART_LEVEL		
					UDF_EXP_REF HOLE FEATURE 0
				END_CREATE_UDF
				
				UNGROUP_FEATURES ASTRAGAL_HOLE
				CREATE_REF_PATTERN  HOLE

				SEARCH_MDL_REF COMP AXIS "AXIS_B" HOLE_AXIS
				CREATE_UDF udf\astragal_hole COVER ASTRAGAL_HOLE
					UDF_REF SURF FIXED
					UDF_REF AX HOLE_AXIS
					UDF_INTERSECTION * PART_LEVEL		
					UDF_EXP_REF HOLE FEATURE 0
				END_CREATE_UDF
				
				UNGROUP_FEATURES ASTRAGAL_HOLE
				CREATE_REF_PATTERN  HOLE

				SEARCH_MDL_REF COMP AXIS "AXIS_C" HOLE_AXIS
				CREATE_UDF udf\astragal_hole COVER ASTRAGAL_HOLE
					UDF_REF SURF FIXED
					UDF_REF AX HOLE_AXIS
					UDF_INTERSECTION * PART_LEVEL		
					UDF_EXP_REF HOLE FEATURE 0
				END_CREATE_UDF
				
				UNGROUP_FEATURES ASTRAGAL_HOLE
				CREATE_REF_PATTERN  HOLE

				SEARCH_MDL_REF COMP AXIS "AXIS_D" HOLE_AXIS
				CREATE_UDF udf\astragal_hole COVER ASTRAGAL_HOLE
					UDF_REF SURF FIXED
					UDF_REF AX HOLE_AXIS
					UDF_INTERSECTION * PART_LEVEL		
					UDF_EXP_REF HOLE FEATURE 0
				END_CREATE_UDF
				
				UNGROUP_FEATURES ASTRAGAL_HOLE
				CREATE_REF_PATTERN  HOLE
		END_IF
		IF KICK_PLATE_SIDE == 1 OR KICK_PLATE_SIDE == 2
			SEARCH_MDL_REF RECURSIVE DOOR_ASM CSYS "ATTACH_BODY" ATTACH
			SEARCH_MDL_REF BODY SURFACE "FIXED" FIXED

			RETRIEVE_MDL KICK_PLATE.PRT COMP							
			SEARCH_MDL_REF COMP CSYS "PLACEMENT" PLACEMENT
				ASSEMBLE COMP DOOR_ASM
					 CSYS ATTACH PLACEMENT
				END_ASSEMBLE
			
				SET_MDL_PARAM COMP "STOCKTYPE" 1
				SET_MDL_PARAM COMP "EMJACNUM" ""
				
				IF KICK_PLATE_GAUGE == 18
					SET_MDL_PARAM COMP "SMT_THICKNESS" .05
				ELSE_IF KICK_PLATE_GAUGE == 16
					SET_MDL_PARAM COMP "SMT_THICKNESS" .06
				ELSE_IF KICK_PLATE_GAUGE == 14
					SET_MDL_PARAM COMP "SMT_THICKNESS" .075
				END_IF
											
				SET_MDL_PARAM COMP "d41" KICK_PLATE_WIDTH
				SET_MDL_PARAM COMP "d40" KICK_PLATE_HEIGHT_PULL
				SET_MDL_PARAM COMP "GRADE" DOOR_GRADE
				SET_MDL_PARAM COMP "FINISH"	BODY_SIDE_FINISH
				
				CALL_EX instantiate.tab
					VAR_IN	COMP	COMP
				END_CALL_EX
				
				SEARCH_MDL_REF COMP AXIS "AXIS_A" HOLE_AXIS
				CREATE_UDF udf\astragal_hole BODY ASTRAGAL_HOLE
					UDF_REF SURF FIXED
					UDF_REF AX HOLE_AXIS
					UDF_INTERSECTION * PART_LEVEL		
					UDF_EXP_REF HOLE FEATURE 0
				END_CREATE_UDF
				
				UNGROUP_FEATURES ASTRAGAL_HOLE
				CREATE_REF_PATTERN  HOLE

				SEARCH_MDL_REF COMP AXIS "AXIS_B" HOLE_AXIS
				CREATE_UDF udf\astragal_hole BODY ASTRAGAL_HOLE
					UDF_REF SURF FIXED
					UDF_REF AX HOLE_AXIS
					UDF_INTERSECTION * PART_LEVEL		
					UDF_EXP_REF HOLE FEATURE 0
				END_CREATE_UDF
				
				UNGROUP_FEATURES ASTRAGAL_HOLE
				CREATE_REF_PATTERN  HOLE

				SEARCH_MDL_REF COMP AXIS "AXIS_C" HOLE_AXIS
				CREATE_UDF udf\astragal_hole BODY ASTRAGAL_HOLE
					UDF_REF SURF FIXED
					UDF_REF AX HOLE_AXIS
					UDF_INTERSECTION * PART_LEVEL		
					UDF_EXP_REF HOLE FEATURE 0
				END_CREATE_UDF
				
				UNGROUP_FEATURES ASTRAGAL_HOLE
				CREATE_REF_PATTERN  HOLE

				SEARCH_MDL_REF COMP AXIS "AXIS_D" HOLE_AXIS
				CREATE_UDF udf\astragal_hole BODY ASTRAGAL_HOLE
					UDF_REF SURF FIXED
					UDF_REF AX HOLE_AXIS
					UDF_INTERSECTION * PART_LEVEL		
					UDF_EXP_REF HOLE FEATURE 0
				END_CREATE_UDF
				
				UNGROUP_FEATURES ASTRAGAL_HOLE
				CREATE_REF_PATTERN  HOLE
		END_IF
	END_IF
	
END_ASM_DESCR


