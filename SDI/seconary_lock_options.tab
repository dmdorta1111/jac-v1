BEGIN_GUI_DESCR

	SHOW_PARAM	STRING		ITEM_NUM
	SHOW_PARAM	STRING		SUB_TYPE
	SHOW_PARAM	INTEGER		OPENING_TYPE
	SHOW_PARAM	STRING		DOOR_ITEM_DESC
	SHOW_PARAM	STRING		FRAME_ITEM_DESC

	USER_INPUT_PARAM DOUBLE STRIKE_CENTER

	IF LOCK == 1
		RADIOBUTTON_PARAM INTEGER LOCK_TYPE "NONE" "CYLINDER" "MORTISE" "EXIT DEVICE" "HOSPITAL LATCH" "ROLLER" "OTHER"
	END_IF

	
	! IF STRIKE == 1
		! RADIOBUTTON_PARAM INTEGER STRIKE_TYPE "NONE" "ASA 2-3/4" "ASA 4-7/8" "DB 2-3/4" "DB 3-1/2" "DB 4-7/8" "ELECTRIC" "OTHER"
		! ! USER_INPUT_PARAM DOUBLE PRIMARY_STRIKE_CENTER
	! END_IF

END_GUI_DESCR

BEGIN_ASM_DESCR

DECLARE_VARIABLE STRING LOCK_TAB ""


DECLARE_VARIABLE	INTEGER		OPERATION
DECLARE_VARIABLE	STRING		ITEM_NUM
DECLARE_VARIABLE	STRING		SUB_TYPE
DECLARE_VARIABLE	INTEGER		OPENING_TYPE
DECLARE_VARIABLE	STRING		DOOR_ITEM_DESC
DECLARE_VARIABLE	STRING		FRAME_ITEM_DESC

DECLARE_VARIABLE	INTEGER		LOCK
DECLARE_VARIABLE	DOUBLE		LOCK_ARMOR_HEIGHT
DECLARE_VARIABLE	DOUBLE		LOCK_ARMOR_THICKNESS
DECLARE_VARIABLE	DOUBLE		LOCK_ARMOR_WIDTH
DECLARE_VARIABLE	DOUBLE		LOCK_BACKSET
DECLARE_VARIABLE	STRING		LOCK_DESC
DECLARE_VARIABLE	STRING		LOCK_FUNCTION
DECLARE_VARIABLE	STRING		LOCK_INST
DECLARE_VARIABLE	STRING		LOCK_MANUFACTURER
DECLARE_VARIABLE	DOUBLE		LOCK_OFFSET
DECLARE_VARIABLE	STRING		LOCK_REINFORCEMENT
DECLARE_VARIABLE	STRING		LOCK_SERIES_MODEL
DECLARE_VARIABLE	STRING		LOCK_TRIM
DECLARE_VARIABLE	STRING		LOCK_TRIM_INST
DECLARE_VARIABLE	DOUBLE		LOCK_TRIM_OFFSET
DECLARE_VARIABLE	STRING		LOCK_TRIM_UDF
DECLARE_VARIABLE	INTEGER		LOCK_TYPE
DECLARE_VARIABLE	STRING		LOCK_UDF
DECLARE_VARIABLE	INTEGER		STRIKE
DECLARE_VARIABLE	DOUBLE		STRIKE_CENTER
DECLARE_VARIABLE	STRING		STRIKE_DESC
DECLARE_VARIABLE	DOUBLE		STRIKE_HEIGHT
DECLARE_VARIABLE	DOUBLE		STRIKE_LIP_HEIGHT
DECLARE_VARIABLE	DOUBLE		STRIKE_LIP_THICKNESS
DECLARE_VARIABLE	INTEGER		STRIKE_TYPE
DECLARE_VARIABLE	STRING		STRIKE_UDF
DECLARE_VARIABLE	DOUBLE		STRIKE_WIDTH


IF OPERATION == 0
	! CONFIG_ELEM
END_IF

	IF LOCK == 1
		IF LOCK_TYPE == 1
			LOCK_TAB = cylinder_lock.tab
		ELSE_IF LOCK_TYPE == 2
			LOCK_TAB = mortise_lock.tab
		ELSE_IF LOCK_TYPE == 3
			LOCK_TAB = exit_device.tab
		ELSE_IF LOCK_TYPE == 4
			LOCK_TAB = hospital_latch.tab
		ELSE_IF LOCK_TYPE == 5
			LOCK_TAB = roller_latch.tab
		ELSE_IF LOCK_TYPE == 6
			LOCK_TAB = roller_latch.tab
		END_IF

		CALL_EX LOCK_TAB
			VAR_IN		OPERATION					OPERATION
			VAR_IN		ITEM_NUM						ITEM_NUM
			VAR_IN		SUB_TYPE					SUB_TYPE
			VAR_IN		OPENING_TYPE					OPENING_TYPE
			VAR_IN		DOOR_ITEM_DESC				DOOR_ITEM_DESC
			VAR_IN		FRAME_ITEM_DESC				FRAME_ITEM_DESC
			
			VAR_INOUT	STRIKE					STRIKE				
			VAR_INOUT	STRIKE_CENTER			STRIKE_CENTER		
						   
			VAR_INOUT	LOCK					LOCK					
			VAR_INOUT	LOCK_ARMOR_HEIGHT		LOCK_ARMOR_HEIGHT	
			VAR_INOUT	LOCK_ARMOR_THICKNESS	LOCK_ARMOR_THICKNESS	
			VAR_INOUT	LOCK_ARMOR_WIDTH		LOCK_ARMOR_WIDTH		
			VAR_INOUT	LOCK_BACKSET			LOCK_BACKSET			
			VAR_INOUT	LOCK_DESC				LOCK_DESC			
			VAR_INOUT	LOCK_FUNCTION			LOCK_FUNCTION		
			VAR_INOUT	LOCK_INST				LOCK_INST			
			VAR_INOUT	LOCK_MANUFACTURER		LOCK_MANUFACTURER	
			VAR_INOUT	LOCK_OFFSET				LOCK_OFFSET			
			VAR_INOUT	LOCK_REINFORCEMENT		LOCK_REINFORCEMENT	
			VAR_INOUT	LOCK_SERIES_MODEL		LOCK_SERIES_MODEL	
			VAR_INOUT	LOCK_TRIM				LOCK_TRIM			
			VAR_INOUT	LOCK_TRIM_INST			LOCK_TRIM_INST		
			VAR_INOUT	LOCK_TRIM_OFFSET			LOCK_TRIM_OFFSET		
			VAR_INOUT	LOCK_TRIM_UDF			LOCK_TRIM_UDF		
			VAR_INOUT	LOCK_TYPE				LOCK_TYPE			
			VAR_INOUT	LOCK_UDF				LOCK_UDF
		END_CALL_EX
	END_IF
	
	IF STRIKE == 1
		CALL_EX strikes.tab
			VAR_IN		OPERATION					OPERATION
			VAR_IN		ITEM_NUM						ITEM_NUM
			VAR_IN		SUB_TYPE					SUB_TYPE
			VAR_IN		OPENING_TYPE					OPENING_TYPE
			VAR_IN		DOOR_ITEM_DESC				DOOR_ITEM_DESC
			VAR_IN		FRAME_ITEM_DESC				FRAME_ITEM_DESC
			
			VAR_INOUT	STRIKE					STRIKE				
			VAR_INOUT	STRIKE_CENTER			STRIKE_CENTER		
			VAR_INOUT	STRIKE_DESC				STRIKE_DESC			
			VAR_INOUT	STRIKE_HEIGHT			STRIKE_HEIGHT			
			VAR_INOUT	STRIKE_LIP_HEIGHT			STRIKE_LIP_HEIGHT		
			VAR_INOUT	STRIKE_LIP_THICKNESS		STRIKE_LIP_THICKNESS	
			VAR_INOUT	STRIKE_TYPE				STRIKE_TYPE			
			VAR_INOUT	STRIKE_UDF				STRIKE_UDF			
			VAR_INOUT	STRIKE_WIDTH				STRIKE_WIDTH				
		END_CALL_EX
	END_IF
END_ASM_DESCR
