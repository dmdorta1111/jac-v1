
BEGIN_GUI_DESCR

IF FRAME_ELEVATION == 3 AND SECTION == 20
	GLOBAL_PICTURE frame_3_2.GIF
ELSE
	GLOBAL_PICTURE lite_elevations.gif
END_IF

SHOW_PARAM STRING ITEM_NUM
SHOW_PARAM DOUBLE	STOPP
SHOW_PARAM DOUBLE	RABBET
SHOW_PARAM DOUBLE	XRABBET
SHOW_PARAM DOUBLE	RETURN
SHOW_PARAM DOUBLE	XRETURN
SHOW_PARAM DOUBLE	XFACEE
SHOW_PARAM DOUBLE	XHEAD
SHOW_PARAM DOUBLE	HEAD_STOPP
SHOW_PARAM STRING HEAD_GRAIN
SHOW_PARAM DOUBLE	SILL_STOPP
SHOW_PARAM DOUBLE	JD
SHOW_PARAM DOUBLE	SOFFIT
SHOW_PARAM DOUBLE	THROAT

USER_INPUT_PARAM INTEGER FRAME_ELEVATION REQUIRED
USER_INPUT_PARAM INTEGER SECTION REQUIRED
USER_INPUT_PARAM DOUBLE JD REQUIRED
USER_INPUT_PARAM INTEGER FRAME_GAUGE REQUIRED
USER_INPUT_PARAM STRING  FRAME_GRADE
USER_INPUT_PARAM STRING  FRAME_FINISH
USER_INPUT_PARAM DOUBLE STOPP
USER_INPUT_PARAM DOUBLE RABBET
USER_INPUT_PARAM DOUBLE XRABBET
USER_INPUT_PARAM DOUBLE RETURN
USER_INPUT_PARAM DOUBLE XRETURN
USER_INPUT_PARAM DOUBLE FACEE
USER_INPUT_PARAM DOUBLE XFACEE
USER_INPUT_PARAM DOUBLE HEAD
USER_INPUT_PARAM DOUBLE XHEAD
USER_INPUT_PARAM DOUBLE HEAD_STOPP
USER_INPUT_PARAM DOUBLE SILL
USER_INPUT_PARAM DOUBLE XSILL
USER_INPUT_PARAM DOUBLE SILL_STOPP


RADIOBUTTON_PARAM INTEGER CONSTRUCTION_  "FACE WELD" "FULLY WELDED" "KNOCK DOWN"
RADIOBUTTON_PARAM INTEGER DW_RTRN_ NO IN OUT
RADIOBUTTON_PARAM INTEGER XDW_RTRN_ NO IN OUT
RADIOBUTTON_PARAM INTEGER HEAD_GRAIN_ "HORIZONTAL" "VERTICAL"


IF CONSTRUCTION_ == 0
	FRAME_CONSTRUCTION = "FACE WELDED" 
ELSE_IF CONSTRUCTION_ == 1
	FRAME_CONSTRUCTION = "FULLY WELDED"
ELSE_IF CONSTRUCTION_ == 2
	FRAME_CONSTRUCTION = "KNOCK DOWN"
END_IF

IF DW_RTRN_ == 0
	DW_RTRN = "NO"
ELSE_IF DW_RTRN_ == 1
	DW_RTRN = "IN"
ELSE_IF DW_RTRN_ == 2
	DW_RTRN = "OUT"
END_IF

IF XDW_RTRN_ == 0
	XDW_RTRN = "NO"
ELSE_IF XDW_RTRN_ == 1
	XDW_RTRN = "IN"
ELSE_IF XDW_RTRN_ == 2
	XDW_RTRN = "OUT"
END_IF

IF HEAD_GRAIN_ == 0
	HEAD_GRAIN = "HORIZONTAL"
ELSE_IF HEAD_GRAIN_ == 1
	HEAD_GRAIN = "VERTICAL"
END_IF

THROAT = (JD-RETURN-XRETURN)

IF SECTION == 0
	SOFFIT = JD
ELSE_IF SECTION == 1
	SOFFIT = JD - RABBET
ELSE_IF SECTION == 2
	SOFFIT = JD - RABBET - XRABBET
END_IF 
	
END_GUI_DESCR

BEGIN_ASM_DESCR


DECLARE_VARIABLE	INTEGER	FRAME_ELEVATION
DECLARE_VARIABLE	DOUBLE	FACEE
DECLARE_VARIABLE	DOUBLE	HEAD
DECLARE_VARIABLE	DOUBLE	MINIMUM_SOFFIT
DECLARE_VARIABLE 	STRING 	ITEM_NUM
DECLARE_VARIABLE	INTEGER	SECTION
DECLARE_VARIABLE	DOUBLE	STOPP
DECLARE_VARIABLE	DOUBLE	RABBET
DECLARE_VARIABLE	DOUBLE	XRABBET
DECLARE_VARIABLE	DOUBLE	RETURN
DECLARE_VARIABLE	DOUBLE	XRETURN
DECLARE_VARIABLE	DOUBLE	DW_RTRN
DECLARE_VARIABLE	DOUBLE	XDW_RTRN	
DECLARE_VARIABLE	DOUBLE	XFACEE
DECLARE_VARIABLE	DOUBLE	XHEAD
DECLARE_VARIABLE	DOUBLE	HEAD_STOPP	
DECLARE_VARIABLE 	STRING 	HEAD_GRAIN	
DECLARE_VARIABLE	DOUBLE	JD
DECLARE_VARIABLE	DOUBLE	THROAT
DECLARE_VARIABLE	DOUBLE	SOFFIT
DECLARE_VARIABLE 	STRING 	HOSPITAL_STOPS
DECLARE_VARIABLE	INTEGER	FRAME_GAUGE
DECLARE_VARIABLE 	STRING 	FRAME_GRADE
DECLARE_VARIABLE 	STRING 	FRAME_FINISH
DECLARE_VARIABLE 	STRING 	FRAME_CONSTRUCTION
DECLARE_VARIABLE 	DOUBLE SILL
DECLARE_VARIABLE 	DOUBLE XSILL
DECLARE_VARIABLE 	DOUBLE SILL_STOPP


DECLARE_VARIABLE INTEGER DW_RTRN_
DECLARE_VARIABLE INTEGER XDW_RTRN_
DECLARE_VARIABLE INTEGER CONSTRUCTION_
DECLARE_VARIABLE INTEGER HEAD_GRAIN_

IF SECTION == 1
	XFACEE = FACEE + STOPP
	XHEAD = HEAD + HEAD_STOPP
END_IF

!PROCESS FRAME INFORMATION

	IF XFACEE == "" OR XFACE == 0
		XFACEE = FACEE
	END_IF
	IF XHEAD == "" OR XHEAD == 0
		XHEAD = HEAD
	END_IF
	IF HEAD_STOPP == "" OR HEAD_STOPP == 0
		HEAD_STOPP = STOPP
	END_IF

	IF XSILL == "" OR XSILL == 0
		XSILL = SILL
	END_IF
	IF SILL_STOPP == "" OR SILL_STOPP == 0
		SILL_STOPP = STOPP
	END_IF
	
	
	IF SECTION == 2 AND SOFFIT < MINIMUM_SOFFIT
			MESSAGE_BOX "PLEASE ADJUST THE XRABBET BEFORE PROCEEDING"
	END_IF

	!BEGIN VERIFY FRAME STANDARDS

	WHILE SECTION == 2 AND SOFFIT < MINIMUM_SOFFIT
		MESSAGE_BOX "THERE IS A PROBLEM WITH THE CONFIGURATION"
		PRINT "PLEASE VERIFY THE AND RE-ENTER THE SECTION #"
		USER_INPUT_PARAM INTEGER SECTION
		PRINT "PLEASE VERIFY THE AND RE-ENTER THE XRABBET"
		USER_INPUT_PARAM DOUBLE XRABBET
		PRINT "PLEASE VERIFY THE AND RE-ENTER THE MINIMUM SOFFIT SIZE"
		USER_INPUT_PARAM DOUBLE MINIMUM_SOFFIT		
	END_WHILE	

	IF FR_GAUGE == 12
		IF RETURN < .625 OR XRETURN < .625 OR STOPP < .75 OR HEAD_STOPP < .75 OR SILL_STOPP < .75
			DECLARE_ARRAY arrayButtons
			ADD_ARRAY_ELEM arrayButtons "CONTIUNE"
			ADD_ARRAY_ELEM arrayButtons "ADJUST JD"
			ADD_ARRAY_ELEM arrayButtons "ADJUST THROAT"
			ADD_ARRAY_ELEM arrayButtons "EXIT"
	  MESSAGE_BOX_EX QUESTION "12 GAUGE RETURNS OR STOPS ARE TOO SMALL" "WHAT DO YOU WANT TO DO?" arrayButtons CHOICE
			IF CHOICE == 0 OR CHOICE == 4
				EXIT
			END_IF
			IF CHOICE == 2 OR CHOICE == 3
				IF RETURN < .625
					RETURN = .625
				END_IF
				IF XRETURN < .625
					XRETURN = .625
				END_IF
				IF STOPP < .75
					STOPP = .75
				END_IF
				IF HEAD_STOPP < .75
					HEAD_STOPP = .75
				END_IF
				IF CHOICE == 2
					JD = THROAT+RETURN+XRETURN
				END_IF
				IF CHOICE == 3
					THROAT = JD-RETURN-XRETURN
				END_IF
			END_IF
		END_IF
	END_IF

	IF SECTION == 2
		IF JD-RABBET-XRABBET<MINIMUM_SOFFIT
			DECLARE_ARRAY arrayButtons
			ADD_ARRAY_ELEM arrayButtons "CONTIUNE"
			ADD_ARRAY_ELEM arrayButtons "ADJUST JD"
			ADD_ARRAY_ELEM arrayButtons "ADJUST XRABBET"
			ADD_ARRAY_ELEM arrayButtons "MAKE SINGLE RABBET"
			ADD_ARRAY_ELEM arrayButtons "EXIT"
		MESSAGE_BOX_EX QUESTION "THE SOFFIT IS TOO SMALL" "WHAT DO YOU WANT TO DO?" arrayButtons CHOICE
			IF CHOICE == 0 OR CHOICE == 5
				EXIT
			END_IF
			IF CHOICE == 2
				JD = RABBET + XRABBET + MIINIMUM_SOFFIT
			END_IF
			IF CHOICE == 3
				XRABBET = JD-MINIMUM_SOFFIT
			END_IF
			IF CHOICE == 4
				SECTION = 1
			END_IF
		END_IF
	END_IF
!END VERIFY FRAME STANDARDS

	IF DW_RTRN == "NO"
		DW_RTRN_ = 0
	ELSE_IF DW_RTRN == "IN" 
		DW_RTRN_ = 1
	ELSE_IF DW_RTRN == "OUT"
		DW_RTRN_ = 2
	END_IF

	IF XDW_RTRN == "NO"
		XDW_RTRN_ = 0
	ELSE_IF XDW_RTRN == "IN"
		XDW_RTRN_ = 1
	ELSE_IF XDW_RTRN == "OUT"
		XDW_RTRN_ = 2
	END_IF

	IF FRAME_CONSTRUCTION == "FACE WELDED" 
		CONSTRUCTION_ = 0
	ELSE_IF FRAME_CONSTRUCTION == "FULLY WELDED"
		CONSTRUCTION_ = 1
	ELSE_IF FRAME_CONSTRUCTION == "KNOCK DOWN"
		CONSTRUCTION_ = 2
	END_IF
	
	IF HEAD_GRAIN == "HORIZONTAL"
		HEAD_GRAIN_ = 0
	ELSE_IF HEAD_GRAIN == "VERTICAL"
		HEAD_GRAIN_ = 1
	END_IF
	
	! CONFIG_ELEM		1200	1200
	
!PROCESS FRAME INFORMATION

	IF SECTION == 2 AND SOFFIT < MINIMUM_SOFFIT
			MESSAGE_BOX "PLEASE ADJUST THE XRABBET BEFORE PROCEEDING"
	END_IF

	!BEGIN VERIFY FRAME STANDARDS

	WHILE SECTION == 2 AND SOFFIT < MINIMUM_SOFFIT
		MESSAGE_BOX "THERE IS A PROBLEM WITH THE CONFIGURATION"
		PRINT "PLEASE VERIFY THE AND RE-ENTER THE SECTION #"
		USER_INPUT_PARAM INTEGER SECTION
		PRINT "PLEASE VERIFY THE AND RE-ENTER THE XRABBET"
		USER_INPUT_PARAM DOUBLE XRABBET
		PRINT "PLEASE VERIFY THE AND RE-ENTER THE MINIMUM SOFFIT SIZE"
		USER_INPUT_PARAM DOUBLE MINIMUM_SOFFIT		
	END_WHILE	

	IF FR_GAUGE == 12
		IF RETURN < .625 OR XRETURN < .625 OR STOPP < .75 OR HEAD_STOPP < .75 OR SILL_STOPP < .75
			DECLARE_ARRAY arrayButtons
			ADD_ARRAY_ELEM arrayButtons "CONTIUNE"
			ADD_ARRAY_ELEM arrayButtons "ADJUST JD"
			ADD_ARRAY_ELEM arrayButtons "ADJUST THROAT"
			ADD_ARRAY_ELEM arrayButtons "EXIT"
	  MESSAGE_BOX_EX QUESTION "12 GAUGE RETURNS OR STOPS ARE TOO SMALL" "WHAT DO YOU WANT TO DO?" arrayButtons CHOICE
			IF CHOICE == 0 OR CHOICE == 4
				EXIT
			END_IF
			IF CHOICE == 2 OR CHOICE == 3
				IF RETURN < .625
					RETURN = .625
				END_IF
				IF XRETURN < .625
					XRETURN = .625
				END_IF
				IF STOPP < .75
					STOPP = .75
				END_IF
				IF HEAD_STOPP < .75
					HEAD_STOPP = .75
				END_IF
				IF CHOICE == 2
					JD = THROAT+RETURN+XRETURN
				END_IF
				IF CHOICE == 3
					THROAT = JD-RETURN-XRETURN
				END_IF
			END_IF
		END_IF
	END_IF

	IF SECTION == 2
		IF JD-RABBET-XRABBET<MINIMUM_SOFFIT
			DECLARE_ARRAY arrayButtons
			ADD_ARRAY_ELEM arrayButtons "CONTIUNE"
			ADD_ARRAY_ELEM arrayButtons "ADJUST JD"
			ADD_ARRAY_ELEM arrayButtons "ADJUST XRABBET"
			ADD_ARRAY_ELEM arrayButtons "MAKE SINGLE RABBET"
			ADD_ARRAY_ELEM arrayButtons "EXIT"
		MESSAGE_BOX_EX QUESTION "THE SOFFIT IS TOO SMALL" "WHAT DO YOU WANT TO DO?" arrayButtons CHOICE
			IF CHOICE == 0 OR CHOICE == 5
				EXIT
			END_IF
			IF CHOICE == 2
				JD = RABBET + XRABBET + MIINIMUM_SOFFIT
			END_IF
			IF CHOICE == 3
				XRABBET = JD-MINIMUM_SOFFIT
			END_IF
			IF CHOICE == 4
				SECTION = 1
			END_IF
		END_IF
	END_IF
!END VERIFY FRAME STANDARDS	
	
END_ASM_DESCR

