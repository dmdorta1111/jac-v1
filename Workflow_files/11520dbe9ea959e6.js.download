(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,425749,e=>{"use strict";var t=e.i(847666),o=e.i(896032),n=e.i(590004);let s=(0,e.i(383206).default)("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);var r=e.i(563331);let a={damping:.7,stiffness:.05,mass:1.25},i=1e3/60,l=!1;function c(e,t){let o=(0,r.useCallback)(t=>(o.current=t,e(t)),t);return o}globalThis.document?.addEventListener("mousedown",()=>{l=!0}),globalThis.document?.addEventListener("mouseup",()=>{l=!1}),globalThis.document?.addEventListener("click",()=>{l=!1});let u=new Map;function d(...e){let t={...a},o=!1;for(let n of e){if("instant"===n){o=!0;continue}"object"==typeof n&&(o=!1,t.damping=n.damping??t.damping,t.stiffness=n.stiffness??t.stiffness,t.mass=n.mass??t.mass)}let n=JSON.stringify(t);return u.has(n)||u.set(n,Object.freeze(t)),o?"instant":u.get(n)}let m=(0,r.createContext)(null),h="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;function p({instance:e,children:o,resize:n,initial:s,mass:a,damping:u,stiffness:p,targetScrollTop:f,contextRef:g,...v}){let x=(0,r.useRef)(null),k=((e={})=>{let[t,o]=(0,r.useState)(!1),[n,s]=(0,r.useState)(!1!==e.initial),[a,u]=(0,r.useState)(!1),m=(0,r.useRef)(null);m.current=e;let h=(0,r.useCallback)(()=>{if(!l)return!1;let e=window.getSelection();if(!e||!e.rangeCount)return!1;let t=e.getRangeAt(0);return t.commonAncestorContainer.contains(j.current)||j.current?.contains(t.commonAncestorContainer)},[]),p=(0,r.useCallback)(e=>{g.isAtBottom=e,s(e)},[]),f=(0,r.useCallback)(e=>{g.escapedFromLock=e,o(e)},[]),g=(0,r.useMemo)(()=>{let o;return{escapedFromLock:t,isAtBottom:n,resizeDifference:0,accumulated:0,velocity:0,listeners:new Set,get scrollTop(){return j.current?.scrollTop??0},set scrollTop(scrollTop){j.current&&(j.current.scrollTop=scrollTop,g.ignoreScrollToTop=j.current.scrollTop)},get targetScrollTop(){if(!j.current||!w.current)return 0;return j.current.scrollHeight-1-j.current.clientHeight},get calculatedTargetScrollTop(){if(!j.current||!w.current)return 0;let{targetScrollTop:t}=this;if(!e.targetScrollTop)return t;if(o?.targetScrollTop===t)return o.calculatedScrollTop;let n=Math.max(Math.min(e.targetScrollTop(t,{scrollElement:j.current,contentElement:w.current}),t),0);return o={targetScrollTop:t,calculatedScrollTop:n},requestAnimationFrame(()=>{o=void 0}),n},get scrollDifference(){return this.calculatedTargetScrollTop-this.scrollTop},get isNearBottom(){return this.scrollDifference<=70}}},[]),v=(0,r.useCallback)((e={})=>{let t;"string"==typeof e&&(e={animation:e}),e.preserveScrollPosition||p(!0);let o=Date.now()+(Number(e.wait)||0),n=d(m.current,e.animation),{ignoreEscapes:s=!1}=e,r=g.calculatedTargetScrollTop;e.duration instanceof Promise?e.duration.finally(()=>{t=Date.now()}):t=o+(e.duration??0);let a=async()=>{let e=new Promise(requestAnimationFrame).then(()=>{if(!g.isAtBottom)return g.animation=void 0,!1;let{scrollTop:l}=g,c=performance.now(),u=(c-(g.lastTick??c))/i;if(g.animation||(g.animation={behavior:n,promise:e,ignoreEscapes:s}),g.animation.behavior===n&&(g.lastTick=c),h()||o>Date.now())return a();if(l<Math.min(r,g.calculatedTargetScrollTop)){if(g.animation?.behavior===n){if("instant"===n)return g.scrollTop=g.calculatedTargetScrollTop,a();g.velocity=(n.damping*g.velocity+n.stiffness*g.scrollDifference)/n.mass,g.accumulated+=g.velocity*u,g.scrollTop+=g.accumulated,g.scrollTop!==l&&(g.accumulated=0)}return a()}return t>Date.now()?(r=g.calculatedTargetScrollTop,a()):(g.animation=void 0,g.scrollTop<g.calculatedTargetScrollTop)?v({animation:d(m.current,m.current.resize),ignoreEscapes:s,duration:Math.max(0,t-Date.now())||void 0}):g.isAtBottom});return e.then(e=>(requestAnimationFrame(()=>{g.animation||(g.lastTick=void 0,g.velocity=0)}),e))};return(!0!==e.wait&&(g.animation=void 0),g.animation?.behavior===n)?g.animation.promise:a()},[p,h,g]),x=(0,r.useCallback)(()=>{f(!0),p(!1)},[f,p]),k=(0,r.useCallback)(({target:e})=>{if(e!==j.current)return;let{scrollTop:t,ignoreScrollToTop:o}=g,{lastScrollTop:n=t}=g;g.lastScrollTop=t,g.ignoreScrollToTop=void 0,o&&o>t&&(n=o),u(g.isNearBottom),setTimeout(()=>{if(g.resizeDifference||t===o)return;if(h()){f(!0),p(!1);return}let e=t>n,s=t<n;if(g.animation?.ignoreEscapes){g.scrollTop=n;return}s&&(f(!0),p(!1)),e&&f(!1),!g.escapedFromLock&&g.isNearBottom&&p(!0)},1)},[f,p,h,g]),y=(0,r.useCallback)(({target:e,deltaY:t})=>{let o=e;for(;!["scroll","auto"].includes(getComputedStyle(o).overflow);){if(!o.parentElement)return;o=o.parentElement}o===j.current&&t<0&&j.current.scrollHeight>j.current.clientHeight&&!g.animation?.ignoreEscapes&&(f(!0),p(!1))},[f,p,g]),j=c(e=>{j.current?.removeEventListener("scroll",k),j.current?.removeEventListener("wheel",y),e?.addEventListener("scroll",k,{passive:!0}),e?.addEventListener("wheel",y,{passive:!0})},[]),w=c(e=>{let t;g.resizeObserver?.disconnect(),e&&(g.resizeObserver=new ResizeObserver(([e])=>{let{height:o}=e.contentRect,n=o-(t??o);if(g.resizeDifference=n,g.scrollTop>g.targetScrollTop&&(g.scrollTop=g.targetScrollTop),u(g.isNearBottom),n>=0){let e=d(m.current,t?m.current.resize:m.current.initial);v({animation:e,wait:!0,preserveScrollPosition:!0,duration:"instant"===e?void 0:350})}else g.isNearBottom&&(f(!1),p(!0));t=o,requestAnimationFrame(()=>{setTimeout(()=>{g.resizeDifference===n&&(g.resizeDifference=0)},1)})}),g.resizeObserver?.observe(e))},[]);return{contentRef:w,scrollRef:j,scrollToBottom:v,stopScroll:x,isAtBottom:n||a,isNearBottom:a,escapedFromLock:t,state:g}})({mass:a,damping:u,stiffness:p,resize:n,initial:s,targetScrollTop:r.useCallback((e,t)=>{let o=M?.targetScrollTop??f;return o?.(e,t)??e},[f])}),{scrollRef:y,contentRef:j,scrollToBottom:w,stopScroll:b,isAtBottom:S,escapedFromLock:C,state:T}=e??k,M=(0,r.useMemo)(()=>({scrollToBottom:w,stopScroll:b,scrollRef:y,isAtBottom:S,escapedFromLock:C,contentRef:j,state:T,get targetScrollTop(){return x.current},set targetScrollTop(targetScrollTop){x.current=targetScrollTop}}),[w,S,j,y,b,C,T]);return(0,r.useImperativeHandle)(g,()=>M,[M]),h(()=>{y.current&&"visible"===getComputedStyle(y.current).overflow&&(y.current.style.overflow="auto")},[]),(0,t.jsx)(m.Provider,{value:M,children:(0,t.jsx)("div",{...v,children:"function"==typeof o?o(M):o})})}function f(){let e=(0,r.useContext)(m);if(!e)throw Error("use-stick-to-bottom component context must be used within a StickToBottom component");return e}(p||(p={})).Content=function({children:e,...o}){let n=f();return(0,t.jsx)("div",{ref:n.scrollRef,style:{height:"100%",width:"100%"},children:(0,t.jsx)("div",{...o,ref:n.contentRef,children:"function"==typeof e?e(n):e})})},e.s(["Conversation",0,({className:e,...o})=>(0,t.jsx)(p,{className:(0,n.cn)("relative flex-1 overflow-y-hidden",e),initial:"smooth",resize:"smooth",role:"log",...o}),"ConversationContent",0,({className:e,...o})=>(0,t.jsx)(p.Content,{className:(0,n.cn)("flex flex-col gap-8 p-4",e),...o}),"ConversationEmptyState",0,({className:e,title:o="No messages yet",description:s="Start a conversation to see messages here",icon:r,children:a,...i})=>(0,t.jsx)("div",{className:(0,n.cn)("flex size-full flex-col items-center justify-center gap-3 p-8 text-center",e),...i,children:a??(0,t.jsxs)(t.Fragment,{children:[r&&(0,t.jsx)("div",{className:"text-muted-foreground",children:r}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("h3",{className:"font-medium text-sm",children:o}),s&&(0,t.jsx)("p",{className:"text-muted-foreground text-sm",children:s})]})]})}),"ConversationScrollButton",0,({className:e,...a})=>{let{isAtBottom:i,scrollToBottom:l}=f(),c=(0,r.useCallback)(()=>{l()},[l]);return!i&&(0,t.jsx)(o.Button,{className:(0,n.cn)("absolute bottom-4 left-[50%] translate-x-[-50%] rounded-full",e),onClick:c,size:"icon",type:"button",variant:"outline",...a,children:(0,t.jsx)(s,{className:"size-4"})})}],425749)},187574,e=>{"use strict";var t=e.i(847666),o=e.i(584654),n=e.i(590004);let s=(0,e.i(383206).default)("book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);var r=e.i(599357);e.s(["Source",0,({href:e,title:o,children:n,...r})=>(0,t.jsx)("a",{className:"flex items-center gap-2",href:e,rel:"noreferrer",target:"_blank",...r,children:n??(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"block font-medium",children:o})]})}),"Sources",0,({className:e,...s})=>(0,t.jsx)(o.Collapsible,{className:(0,n.cn)("not-prose mb-4 text-primary text-xs",e),...s}),"SourcesContent",0,({className:e,...s})=>(0,t.jsx)(o.CollapsibleContent,{className:(0,n.cn)("mt-3 flex w-fit flex-col gap-2","data-[state=closed]:fade-out-0 data-[state=closed]:slide-out-to-top-2 data-[state=open]:slide-in-from-top-2 outline-none data-[state=closed]:animate-out data-[state=open]:animate-in",e),...s}),"SourcesTrigger",0,({className:e,count:s,children:a,...i})=>(0,t.jsx)(o.CollapsibleTrigger,{className:(0,n.cn)("flex items-center gap-2",e),...i,children:a??(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("p",{className:"font-medium",children:["Used ",s," sources"]}),(0,t.jsx)(r.ChevronDownIcon,{className:"h-4 w-4"})]})})],187574)},247776,e=>{"use strict";let t=(0,e.i(383206).default)("brain",[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]]);e.s(["BrainIcon",()=>t],247776)},914852,e=>{"use strict";var t=e.i(847666),o=e.i(393136),n=e.i(584654),s=e.i(590004),r=e.i(247776),a=e.i(599357),i=e.i(563331),l=e.i(209420),c=e.i(690476);let u=(0,i.createContext)(null),d=(0,i.memo)(({className:e,isStreaming:r=!1,open:a,defaultOpen:l=!0,onOpenChange:c,duration:d,children:m,...h})=>{let[p,f]=(0,o.useControllableState)({prop:a,defaultProp:l,onChange:c}),[g,v]=(0,o.useControllableState)({prop:d,defaultProp:void 0}),[x,k]=(0,i.useState)(!1),[y,j]=(0,i.useState)(null);return(0,i.useEffect)(()=>{r?null===y&&j(Date.now()):null!==y&&(v(Math.ceil((Date.now()-y)/1e3)),j(null))},[r,y,v]),(0,i.useEffect)(()=>{if(l&&!r&&p&&!x){let e=setTimeout(()=>{f(!1),k(!0)},1e3);return()=>clearTimeout(e)}},[r,p,l,f,x]),(0,t.jsx)(u.Provider,{value:{isStreaming:r,isOpen:p,setIsOpen:f,duration:g},children:(0,t.jsx)(n.Collapsible,{className:(0,s.cn)("not-prose mb-4",e),onOpenChange:e=>{f(e)},open:p,...h,children:m})})}),m=(0,i.memo)(({className:e,children:o,...l})=>{let{isStreaming:d,isOpen:m,duration:h}=(()=>{let e=(0,i.useContext)(u);if(!e)throw Error("Reasoning components must be used within Reasoning");return e})();return(0,t.jsx)(n.CollapsibleTrigger,{className:(0,s.cn)("flex w-full items-center gap-2 text-muted-foreground text-sm transition-colors hover:text-foreground",e),...l,children:o??(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.BrainIcon,{className:"size-4"}),d||0===h?(0,t.jsx)(c.Shimmer,{duration:1,children:"Thinking..."}):void 0===h?(0,t.jsx)("p",{children:"Thought for a few seconds"}):(0,t.jsxs)("p",{children:["Thought for ",h," seconds"]}),(0,t.jsx)(a.ChevronDownIcon,{className:(0,s.cn)("size-4 transition-transform",m?"rotate-180":"rotate-0")})]})})}),h=(0,i.memo)(({className:e,children:o,...r})=>(0,t.jsx)(n.CollapsibleContent,{className:(0,s.cn)("mt-4 text-sm","data-[state=closed]:fade-out-0 data-[state=closed]:slide-out-to-top-2 data-[state=open]:slide-in-from-top-2 text-muted-foreground outline-none data-[state=closed]:animate-out data-[state=open]:animate-in",e),...r,children:(0,t.jsx)(l.Streamdown,{...r,children:o})}));d.displayName="Reasoning",m.displayName="ReasoningTrigger",h.displayName="ReasoningContent",e.s(["Reasoning",0,d,"ReasoningContent",0,h,"ReasoningTrigger",0,m])},139022,851199,880625,e=>{"use strict";var t=e.i(383206);let o=(0,t.default)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);e.s(["CameraIcon",()=>o],139022);let n=(0,t.default)("file",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]]);e.s(["FileIcon",()=>n],851199);let s=(0,t.default)("screen-share",[["path",{d:"M13 3H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-3",key:"i8wdob"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"m17 8 5-5",key:"fqif7o"}],["path",{d:"M17 3h5v5",key:"1o3tu8"}]]);e.s(["ScreenShareIcon",()=>s],880625)},115104,e=>{"use strict";let t=(0,e.i(383206).default)("audio-waveform",[["path",{d:"M2 13a2 2 0 0 0 2-2V7a2 2 0 0 1 4 0v13a2 2 0 0 0 4 0V4a2 2 0 0 1 4 0v13a2 2 0 0 0 4 0v-4a2 2 0 0 1 2-2",key:"57tc96"}]]);e.s(["AudioWaveformIcon",()=>t],115104)},139588,e=>{"use strict";var t=e.i(847666),o=e.i(869828),n=e.i(425749),s=e.i(372805),r=e.i(532740),a=e.i(914852),i=e.i(187574),l=e.i(399671),c=e.i(590004),u=e.i(225250),d=e.i(115104),m=e.i(139022),h=e.i(599357),p=e.i(851199),f=e.i(665123);let g=(0,e.i(383206).default)("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);var v=e.i(528172),x=e.i(880625),k=e.i(506465),y=e.i(511121),j=e.i(563331),w=e.i(995403);let b=[{id:"grok-3",name:"Grok-3",chef:"xAI",chefSlug:"xai",providers:["xai"]},{id:"grok-2-1212",name:"Grok-2-1212",chef:"xAI",chefSlug:"xai",providers:["xai"]}],S=[{key:(0,y.nanoid)(),from:"user",versions:[{id:(0,y.nanoid)(),content:"Can you explain how to use React hooks effectively?"}]},{key:(0,y.nanoid)(),from:"assistant",sources:[{href:"https://react.dev/reference/react",title:"React Documentation"},{href:"https://react.dev/reference/react-dom",title:"React DOM Documentation"}],tools:[{name:"mcp",description:"Searching React documentation",status:"input-available",parameters:{query:"React hooks best practices",source:"react.dev"},result:`{
  "query": "React hooks best practices",
  "results": [
    {
      "title": "Rules of Hooks",
      "url": "https://react.dev/warnings/invalid-hook-call-warning",
      "snippet": "Hooks must be called at the top level of your React function components or custom hooks. Don't call hooks inside loops, conditions, or nested functions."
    },
    {
      "title": "useState Hook",
      "url": "https://react.dev/reference/react/useState",
      "snippet": "useState is a React Hook that lets you add state to your function components. It returns an array with two values: the current state and a function to update it."
    },
    {
      "title": "useEffect Hook",
      "url": "https://react.dev/reference/react/useEffect",
      "snippet": "useEffect lets you synchronize a component with external systems. It runs after render and can be used to perform side effects like data fetching."
    }
  ]
}`,error:void 0}],versions:[{id:(0,y.nanoid)(),content:`# React Hooks Best Practices

React hooks are a powerful feature that let you use state and other React features without writing classes. Here are some tips for using them effectively:

## Rules of Hooks

1. **Only call hooks at the top level** of your component or custom hooks
2. **Don't call hooks inside loops, conditions, or nested functions**

## Common Hooks

- **useState**: For local component state
- **useEffect**: For side effects like data fetching
- **useContext**: For consuming context
- **useReducer**: For complex state logic
- **useCallback**: For memoizing functions
- **useMemo**: For memoizing values

## Example of useState and useEffect

\`\`\`jsx
function ProfilePage({ userId }) {
  const [user, setUser] = useState(null);
  
  useEffect(() => {
    // This runs after render and when userId changes
    fetchUser(userId).then(userData => {
      setUser(userData);
    });
  }, [userId]);
  
  return user ? <Profile user={user} /> : <Loading />;
}
\`\`\`

Would you like me to explain any specific hook in more detail?`}]},{key:(0,y.nanoid)(),from:"user",versions:[{id:(0,y.nanoid)(),content:"Yes, could you explain useCallback and useMemo in more detail? When should I use one over the other?"},{id:(0,y.nanoid)(),content:"I'm particularly interested in understanding the performance implications of useCallback and useMemo. Could you break down when each is most appropriate?"},{id:(0,y.nanoid)(),content:"Thanks for the overview! Could you dive deeper into the specific use cases where useCallback and useMemo make the biggest difference in React applications?"}]},{key:(0,y.nanoid)(),from:"assistant",reasoning:{content:`The user is asking for a detailed explanation of useCallback and useMemo. I should provide a clear and concise explanation of each hook's purpose and how they differ.
      
The useCallback hook is used to memoize functions to prevent unnecessary re-renders of child components that receive functions as props.

The useMemo hook is used to memoize values to avoid expensive recalculations on every render.

Both hooks help with performance optimization, but they serve different purposes.`,duration:10},versions:[{id:(0,y.nanoid)(),content:`## useCallback vs useMemo

Both hooks help with **performance optimization**, but they serve _different purposes_:

### useCallback

\`useCallback\` memoizes __functions__ to prevent unnecessary re-renders of child components that receive functions as props.

\`\`\`jsx
// Without useCallback - a new function is created on every render
const handleClick = () => {
  console.log(count);
};

// With useCallback - the function is only recreated when dependencies change
const handleClick = useCallback(() => {
  console.log(count);
}, [count]);
\`\`\`

### useMemo

\`useMemo\` memoizes *values* to avoid expensive recalculations on every render.

\`\`\`jsx
// Without useMemo - expensive calculation runs on every render
const sortedList = expensiveSort(items);

// With useMemo - calculation only runs when items change
const sortedList = useMemo(() => expensiveSort(items), [items]);
\`\`\`

### When to use which?

- Use **useCallback** when:
  - Passing callbacks to optimized child components that rely on reference equality
  - Working with event handlers that you pass to child components

- Use **useMemo** when:
  - You have computationally expensive calculations
  - You want to avoid recreating objects that are used as dependencies for other hooks

### Performance Note

Don't overuse these hooks! They come with their own overhead. Only use them when you have identified a genuine performance issue.

### ~~Legacy Patterns~~

Remember that these ~~outdated approaches~~ should be avoided:
- ~~Class components for simple state~~ - Use \`useState\` instead
- ~~Manual event listener cleanup~~ - Let \`useEffect\` handle it`}]}],C=["That's a great question! Let me help you understand this concept better. The key thing to remember is that proper implementation requires careful consideration of the underlying principles and best practices in the field.","I'd be happy to explain this topic in detail. From my understanding, there are several important factors to consider when approaching this problem. Let me break it down step by step for you.","This is an interesting topic that comes up frequently. The solution typically involves understanding the core concepts and applying them in the right context. Here's what I recommend...","Great choice of topic! This is something that many developers encounter. The approach I'd suggest is to start with the fundamentals and then build up to more complex scenarios.","That's definitely worth exploring. From what I can see, the best way to handle this is to consider both the theoretical aspects and practical implementation details."];e.s(["default",0,()=>{let[e,y]=(0,j.useState)(b[0].id),[T,M]=(0,j.useState)(!1),[N,I]=(0,j.useState)(""),[z,R]=(0,j.useState)(!1),[D,P]=(0,j.useState)(!1),[B,E]=(0,j.useState)("ready"),[A,L]=(0,j.useState)([]),[F,H]=(0,j.useState)(null),q=b.find(t=>t.id===e),O=async(e,t,o)=>{let n=o.split(" "),s="";for(let t=0;t<n.length;t++)s+=(t>0?" ":"")+n[t],L(t=>t.map(t=>t.key===e?{...t,reasoning:t.reasoning?{...t.reasoning,content:s}:void 0}:t)),await new Promise(e=>setTimeout(e,30*Math.random()+20));L(t=>t.map(t=>t.key===e?{...t,isReasoningComplete:!0,isReasoningStreaming:!1}:t))},U=async(e,t,o)=>{let n=o.split(" "),s="";for(let o=0;o<n.length;o++)s+=(o>0?" ":"")+n[o],L(o=>o.map(o=>o.key===e?{...o,versions:o.versions.map(e=>e.id===t?{...e,content:s}:e)}:o)),await new Promise(e=>setTimeout(e,50*Math.random()+25));L(t=>t.map(t=>t.key===e?{...t,isContentComplete:!0}:t))},W=(0,j.useCallback)(async(e,t,o,n)=>{E("streaming"),H(t),n&&(await O(e,t,n.content),await new Promise(e=>setTimeout(e,500))),await U(e,t,o),E("ready"),H(null)},[]),_=(0,j.useCallback)(async e=>{if("user"===e.from)return void L(t=>[...t,e]);let t={...e,versions:e.versions.map(e=>({...e,content:""})),reasoning:e.reasoning?{...e.reasoning,content:""}:void 0,isReasoningComplete:!1,isContentComplete:!1,isReasoningStreaming:!!e.reasoning};L(e=>[...e,t]);let o=e.versions[0];o&&await W(t.key,o.id,o.content,e.reasoning)},[W]),G=(0,j.useCallback)(e=>{let t={key:`user-${Date.now()}`,from:"user",versions:[{id:`user-${Date.now()}`,content:e}]};L(e=>[...e,t]),setTimeout(()=>{let e=`assistant-${Date.now()}`,t=`version-${Date.now()}`,o=C[Math.floor(Math.random()*C.length)],n=Math.random()>.5?{content:"Let me think about this question carefully. I need to provide a comprehensive and helpful response that addresses the user's needs while being clear and concise.",duration:3}:void 0,s={key:e,from:"assistant",versions:[{id:t,content:""}],reasoning:n?{...n,content:""}:void 0,isReasoningComplete:!1,isContentComplete:!1,isReasoningStreaming:!!n};L(e=>[...e,s]),W(e,t,o,n)},500)},[W]);(0,j.useEffect)(()=>{L([]);let e=async()=>{for(let e=0;e<S.length;e++)await _(S[e]),e<S.length-1&&await new Promise(e=>setTimeout(e,1e3))},t=setTimeout(()=>{e()},100);return()=>{clearTimeout(t),L([])}},[_]);let V=e=>{w.toast.success("File action",{description:e})};return(0,t.jsxs)("div",{className:"relative flex size-full flex-col divide-y overflow-hidden bg-secondary",children:[(0,t.jsxs)(n.Conversation,{children:[(0,t.jsx)(n.ConversationContent,{children:A.map(({versions:e,...n})=>(0,t.jsxs)(o.MessageBranch,{defaultBranch:0,children:[(0,t.jsx)(o.MessageBranchContent,{children:e.map(e=>(0,t.jsx)(o.Message,{from:n.from,children:(0,t.jsxs)("div",{children:[n.sources?.length&&(0,t.jsxs)(i.Sources,{children:[(0,t.jsx)(i.SourcesTrigger,{count:n.sources.length}),(0,t.jsx)(i.SourcesContent,{children:n.sources.map(e=>(0,t.jsx)(i.Source,{href:e.href,title:e.title},e.href))})]}),n.reasoning&&(0,t.jsxs)(a.Reasoning,{duration:n.reasoning.duration,isStreaming:n.isReasoningStreaming,children:[(0,t.jsx)(a.ReasoningTrigger,{}),(0,t.jsx)(a.ReasoningContent,{children:n.reasoning.content})]}),("user"===n.from||n.isReasoningComplete||!n.reasoning)&&(0,t.jsx)(o.MessageContent,{className:(0,c.cn)("group-[.is-user]:rounded-[24px] group-[.is-user]:rounded-br-sm group-[.is-user]:border group-[.is-user]:bg-background group-[.is-user]:text-foreground","group-[.is-assistant]:bg-transparent group-[.is-assistant]:p-0 group-[.is-assistant]:text-foreground"),children:(0,t.jsx)(o.MessageResponse,{children:e.content})})]})},`${n.key}-${e.id}`))}),e.length>1&&(0,t.jsxs)(o.MessageBranchSelector,{className:"px-0",from:n.from,children:[(0,t.jsx)(o.MessageBranchPrevious,{}),(0,t.jsx)(o.MessageBranchPage,{}),(0,t.jsx)(o.MessageBranchNext,{})]})]},n.key))}),(0,t.jsx)(n.ConversationScrollButton,{})]}),(0,t.jsx)("div",{className:"grid shrink-0 gap-4 p-4",children:(0,t.jsxs)(s.PromptInput,{className:"divide-y-0 rounded-[28px]",onSubmit:e=>{let t=!!e.text,o=!!e.files?.length;(t||o)&&(E("submitted"),G(e.text||"Sent with attachments"),I(""))},children:[(0,t.jsx)(s.PromptInputTextarea,{className:"px-5 md:text-base",onChange:e=>I(e.target.value),placeholder:"How can Grok help?",value:N}),(0,t.jsxs)(s.PromptInputFooter,{className:"p-2.5",children:[(0,t.jsxs)(s.PromptInputTools,{children:[(0,t.jsxs)(l.DropdownMenu,{children:[(0,t.jsx)(l.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsxs)(s.PromptInputButton,{className:"!rounded-full border text-foreground",variant:"outline",children:[(0,t.jsx)(v.PaperclipIcon,{size:16}),(0,t.jsx)("span",{className:"sr-only",children:"Attach"})]})}),(0,t.jsxs)(l.DropdownMenuContent,{align:"start",children:[(0,t.jsxs)(l.DropdownMenuItem,{onClick:()=>V("upload-file"),children:[(0,t.jsx)(p.FileIcon,{className:"mr-2",size:16}),"Upload file"]}),(0,t.jsxs)(l.DropdownMenuItem,{onClick:()=>V("upload-photo"),children:[(0,t.jsx)(f.ImageIcon,{className:"mr-2",size:16}),"Upload photo"]}),(0,t.jsxs)(l.DropdownMenuItem,{onClick:()=>V("take-screenshot"),children:[(0,t.jsx)(x.ScreenShareIcon,{className:"mr-2",size:16}),"Take screenshot"]}),(0,t.jsxs)(l.DropdownMenuItem,{onClick:()=>V("take-photo"),children:[(0,t.jsx)(m.CameraIcon,{className:"mr-2",size:16}),"Take photo"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center rounded-full border",children:[(0,t.jsxs)(s.PromptInputButton,{className:"!rounded-l-full text-foreground",onClick:()=>R(!z),variant:"ghost",children:[(0,t.jsx)(k.SearchIcon,{size:16}),(0,t.jsx)("span",{children:"DeepSearch"})]}),(0,t.jsx)("div",{className:"h-full w-px bg-border"}),(0,t.jsx)(s.PromptInputButton,{className:"rounded-r-full",size:"icon-sm",variant:"ghost",children:(0,t.jsx)(h.ChevronDownIcon,{size:16})})]}),(0,t.jsxs)(s.PromptInputButton,{className:"!rounded-full text-foreground",variant:"outline",children:[(0,t.jsx)(g,{size:16}),(0,t.jsx)("span",{children:"Think"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(r.ModelSelector,{onOpenChange:M,open:T,children:[(0,t.jsx)(r.ModelSelectorTrigger,{asChild:!0,children:(0,t.jsxs)(s.PromptInputButton,{children:[q?.chefSlug&&(0,t.jsx)(r.ModelSelectorLogo,{provider:q.chefSlug}),q?.name&&(0,t.jsx)(r.ModelSelectorName,{children:q.name})]})}),(0,t.jsxs)(r.ModelSelectorContent,{children:[(0,t.jsx)(r.ModelSelectorInput,{placeholder:"Search models..."}),(0,t.jsxs)(r.ModelSelectorList,{children:[(0,t.jsx)(r.ModelSelectorEmpty,{children:"No models found."}),(0,t.jsx)(r.ModelSelectorGroup,{heading:"xAI",children:b.map(o=>(0,t.jsxs)(r.ModelSelectorItem,{onSelect:()=>{y(o.id),M(!1)},value:o.id,children:[(0,t.jsx)(r.ModelSelectorLogo,{provider:o.chefSlug}),(0,t.jsx)(r.ModelSelectorName,{children:o.name}),(0,t.jsx)(r.ModelSelectorLogoGroup,{children:o.providers.map(e=>(0,t.jsx)(r.ModelSelectorLogo,{provider:e},e))}),e===o.id?(0,t.jsx)(u.CheckIcon,{className:"ml-auto size-4"}):(0,t.jsx)("div",{className:"ml-auto size-4"})]},o.id))})]})]})]}),(0,t.jsxs)(s.PromptInputButton,{className:"rounded-full bg-foreground font-medium text-background",onClick:()=>P(!D),variant:"default",children:[(0,t.jsx)(d.AudioWaveformIcon,{size:16}),(0,t.jsx)("span",{className:"sr-only",children:"Voice"})]})]})]})]})})]})}],139588)}]);